@model ObjectModel.Market.OMCoreObject

<form>
    <input type="hidden" name="Id" value="@Model.Id" />
    <ul id="ls_panelbar" class="panelbar">
        <li id="Section_Object" data-expand>
            <span>Основной блок</span>
            <div>
                <div class="form-horizontal col-sm-12">
                    <div class="form-group"></div>
                    <div class="form-group">

                        <div class="col-sm-2">
                            <label class="control-label">Источник данных</label>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@Model.Market" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Тип сделки</label>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@Model.DealType" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Дата сделки</label>
                        </div>
                        <div class="col-sm-1">
                            <input class="k-textbox" readonly value="@Model.ParserTime.Value.ToString("yyyy.MM.dd")>" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Адрес</label>
                        </div>
                        <div class="col-sm-10">
                            <input class="k-textbox" readonly value="@Model.Address" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Метро</label>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@Model.Metro" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Площадь</label>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@Model.Area" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Описание</label>
                        </div>
                        <div class="col-sm-10">
                            <input class="k-textbox" readonly value="@Model.Description" />
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <li id="Section_RD" data-expand>
            <span>Основание использования</span>
            <div>
                <div class="form-horizontal col-sm-12">
                    <div class="form-group"></div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Вид права</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.Object.RightType*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">@*@Html.CustomLabelFor(m => m.ObjectState.State)*@</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.State*@" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">@*@Html.CustomLabelFor(m => m.ObjectRd.Type)*@</label>
                        </div>
                        <div class="col-sm-4">
                            <div class="row">
                                <div class="col-sm-9">
                                    <input class="k-textbox" readonly value="@*@Model.ObjectRd.Type*@" />
                                </div>
                                <div class="col-sm-3">
                                    <label class="control-label">@*@Html.CustomLabelFor(m => m.ObjectRd.Number)*@</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@*@Model.ObjectRd.Number*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">@*@Html.CustomLabelFor(m => m.ObjectRd.Date)*@</label>
                        </div>
                        <div class="col-sm-2">
                            <input class="k-textbox" readonly value="@*@Model.ObjectRd.Date?.ToString("dd.MM.yyyy")*@" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">@*@Html.CustomLabelFor(m => m.ObjectRd.Title)*@</label>
                        </div>
                        <div class="col-sm-10">
                            <input class="k-textbox" readonly value="@*@Model.ObjectRd.Title*@" />
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <li id="Section_State" data-expand>
            <span>Сведения по стоимости и амортизации</span>
            <div>
                <div class="form-horizontal col-sm-12">
                    <div class="form-group"></div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Срок полезного использования, мес</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.UseMonths*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Амортизационная группа</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.AmortisationGroup*@" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Первоначальная стоимость, руб.</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.CostInitial*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Амортизация, %</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.AmortisationPercent*@" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Остаточная стоимость, руб.</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.CostRest*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Амортизация, руб.</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.AmortisationSum*@" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label">Причина переоценки</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.ReevaluationReason*@" />
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label">Дата переоценки</label>
                        </div>
                        <div class="col-sm-4">
                            <input class="k-textbox" readonly value="@*@Model.ObjectState.ReevaluationDate?.ToString("dd.MM.yyyy")*@" />
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <li id="Section_Subject" data-expand>
            <span>Сведения о предприятиях</span>
            <div>
                <div class="form-horizontal col-sm-12">
                    <div class="form-group"></div>
                    <div id="gu_list">
                    </div>
                    <div class="form-group"></div>
                </div>
            </div>
        </li>
    </ul>
    <div class="static-nav">
        <nav id="navigation-menu">
            <a href="#Section_Object">Объект @*@Model.Object.RsmNum*@</a>
            <a href="#Section_RD">Основание использования</a>
            <a href="#Section_State">Сведения по стоимости и амортизации</a>
            <a href="#Section_Subject">Сведения о предприятиях</a>
        </nav>
    </div>
</form>
<script>
    $(function() {
        var panelbar = $('#ls_panelbar').kendoPanelBar().data('kendoPanelBar');
        panelbar.expand('li[data-expand]');

        $("#navigation-menu a").mPageScroll2id({
            highlightSelector:"#navigation-menu a"
        });

        loadGuList(@Model.Id);

        function loadGuList($id) {

            if ($id) {
                $.ajax({
                type: 'GET',
                    url: '@Url.Action("GuList", "MovableProperty")',
                    data: { id: $id  },
                    success: function(data) {
                        if (data) {
                            $('#gu_list').append(data);
                            $('#guPanelbar').kendoPanelBar().data('kendoPanelBar');
                        }
                    }
                });
            }
        }
    });
</script>


