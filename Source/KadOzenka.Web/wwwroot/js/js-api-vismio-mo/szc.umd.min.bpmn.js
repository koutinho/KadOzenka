(("undefined"!==typeof self?self:this)["webpackJsonpszc"]=("undefined"!==typeof self?self:this)["webpackJsonpszc"]||[]).push([[5],{"4e64":function(t,n,e){},7236:function(t,n,e){"use strict";var i=e("4e64"),o=e.n(i);o.a},"9a86":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"container",staticClass:"bpmn-container",class:t.containerClass,style:t.containerStyle},[t.expendButton?e("DxButton",{staticClass:"expand-button",attrs:{hint:"Развернуть диаграмму",icon:"fas fa-expand-arrows-alt"},on:{click:function(n){return t.expandDiagram(!0)}}}):t._e(),t.collapseButton?e("DxButton",{staticClass:"collapse-button",attrs:{hint:"Свернуть диаграмму",icon:"fas fa-compress-arrows-alt"},on:{click:function(n){return t.expandDiagram(!1)}}}):t._e(),t.options.saveImg?e("DxButton",{ref:"saveImgButton",style:t.saveImgButtonStyle,attrs:{hint:"Сохранить изображение",icon:"image"},on:{click:function(n){return t.saveImage()}}}):t._e(),t.options.saveImg?e("a",{ref:"saveImgLink",staticStyle:{}}):t._e(),t.options.needPrint?e("DxButton",{ref:"printButton",style:t.printButtonStyle,attrs:{hint:"Печать изображения",icon:"print"},on:{click:function(n){return t.printImage()}}}):t._e(),t.options.needReset?e("DxButton",{ref:"resetButton",style:t.resetButtonStyle,attrs:{hint:"Очистить",icon:"fas fa-sync"},on:{click:function(n){return t.reset()}}}):t._e(),e("DxButton",{staticClass:"scale-button",style:t.scaleResetButtonStyle,attrs:{hint:"Сбросить масштаб",icon:"fas fa-sync-alt",width:"30",height:"30"},on:{click:function(n){return t.resetScale()}}}),e("DxButton",{staticClass:"scale-button",style:t.scalePlusButtonStyle,attrs:{hint:"Увеличить масштаб",icon:"fas fa-plus",width:"30",height:"30"},on:{click:function(n){return t.zoomScroll.stepZoom(1)}}}),e("DxButton",{staticClass:"scale-button",style:t.scaleMinusButtonStyle,attrs:{hint:"Сбросить масштаб",icon:"fas fa-minus",width:"30",height:"30"},on:{click:function(n){return t.zoomScroll.stepZoom(-1)}}})],1)},o=[],a=(e("7f7f"),e("ac6a"),e("28a5"),e("96cf"),e("1da1")),s=e("7024"),r=e("1b0d"),c=e("3bf7"),p=e.n(c),l=e("6191"),u=e.n(l),d=e("cbd3");e("a481");function m(t){var n='<?xml version="1.0" encoding="UTF-8"?>\n  <bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">\n    <bpmn:process id="Process_1" isExecutable="false">\n      <bpmn:startEvent id="StartEvent_1" />\n    </bpmn:process>\n    <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n      <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1">\n        <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n          <dc:Bounds x="173" y="102" width="36" height="36" />\n        </bpmndi:BPMNShape>\n      </bpmndi:BPMNPlane>\n    </bpmndi:BPMNDiagram>\n  </bpmn:definitions>';return"empty"===t?n='<?xml version="1.0" encoding="UTF-8"?>\n    <bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">\n      <bpmn:process id="Process_1" />\n      <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1" />\n      </bpmndi:BPMNDiagram>\n    </bpmn:definitions>':"role"===t&&(n='<?xml version="1.0" encoding="UTF-8"?>\n    <bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn">\n      <bpmn:collaboration id="Collaboration_0t8psrz">\n        <bpmn:participant id="Participant_0hdea04" name="role1" processRef="Process_1" />\n      </bpmn:collaboration>\n      <bpmn:process id="Process_1" isExecutable="false">\n        <bpmn:startEvent id="StartEvent_1" />\n      </bpmn:process>\n      <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0t8psrz">\n          <bpmndi:BPMNShape id="Participant_0hdea04_di" bpmnElement="Participant_0hdea04">\n            <dc:Bounds x="88" y="82" width="600" height="250" />\n          </bpmndi:BPMNShape>\n          <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n            <dc:Bounds x="173" y="102" width="36" height="36" />\n            <bpmndi:BPMNLabel>\n              <dc:Bounds x="146" y="138" width="90" height="20" />\n            </bpmndi:BPMNLabel>\n          </bpmndi:BPMNShape>\n        </bpmndi:BPMNPlane>\n      </bpmndi:BPMNDiagram>\n    </bpmn:definitions>'),n}function h(){var t={"Activate the hand tool":"Активировать инструмент Рука","Activate the lasso tool":"Активировать инструмент Выделение","Activate the global connect tool":"Активировать инструмент Глобальные связи","Activate the create/remove space tool":"Активировать инструмент Создать/Удалить пространство","Ad-hoc":"Спонтанный (Ad-hoc)","Add Lane above":"Добавить полосу сверху","Divide into two Lanes":"Разделить на две полосы","Divide into three Lanes":"Разделить на три полосы","Add Lane below":"Добавить полосу снизу","Append compensation activity":"Добавить компенсацию","Append {type}":"Добавить {type}","Append StartEvent":"Добавить Стартовое Событие","Append EndEvent":"Добавить Конечное Событие","Append Intermediate/Boundary Event":"Добавить Промежуточное/Граничное Событие","Append Gateway":"Добавить Шлюз","Append Task":"Добавить Задачу","Create {type}":"Добавить {type}","Create expanded SubProcess":"Создать Свернутый подпроцесс","Create StartEvent":"Создать Стартовое Событие","Create EndEvent":"Создать Конечное Событие","Create Intermediate/Boundary Event":"Создать Промежуточное/Граничное Событие","Create Gateway":"Создать Шлюз","Create Task":"Создать Задачу","Create DataObjectReference":"Создать Объект данных","Create DataStoreReference":"Создать Хранилище данных","Create Pool/Participant":"Создать Пул(Набор)/Участника","Create Group":"Создать Группу","Collapsed Pool":"Свернутый Пул(Набор)","Expanded Pool":"Развернутый Пул(Набор)","Connect using Sequence/MessageFlow or Association":"Подключить Связи/Поток сообщений или Ассоциация","Connect using Association":"Подключить Ассоциацию","Connect using DataInputAssociation":"Подключить Ассоциацию входных данных","Change type":"Изменить тип","Call Activity":"Звонок","Event Sub Process":"Подпроцесс события","Event based Gateway":"Шлюз События","Exclusive Gateway":"Исключающий Шлюз","Complex Gateway":"Сложный Шлюз","Parallel Gateway":"Параллельный Шлюз","Inclusive Gateway":"Включающий Шлюз","Parallel Multi Instance":"Цикл: несколько параллельных экземпляров","Sequential Multi Instance":"Цикл: несколько последовательных экземпляров",Remove:"Удалить","Start Event":"Стартовое Событие","End Event":"Конечное Событие","Intermediate Throw Event":"Промежуточное Событие","Message Start Event":"Стартовое Событие Сообщение","Timer Start Event":"Стартовое Событие Таймер","Conditional Start Event":"Стартовое Событие Условие","Signal Start Event":"Стартовое Событие Сигнал","Error Start Event":"Стартовое Событие Ошибка","Escalation Start Event":"Стартовое Событие Эскалация","Compensation Start Event":"Стартовое Событие Компенсация","Message Start Event (non-interrupting)":"Стартовое Событие Сообщение (без прерывания)","Timer Start Event (non-interrupting)":"Стартовое Событие Таймер (без прерывания)","Conditional Start Event (non-interrupting)":"Стартовое Событие Условие (без прерывания)","Signal Start Event (non-interrupting)":"Стартовое Событие Сигнал (без прерывания)","Escalation Start Event (non-interrupting)":"Стартовое Событие Эскалация (без прерывания)","Message Intermediate Catch Event":"Промежуточное Событие Сообщение","Message Intermediate Throw Event":"Промежуточное Событие Сообщение (генерация)","Timer Intermediate Catch Event":"Промежуточное Событие Таймер","Escalation Intermediate Throw Event":"Промежуточное Событие Эскалация (генерация)","Conditional Intermediate Catch Event":"Промежуточное Событие Условие","Link Intermediate Catch Event":"Промежуточное Событие Ссылка","Link Intermediate Throw Event":"Промежуточное Событие Ссылка (генерация)","Compensation Intermediate Throw Event":"Промежуточное Событие Компенсация (генерация)","Signal Intermediate Catch Event":"Промежуточное Событие Сигнал","Signal Intermediate Throw Event":"Промежуточное Событие Сигнал (генерация)","Message End Event":"Конечное Событие Сообщение","Escalation End Event":"Конечное Событие Эскалация","Error End Event":"Конечное Событие Ошибка","Cancel End Event":"Конечное Событие Отмена","Compensation End Event":"Конечное Событие Компенсация","Signal End Event":"Конечное Событие Сигнал","Terminate End Event":"Конечное Событие Завершение","Message Boundary Event":"Граничное Событие Сообщение","Message Boundary Event (non-interrupting)":"Граничное Событие Сообщение (без прерывания)","Timer Boundary Event":"Граничное Событие Таймер","Timer Boundary Event (non-interrupting)":"Граничное Событие Таймер (без прерывания)","Escalation Boundary Event":"Граничное Событие Эскалация","Escalation Boundary Event (non-interrupting)":"Граничное Событие Эскалация (без прерывания)","Conditional Boundary Event":"Граничное Событие Условие","Conditional Boundary Event (non-interrupting)":"Граничное Событие Условие (без прерывания)","Error Boundary Event":"Граничное Событие Ошибка","Cancel Boundary Event":"Граничное Событие Отмена","Signal Boundary Event":"Граничное Событие Сигнал","Signal Boundary Event (non-interrupting)":"Граничное Событие Сигнал (без прерывания)","Compensation Boundary Event":"Граничное Событие Компенсация",Loop:"Цикл",Task:"Задача","Send Task":"Отправка сообщения","Receive Task":"Ожидание сообщения","User Task":"Пользовательская Задача","Manual Task":"Ручное выполнение","Business Rule Task":"Бизнес-правило","Service Task":"Служба","Script Task":"Сценарий","Sub Process":"Подпроцесс","Sub Process (collapsed)":"Подпроцесс (свернутый)","Sub Process (expanded)":"Подпроцесс (развернутый)",Transaction:"Транзакция","flow elements must be children of pools/participants":"Данный элемент должен быть дочерним для Пула/Участника"},n={Task:"Задачу",ReceiveTask:"Ожидание сообщения",TextAnnotation:"Примечание",StartEvent:"Стартовое Событие",EndEvent:"Конечное Событие",IntermediateThrowEvent:"Промежуточное Событие",IntermediateCatchEvent:"Промежуточное Событие",ExclusiveGateway:"Исключающий Шлюз",DataObjectReference:"Объект данных",DataStoreReference:"Хранилище данных"};return{translate:["value",function(e,i){return i=i||{},e=t[e]||e,e.replace(/{([^}]+)}/g,(function(t,e){return n[i[e]]||i[e]||"{"+e+"}"}))}]}}var v=e("1284"),g=e("60ba"),b=(e("f910"),e("1e9e"),e("ce9a"),"fixed"),f="absolute",x="relative",w=["5px","35px","65px"],E="5px",B="5px",S=["3px","33px","63px"],y=[1,2001],P="px",I="bpmn-border ",M="diagram-expand",D=["start","none"],C="overlays",k="zoomScroll",_="canvas",N="fit-viewport",T="commandStack.changed",O=["element.contextmenu","element.click","element.dblclick","element.hover","element.out","element.mousedown","element.mouseup"],L="eventBus",A=["<bpmn:process","<bpmn:collaboration"],z='bpmnElement="',R=' bioc:stroke="#000000" bioc:fill="#add062"',j='<?xml version="1.0" encoding="UTF-8"?>\n<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.6.0-nightly">',J=["Сохранить рисунок как:","BPMNdiagram"],G="data:application/bpmn20-xml;charset=UTF-8,",X=["href","download"],$=".svg",V=["Во время сохранения результата возникла ошибка.","Во время загрузки диаграммы возникла ошибка.","Во время получения результата возникла ошибка"," %s","warning"],F=["<dc:Bounds","/>"," width="],U={name:"Bpmn",mixins:[v["a"],g["a"]],components:{DxButton:u.a},data:function(){return{bpmnJS:null,container:null,parentElement:null,customTranslate:null,canvas:null,zoomScroll:null,xml:"",expanded:!1,saveImgButton:null,saveImgLink:null,printButton:null,valueChanged:!1}},computed:{containerHeight:function(){if(this.expanded)return document.body.clientHeight+P;var t=this.options.height||800;return isNaN(t)?t:t+P},zIndex:function(){return this.expanded?y[1]:y[0]},buttonsPosition:function(){return this.expanded?b:f},containerPosition:function(){return this.expanded?b:x},containerStyle:function(){return{position:this.containerPosition,top:0,left:0,width:"100%",height:this.containerHeight}},containerClass:function(){return(this.options.needBorder?I:"")+(this.expanded?M:"")},expendButton:function(){return this.options.needExpand&&!this.expanded},collapseButton:function(){return this.options.needExpand&&this.expanded},saveImgButtonStyle:function(){var t=this.options.needExpand?1:0;return{position:this.buttonsPosition,top:B,right:w[t],zIndex:this.zIndex}},printButtonStyle:function(){var t=0;return this.options.needExpand&&t++,this.options.saveImg&&t++,{position:this.buttonsPosition,top:B,right:w[t],zIndex:this.zIndex}},resetButtonStyle:function(){return{position:this.buttonsPosition,top:B,left:E,zIndex:this.zIndex}},scaleResetButtonStyle:function(){return{position:this.buttonsPosition,bottom:S[2],right:w[0],zIndex:this.zIndex}},scalePlusButtonStyle:function(){return{position:this.buttonsPosition,bottom:S[1],right:w[0],zIndex:this.zIndex}},scaleMinusButtonStyle:function(){return{position:this.buttonsPosition,bottom:S[0],right:w[0],zIndex:this.zIndex}}},watch:{value:function(){this.setValue()}},methods:{initBPMN:function(){var t=this;this.container=this.$refs.container,this.parentElement=this.container.parentElement;var n=[];if(this.options.needTokenSimulation&&n.push(p.a),this.options.viewer){this.bpmnJS=new r["a"]({additionalModules:n,keyboard:{bindTo:document},container:this.container});var e=this.bpmnJS.get(L);O.forEach((function(t){e.on(t,(function(){switch(t){case O[1]:return!1;case O[0]:return!1}}))}))}else{this.customTranslate=h(),n.push(this.customTranslate),this.bpmnJS=new s["a"]({additionalModules:n,keyboard:{bindTo:document},container:this.container}),this.bpmnJS.on(T,(function(n){window.console.log(T,": ",n),t.getXML()}));var i=this.bpmnJS.get(L);O.forEach((function(n){i.on(n,(function(e){switch(n){case O[1]:t.clickElement=e.element;break;case O[0]:return t.contextmenuEvent(e)}}))}))}this.overlays=this.bpmnJS.get(C),this.zoomScroll=this.bpmnJS.get(k),this.canvas=this.bpmnJS.get(_),this.setValue()},getXML:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.bpmnJS.saveXML({format:!0});case 3:n=t.sent,e=n.xml,this.valueChanged=!0,this.handleValueChanged({value:e}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),window.console.error(V[0]+V[3],t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));function n(){return t.apply(this,arguments)}return n}(),setColor:function(t,n){if(!(t.indexOf(n)<0)){if(t.indexOf(j)<0){var e=t.indexOf(A[1])>-1?t.indexOf(A[1]):t.indexOf(A[0]);t=j+t.substring(e)}var i=z+n+'"',o=t.split(i);return o[0]+i+R+o[1]}},needDecrease:function(t,n){var e=t.indexOf(F[0]),i=t.indexOf(F[1],e),o=t.substring(e,i).split('"'),a=o.indexOf(F[2])>-1?parseInt(o[o.indexOf(F[2])+1]):"";return!(!a||isNaN(a))&&this.container.clientWidth-(a+n+15)<0},importDiagram:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,e){var i,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.bpmnJS.importXML(n);case 3:i=t.sent,o=i.warnings,e&&!this.options.viewer&&this.getXML(),Array.isArray(o)&&o.length>0&&window.console.warn("importXML warnings: ",o),this.canvas.zoom(N),this.zoomScroll.reset(),this.options.needScale&&(a=0,this.options.viewer||(a=80,this.canvas.scroll({dx:a,dy:0})),this.needDecrease(n,a)&&this.zoomScroll.stepZoom(-1)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(d["a"])(V[1],V[4]),window.console.error(V[1]+V[3],t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})));function n(n,e){return t.apply(this,arguments)}return n}(),setValue:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,e,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.options.initiate||D[0],e=this.value||"",!e){t.next=12;break}if(this.valueChanged){t.next=9;break}return this.options.component_code&&(Array.isArray(this.options.component_code)?this.options.component_code.forEach((function(t){e=o.setColor(e,t)})):e=this.setColor(e,this.options.component_code)),t.next=7,this.importDiagram(e,!1);case 7:t.next=10;break;case 9:this.valueChanged=!1;case 10:t.next=16;break;case 12:if(n===D[1]){t.next=16;break}return i=m(n),t.next=16,this.importDiagram(i,!0);case 16:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),expandDiagram:function(t){this.expanded=t,t?document.body.prepend(this.container):this.parentElement.prepend(this.container)},saveImage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,e,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.saveImgButton||(this.saveImgButton=this.$refs.saveImgButton),this.saveImgLink||(this.saveImgLink=this.$refs.saveImgLink),this.saveImgButton.$el.blur(),n=prompt(J[0],J[1]),n){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,t.next=9,this.bpmnJS.saveSVG({format:!0});case 9:e=t.sent,i=e.svg,o=encodeURIComponent(i),this.saveImgLink.setAttribute(X[0],G+o),this.saveImgLink.setAttribute(X[1],n+$),this.saveImgLink.click(),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](6),Object(d["a"])(V[2],V[4]),window.console.error(V[2]+V[3],t.t0);case 21:case"end":return t.stop()}}),t,this,[[6,17]])})));function n(){return t.apply(this,arguments)}return n}(),printImage:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.printButton||(this.printButton=this.$refs.printButton),this.printButton.$el.blur(),t.prev=2,t.next=5,this.bpmnJS.saveSVG({format:!0});case 5:n=t.sent,e=n.svg,i=window.open("",""),i.document.writeln(e),i.document.close(),i.print(),this.options.closeAfterPrint&&i.close(),t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](2),Object(d["a"])(V[2],V[4]),window.console.error(V[2]+V[3],t.t0);case 18:case"end":return t.stop()}}),t,this,[[2,14]])})));function n(){return t.apply(this,arguments)}return n}(),reset:function(){var t=m("empty");this.importDiagram(t,!1)},resetScale:function(){this.zoomScroll.reset(),this.options.viewer||this.canvas.scroll({dx:100,dy:100})},contextmenuEvent:function(t){var n=this,e=t.element,i=e.type.substring(t.element.type.indexOf(":")+1),o=!1;(!0===e.collapsed&&!e.isExpanded||void 0===e.collapsed&&!1===e.isExpanded)&&(o=!0);var a={type:i,id:e.id,name:e.businessObject.name||"",collapsed:o};if(e.businessObject.eventDefinitions&&e.businessObject.eventDefinitions[0]){var s=e.businessObject.eventDefinitions[0].$type;a.event_type=s.substring(s.indexOf(":")+1)}return window.console.log("rightClickEventData: ",a),this.$store.dispatch("config/setItemFields",{componentId:this.componentId,fields:[{name:"focusedData",value:a}]}).then((function(){n.callEventAction(n.componentId,"onElementRightClick",a)})),!1},setColoring:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.$store.dispatch("config/setComponentOption",{componentId:this.componentId,optionName:"component_code",optionValue:n.component_code||n.component_codes||""}).then((function(){e.container&&0!==e.container.clientWidth&&0!==e.container.clientHeight&&e.setValue()})));case 1:case"end":return t.stop()}}),t,this)})));function n(n){return t.apply(this,arguments)}return n}()},mounted:function(){this.initBPMN()}},H=U,Z=(e("7236"),e("2877")),q=Object(Z["a"])(H,i,o,!1,null,null,null);n["default"]=q.exports}}]);