(("undefined"!==typeof self?self:this)["webpackJsonpszc"]=("undefined"!==typeof self?self:this)["webpackJsonpszc"]||[]).push([[19],{3932:function(e,t,n){"use strict";var a=n("5b62"),o=n("c4f4"),r=n("b499"),i=n("e921"),l=n("6bc7"),s=n("bf95"),d=n("8fe2"),u=n("b9af"),c=n("b144"),h=n("dc20"),p=n("085e"),f=n("f654"),g=n("57be"),m=n("9b82"),v=n("0f5e"),_=n("443c"),b=n("026c"),x=n("7c8b"),C=n("2a4c"),w=n("e164"),{getSwatchContainer:O}=w["a"],S="dxSortable",y="dx-sortable-old",j=2,T=20,E=10;function F(e,t,n){var o=Object(a["a"])(e),r=o.offset();if(t>=r.left&&t<=r.left+o.outerWidth(!0)&&n>=r.top&&n<=r.top+o.outerHeight(!0))return!0}function P(e,t,n){return!Object(s["d"])(t.posHorizontal)||(n?e>t.posHorizontal:e<t.posHorizontal)}function I(e,t){var n=-1,o=t.get(0);return Object(c["a"])(e,(function(t,r){var i=Object(a["a"])(r);if(i.attr("item-group")&&i.attr("item-group")===e.eq(t-1).attr("item-group")||n++,r===o)return!1})),n===e.length?-1:n}function A(e,t){var n;return Object(c["a"])(t,(function(){F(this,e.pageX,e.pageY)&&(n=Object(a["a"])(this))})),n}function D(e,t,n){for(var a=[],o=[],r=0;r<e.length;r+=o.length)if(o=e.eq(r),o.attr("item-group")&&(o=n.find("[item-group='"+o.attr("item-group")+"']")),o.is(":visible")){var i={item:o,index:a.length,posHorizontal:t?void 0:(o.last().outerWidth(!0)+o.last().offset().left+o.offset().left)/2};i.posVertical=t?(o.last().offset().top+o.offset().top+o.last().outerHeight(!0))/2:o.last().outerHeight(!0)+o.last().offset().top,a.push(i)}return a}function N(e){var t=null,n=e.scrollTop(),a=e.$element(),o=a.offset().top,r=a.height(),i=0;function l(e){n=e.scrollOffset.top}function s(){d(),e.scrollTo(n+=i),t=setTimeout(s,E)}function d(){clearTimeout(t)}return e.on("scroll",l),{moveIfNeed:function(e){if(e.pageY<=o+T)i=-j;else{if(!(e.pageY>=o+r-T))return i=0,void d();i=j}s()},element:function(){return a},dispose:function(){d(),e.off("scroll",l)}}}var k=x["a"].inherit({_getDefaultOptions:function(){return Object(u["a"])(this.callBase(),{onChanged:null,onDragging:null,itemRender:null,groupSelector:null,itemSelector:".dx-sort-item",itemContainerSelector:".dx-sortable-old",sourceClass:"dx-drag-source",dragClass:"dx-drag",targetClass:"dx-drag-target",direction:"vertical",allowDragging:!0,groupFilter:null,useIndicator:!1})},_renderItem:function(e,t){var n,a=this.option("itemRender");return a?n=a(e,t):(n=e.clone(),n.css({width:e.width(),height:e.height()})),n},_renderIndicator:function(e,t,n,a){var o=e.outerHeight(!0),r=e.outerWidth(!0),i=e.offset().top-n.offset().top,l=e.offset().left-n.offset().left;this._indicator.css({position:"absolute",top:a&&t?i+o:i,left:a&&!t?l+r:l}).toggleClass("dx-position-indicator-horizontal",!t).toggleClass("dx-position-indicator-vertical",!!t).toggleClass("dx-position-indicator-last",!!a).height("").width("").appendTo(n),t?this._indicator.width(r):this._indicator.height(o)},_renderDraggable:function(e){this._$draggable&&this._$draggable.remove(),this._$draggable=this._renderItem(e,"drag").addClass(this.option("dragClass")).appendTo(O(e)).css({zIndex:1e6,position:"absolute"})},_detachEventHandlers:function(){var e=[C["e"],C["f"],C["b"],C["c"],C["d"],C["a"]].join(" ");o["a"].off(this._getEventListener(),Object(b["a"])(e,S))},_getItemOffset:function(e,t,n){for(var a=0;a<t.length;a++){var o=void 0,r=n.pageY<t[a].posVertical;if(e?o=r:r&&(o=P(n.pageX,t[a],this.option("rtlEnabled")),!o&&t[a+1]&&t[a+1].posVertical>t[a].posVertical&&(o=!0)),o)return t[a]}},_getEventListener:function(){var e=this.option("groupSelector"),t=this.$element();return e?t.find(e):t},_attachEventHandlers:function(){var e,t,n,r,i,l,s,d=this,u=d.option("itemSelector"),h=d.option("itemContainerSelector"),p=d.option("groupSelector"),f=d.option("sourceClass"),g=d.option("targetClass"),m=d.option("onDragging"),v=d.option("groupFilter"),_=d.$element(),x=null,w=-1,O=function(){x&&x.dispose(),x=null};if(d._detachEventHandlers(),d.option("allowDragging")){var j=d._getEventListener();o["a"].on(j,Object(b["a"])(C["f"],S),u,(function(o){e=Object(a["a"])(o.currentTarget);var r=e.closest(p);l=r.attr("group"),t=I((p?r:_).find(u),e),e.attr("item-group")&&(e=r.find("[item-group='"+e.attr("item-group")+"']")),d._renderDraggable(e),n=d._renderItem(e,"target").addClass(g),e.addClass(f),function(){i=[],Object(c["a"])(e,(function(e,t){i.push(Object(a["a"])(t).offset())}))}(),s=function(){return p?v?Object(a["a"])(p).filter(v):_.find(p):_}(),d._indicator=Object(a["a"])("<div>").addClass("dx-position-indicator")})),o["a"].on(j,Object(b["a"])(C["e"],S),(function(o){var p,v,_;if(e)if(w=-1,d._indicator.detach(),Object(c["a"])(d._$draggable,(function(e,t){Object(a["a"])(t).css({top:i[e].top+o.offset.y,left:i[e].left+o.offset.x})})),r&&r.removeClass(g),r=A(o,s),r&&function(){var a={sourceGroup:l,sourceIndex:t,sourceElement:e,targetGroup:r.attr("group"),targetIndex:r.find(u).index(n)};m&&m(a),a.cancel&&(r=void 0)}(),r&&x&&r.get(0)!==x.element().get(0)&&O(),x&&x.moveIfNeed(o),r){!x&&r.attr("allow-scrolling")&&(x=N(r.dxScrollable("instance"))),r.addClass(g);var b=r.find(h),C=b.find(u),S=r.closest("."+y).data("dxSortableOld"),j=S.option("useIndicator"),T="vertical"===(S||d).option("direction"),E=D(C,T,b),F=d._getItemOffset(T,E,o);if(F){if(p=F.item,_=E[F.index-1]&&E[F.index-1].item,p.hasClass(f)||_&&_.hasClass(f)&&_.is(":visible"))return void n.detach();if(w=F.index,!j)return void n.insertBefore(p);var P=r.attr("group")!==l,I=w===t,k=w===t+1;if(P)return void d._renderIndicator(p,T,r,d.option("rtlEnabled")&&!T);I||k||d._renderIndicator(p,T,r,d.option("rtlEnabled")&&!T)}else{if(v=C.last(),v.is(":visible")&&v.hasClass(f))return;b.length&&(w=E.length?E[E.length-1].index+1:0),j?C.length&&d._renderIndicator(v,T,r,!d.option("rtlEnabled")||T):n.appendTo(b)}}else n.detach()})),o["a"].on(j,Object(b["a"])(C["b"],S),(function(){if(O(),e){var a=d.option("onChanged"),o={sourceIndex:t,sourceElement:e,sourceGroup:l,targetIndex:w,removeSourceElement:!0,removeTargetElement:!1,removeSourceClass:!0};r&&(r.removeClass(g),o.targetGroup=r.attr("group"),(l!==o.targetGroup||w>-1)&&(a&&a(o),o.removeSourceElement&&e.remove())),d._indicator.detach(),o.removeSourceClass&&e.removeClass(f),e=null,d._$draggable.remove(),d._$draggable=null,o.removeTargetElement&&n.remove(),n.removeClass(g),n=null}}))}},_init:function(){this.callBase(),this._attachEventHandlers()},_render:function(){this.callBase(),this.$element().addClass(y)},_dispose:function(){var e=this;e.callBase.apply(e,arguments),e._$draggable&&e._$draggable.detach(),e._indicator&&e._indicator.detach()},_optionChanged:function(e){switch(e.name){case"onDragging":case"onChanged":case"itemRender":case"groupSelector":case"itemSelector":case"itemContainerSelector":case"sourceClass":case"targetClass":case"dragClass":case"allowDragging":case"groupFilter":case"useIndicator":this._attachEventHandlers();break;case"direction":break;default:this.callBase(e)}},_useTemplates:function(){return!1}});Object(p["a"])("dxSortableOld",k);var B=k,H=n("cc07"),M=1,L="<div>",R=g["a"].inherit({_getSearchExpr:function(e){return e.useDefaultSearchExpr=!0,this.callBase(e)}}),V=function(e,t){var n=[],a=!!t.groupName,o="exclude"===t.filterType;t.filterValues&&Object(c["a"])(t.filterValues,(function(e,t){n.push(Array.isArray(t)?t.join("/"):t&&t.valueOf())})),Object(_["f"])(e,(function(e){var t=e[0],r=Object(_["b"])(e),i=a?Object(c["b"])(e,(function(e){return e.text})).reverse().join("/"):t.text;t.value=a?r.slice(0):t.key||t.value;var l=a?r.join("/"):t.value&&t.value.valueOf();t.children&&(t.items=t.children,t.children=null),Object(g["d"])(t,t.key&&Object(d["c"])(i,n)>-1||Object(d["c"])(l,n)>-1,o)}))};function G(e,t){var n=t;return Object(s["d"])(t.groupIndex)&&(n=e.getAreaFields(t.area,!0)[t.areaIndex]),n}function z(e){return e=e||{},JSON.stringify([e.fields,e.columnExpandedPaths,e.rowExpandedPaths])}var W=f["a"].inherit(m["a"]).inherit(v["a"]).inherit(g["c"]).inherit({_getDefaultOptions:function(){return Object(u["a"])(this.callBase(),{allowFieldDragging:!0,applyChangesMode:"instantly",state:null,headerFilter:{width:252,height:325,searchTimeout:500,texts:{emptyValue:h["a"].format("dxDataGrid-headerFilterEmptyValue"),ok:h["a"].format("dxDataGrid-headerFilterOK"),cancel:h["a"].format("dxDataGrid-headerFilterCancel")}}})},_init:function(){this.callBase(),this._headerFilterView=new R(this),this._refreshDataSource(),this.subscribeToEvents()},_refreshDataSource:function(){var e=this.option("dataSource");e&&e.fields&&e.load&&(this._dataSource=e)},_optionChanged:function(e){switch(e.name){case"dataSource":this._refreshDataSource();break;case"applyChangesMode":break;case"state":if(this._skipStateChange||!this._dataSource)break;"instantly"===this.option("applyChangesMode")&&z(this._dataSource.state())!==z(e.value)?this._dataSource.state(e.value):(this._clean(!0),this._renderComponent());break;case"headerFilter":case"allowFieldDragging":this._invalidate();break;default:this.callBase(e)}},renderField:function(e,t){var n=Object(a["a"])(L).addClass("dx-area-field-content").text(e.caption||e.dataField),o=Object(a["a"])(L).addClass("dx-area-field").addClass("dx-area-box").data("field",e).append(n),r=G(this._dataSource,e);return"data"!==e.area&&(e.allowSorting&&this._applyColumnState({name:"sort",rootElement:o,column:{alignment:this.option("rtlEnabled")?"right":"left",sortOrder:"desc"===e.sortOrder?"desc":"asc"},showColumnLines:t}),this._applyColumnState({name:"headerFilter",rootElement:o,column:{alignment:this.option("rtlEnabled")?"right":"left",filterValues:r.filterValues,allowFiltering:r.allowFiltering&&!e.groupIndex},showColumnLines:t})),e.groupName&&o.attr("item-group",e.groupName),o},_clean:function(){},_render:function(){this.callBase(),this._headerFilterView.render(this.$element())},renderSortable:function(){var e=this;e._createComponent(e.$element(),B,Object(u["a"])({allowDragging:e.option("allowFieldDragging"),itemSelector:".dx-area-field",itemContainerSelector:".dx-area-field-container",groupSelector:".dx-area-fields",groupFilter:function(){var t=e._dataSource,n=Object(a["a"])(this).closest(".dx-sortable-old"),o=n.data("dxPivotGrid"),r=n.data("dxPivotGridFieldChooser");return o?o.getDataSource()===t:!!r&&r.option("dataSource")===t},itemRender:function(e,t){var n;if(e.hasClass("dx-area-box")?(n=e.clone(),"drag"===t&&Object(c["a"])(e,(function(e,t){n.eq(e).css("width",parseInt(Object(a["a"])(t).outerWidth(),10)+M)}))):n=Object(a["a"])(L).addClass("dx-area-field").addClass("dx-area-box").text(e.text()),"drag"===t){var o=Object(a["a"])(L);return Object(c["a"])(n,(function(e,t){var n=Object(a["a"])("<div>").addClass("dx-pivotgrid-fields-container").addClass("dx-widget").append(Object(a["a"])(t));o.append(n)})),o.children()}return n},onDragging:function(e){var t=e.sourceElement.data("field"),n=e.targetGroup;e.cancel=!1,!0===t.isMeasure?"column"!==n&&"row"!==n&&"filter"!==n||(e.cancel=!0):!1===t.isMeasure&&"data"===n&&(e.cancel=!0)},useIndicator:!0,onChanged:function(t){var n=e._dataSource,a=t.sourceElement.data("field");t.removeSourceElement=!!t.sourceGroup,e._adjustSortableOnChangedArgs(t),a&&e._applyChanges([G(n,a)],{area:t.targetGroup,areaIndex:t.targetIndex})}},e._getSortableOptions()))},_processDemandState:function(e){var t="instantly"===this.option("applyChangesMode"),n=this._dataSource;if(t)e(n,t);else{var a=n.state(),o=this.option("state");o&&n.state(o,!0),e(n,t),n.state(a,!0)}},_applyChanges(e,t){var n=this;n._processDemandState((function(a,o){e.forEach(e=>{var{index:n}=e;a.field(n,t)}),o?a.load():n._changedHandler()}))},_adjustSortableOnChangedArgs:function(e){e.removeSourceElement=!1,e.removeTargetElement=!0,e.removeSourceClass=!1},_getSortableOptions:function(){return{direction:"auto"}},subscribeToEvents:function(e){var t=this,n=function(e){var n=Object(a["a"])(e.currentTarget).data("field"),o=Object(u["a"])(!0,{},G(t._dataSource,n)),i=Object(a["a"])(e.target).hasClass("dx-header-filter"),l=t._dataSource,s=o.groupName?"tree":"list",d=l.paginate()&&"list"===s;i?t._headerFilterView.showHeaderFilterMenu(Object(a["a"])(e.currentTarget),Object(u["a"])(o,{type:s,encodeHtml:t.option("encodeHtml"),dataSource:{useDefaultSearch:!d,load:function(e){var n=e.userData;if(n.store)return n.store.load(e);var a=new H["a"];return l.getFieldValues(o.index,t.option("headerFilter.showRelevantValues"),d?e:void 0).done((function(o){var i=t.option("headerFilter.texts.emptyValue");o.forEach(e=>{e.text||(e.text=i)}),d?a.resolve(o):(n.store=new r["a"](o),n.store.load(e).done(a.resolve).fail(a.reject))})).fail(a.reject),a},postProcess:function(e){return V(e,o),e}},apply:function(){t._applyChanges([o],{filterValues:this.filterValues,filterType:this.filterType})}})):n.allowSorting&&"data"!==n.area&&t._applyChanges([n],{sortOrder:"desc"===n.sortOrder?"asc":"desc"})};e?o["a"].on(e,i["a"],".dx-area-field.dx-area-box",n):o["a"].on(t.$element(),i["a"],".dx-area-field.dx-area-box",n)},_initTemplates:l["n"],addWidgetPrefix:function(e){return"dx-pivotgrid-"+e}});Object(p["a"])("dxPivotGridFieldChooserBase",W);t["a"]=W},"443c":function(e,t,n){"use strict";n.d(t,"p",(function(){return p})),n.d(t,"n",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return _})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return C})),n.d(t,"b",(function(){return w})),n.d(t,"e",(function(){return O})),n.d(t,"m",(function(){return S})),n.d(t,"j",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"k",(function(){return F})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return A})),n.d(t,"q",(function(){return D})),n.d(t,"a",(function(){return N}));var a=n("bf95"),o=n("3f6e"),r=n("b7ae"),i=n("b144"),l=n("b9af"),s=n("10db"),d=n("9e0d"),u=n("1d39"),c=n("b499"),h=n("cc07"),p=function(e,t,n,a){var o=e._initProperties=e._initProperties||{},r=a?n:e[t];Object.prototype.hasOwnProperty.call(o,t)&&!a||(o[t]=r),e[t]=n};function f(e){return o["a"].sendRequest(e)}var g=new Date;function m(e){return function t(n,a,o,r,i,l){var s,d;function u(e,i,l){Object(h["c"])(t(n,a,o,r,i,l)).done(e.resolve)}for(r=r||[],n=n||[],i=i||0,s=i;s<n.length;s++){if(e&&s>i&&s%1e4===0&&new Date-g>=300)return g=new Date,d=new h["a"],setTimeout(u(d,s,!1),0),d;var c=n[s];if(!l){if(r.unshift(c),o&&!1===a(r,s))return;if(c.children){var p=t(c.children,a,o,r);if(e&&p)return d=new h["a"],p.done(u(d,s,!0)),d}}if(l=!1,!o&&!1===a(r,s))return;r.shift(),n[s]!==c&&s--}}}var v=m(!1),_=m(!0);function b(e,t){if(e&&Object(a["d"])(t))for(var n=0;n<e.length;n++){var o=e[n];if(o.name===t||o.caption===t||o.dataField===t||o.index===t)return n}return-1}function x(e,t){var n=e===e&&d["a"].format(e,t.format),a={value:e,valueText:n||""};return t.customizeText?t.customizeText.call(t,a):a.valueText}function C(e){return function(t,n){var o=0,r=e(t),i=e(n),l=Object(a["d"])(r),s=Object(a["d"])(i);return l&&s&&(r>i?o=1:r<i&&(o=-1)),l&&!s&&(o=1),!l&&s&&(o=-1),o}}function w(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].key||e[n].value);return t}function O(e,t,n,a){n=n||0,a=a||"children",e.length&&t(e,n);for(var o=0;o<e.length;o++){var r=e[o];r[a]&&r[a].length&&O(r[a],t,n+1,a)}}function S(e,t){for(var n=[],a=0;a<e.length;a++)n.push(Math.max(e[a]||0,t[a]||0));return n}function y(e,t){var n=e[t],a=0,o=("columns"===t?e.columnExpandedPaths:e.rowExpandedPaths)||[];e.headerName===t?a=e.path.length:e.headerName&&e.headerName!==t&&e.oppositePath?a=e.oppositePath.length:Object(i["a"])(o,(function(e,t){a=Math.max(a,t.length)}));while(n[a+1]&&n[a].expanded)a++;return a}function j(e){return Object(i["b"])(["year","quarter","month"],(function(t,n){return Object(l["a"])({},e,{groupInterval:t,groupIndex:n})}))}function T(e,t,n,o){var i=[];return Object.keys(t||[]).forEach((function(l){if(!l||0!==l.indexOf("__")){var s,d=1,u=n.length?n+"."+l:l,c=o[u],h=Object(r["a"])(u),p=t[l];while(!Object(a["d"])(p)&&e[d])p=h(e[d]),d++;!c&&Object(a["d"])(p)&&(c=Object(a["q"])(p)),s=[{dataField:u,dataType:c,groupName:"date"===c?l:void 0,groupInterval:void 0,displayFolder:n}],"date"===c?s=s.concat(j(s[0])):"object"===c&&(s=T(e,p,u,o)),i.push.apply(i,s)}})),i}function E(e,t){var n=F(t);return T(e,e[0],"",n)}function F(e){var t={};return Object(i["a"])(e,(function(e,n){t[n.dataField]=t[n.dataField]||n.dataType})),t}var P={month:function(e){return s["a"].getMonthNames()[e-1]},quarter:function(e){return s["a"].format(new Date(2e3,3*e-1),"quarter")},dayOfWeek:function(e){return s["a"].getDayNames()[e]}};function I(e){if("date"===e.dataType)e.format||p(e,"format",P[e.groupInterval]);else if("number"===e.dataType){var t=Object(a["i"])(e.groupInterval)&&e.groupInterval>0&&e.groupInterval;t&&!e.customizeText&&p(e,"customizeText",(function(n){var a=n.value+t,o=d["a"].format(a,e.format);return n.valueText&&o?n.valueText+" - "+o:""}))}}function A(e,t){var n=[];t=t||[];for(var a=0;a<t.length;a++)n.push(Object(l["a"])({},e[a],{groupIndex:null,groupName:null,filterType:"include",filterValues:[t[a]]}));return n}var D={createDrillDownDataSource:function(e,t){var n=this.getDrillDownItems(e,t);function a(e){return function(t){var a;return a=new h["a"],Object(h["c"])(n).done((function(n){var o=new c["a"](n);o[e](t).done(a.resolve).fail(a.reject)})).fail(a.reject),a}}var o=new u["a"]({load:a("load"),totalCount:a("totalCount"),key:this.key()});return o}};function N(e){return e.charAt(0).toUpperCase()+e.slice(1)}},"61f7":function(e,t,n){"use strict";
/*!
 * devextreme-vue
 * Version: 21.1.3
 * Build date: Tue May 18 2021
 *
 * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DxTexts=t.DxStateStoring=t.DxScrolling=t.DxPivotGridTexts=t.DxLoadPanel=t.DxHeaderFilterTexts=t.DxHeaderFilter=t.DxFieldPanelTexts=t.DxFieldPanel=t.DxFieldChooserTexts=t.DxFieldChooser=t.DxExport=t.DxPivotGrid=void 0;var o=a(n("98f5")),r=n("27da"),i=n("27da"),l=r.createComponent({props:{allowExpandAll:Boolean,allowFiltering:Boolean,allowSorting:Boolean,allowSortingBySummary:Boolean,dataFieldArea:String,dataSource:[Array,Object],disabled:Boolean,elementAttr:{},encodeHtml:Boolean,export:Object,fieldChooser:Object,fieldPanel:Object,headerFilter:Object,height:[Function,Number,String],hideEmptySummaryCells:Boolean,hint:String,loadPanel:Object,onCellClick:Function,onCellPrepared:Function,onContentReady:Function,onContextMenuPreparing:Function,onDisposing:Function,onExporting:Function,onInitialized:Function,onOptionChanged:Function,rowHeaderLayout:String,rtlEnabled:Boolean,scrolling:Object,showBorders:Boolean,showColumnGrandTotals:Boolean,showColumnTotals:Boolean,showRowGrandTotals:Boolean,showRowTotals:Boolean,showTotalsPrior:String,stateStoring:Object,tabIndex:Number,texts:Object,visible:Boolean,width:[Function,Number,String],wordWrapEnabled:Boolean},emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowExpandAll":null,"update:allowFiltering":null,"update:allowSorting":null,"update:allowSortingBySummary":null,"update:dataFieldArea":null,"update:dataSource":null,"update:disabled":null,"update:elementAttr":null,"update:encodeHtml":null,"update:export":null,"update:fieldChooser":null,"update:fieldPanel":null,"update:headerFilter":null,"update:height":null,"update:hideEmptySummaryCells":null,"update:hint":null,"update:loadPanel":null,"update:onCellClick":null,"update:onCellPrepared":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDisposing":null,"update:onExporting":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rowHeaderLayout":null,"update:rtlEnabled":null,"update:scrolling":null,"update:showBorders":null,"update:showColumnGrandTotals":null,"update:showColumnTotals":null,"update:showRowGrandTotals":null,"update:showRowTotals":null,"update:showTotalsPrior":null,"update:stateStoring":null,"update:tabIndex":null,"update:texts":null,"update:visible":null,"update:width":null,"update:wordWrapEnabled":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=o.default,this.$_expectedChildren={export:{isCollectionItem:!1,optionName:"export"},fieldChooser:{isCollectionItem:!1,optionName:"fieldChooser"},fieldPanel:{isCollectionItem:!1,optionName:"fieldPanel"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},loadPanel:{isCollectionItem:!1,optionName:"loadPanel"},pivotGridTexts:{isCollectionItem:!1,optionName:"texts"},scrolling:{isCollectionItem:!1,optionName:"scrolling"},stateStoring:{isCollectionItem:!1,optionName:"stateStoring"},texts:{isCollectionItem:!1,optionName:"texts"}}}});t.DxPivotGrid=l;var s=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:fileName":null,"update:ignoreExcelErrors":null,"update:proxyUrl":null},props:{enabled:Boolean,fileName:String,ignoreExcelErrors:Boolean,proxyUrl:String}});t.DxExport=s,s.$_optionName="export";var d=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:applyChangesMode":null,"update:enabled":null,"update:height":null,"update:layout":null,"update:searchTimeout":null,"update:texts":null,"update:title":null,"update:width":null},props:{allowSearch:Boolean,applyChangesMode:String,enabled:Boolean,height:Number,layout:{type:Number,validator:function(e){return"number"!==typeof e||-1!==[0,1,2].indexOf(e)}},searchTimeout:Number,texts:Object,title:String,width:Number}});t.DxFieldChooser=d,d.$_optionName="fieldChooser",d.$_expectedChildren={fieldChooserTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var u=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:columnFields":null,"update:dataFields":null,"update:filterFields":null,"update:rowFields":null},props:{allFields:String,columnFields:String,dataFields:String,filterFields:String,rowFields:String}});t.DxFieldChooserTexts=u,u.$_optionName="texts";var c=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowFieldDragging":null,"update:showColumnFields":null,"update:showDataFields":null,"update:showFilterFields":null,"update:showRowFields":null,"update:texts":null,"update:visible":null},props:{allowFieldDragging:Boolean,showColumnFields:Boolean,showDataFields:Boolean,showFilterFields:Boolean,showRowFields:Boolean,texts:Object,visible:Boolean}});t.DxFieldPanel=c,c.$_optionName="fieldPanel",c.$_expectedChildren={fieldPanelTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var h=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:columnFieldArea":null,"update:dataFieldArea":null,"update:filterFieldArea":null,"update:rowFieldArea":null},props:{columnFieldArea:String,dataFieldArea:String,filterFieldArea:String,rowFieldArea:String}});t.DxFieldPanelTexts=h,h.$_optionName="texts";var p=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:height":null,"update:searchTimeout":null,"update:showRelevantValues":null,"update:texts":null,"update:width":null},props:{allowSearch:Boolean,height:Number,searchTimeout:Number,showRelevantValues:Boolean,texts:Object,width:Number}});t.DxHeaderFilter=p,p.$_optionName="headerFilter",p.$_expectedChildren={headerFilterTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var f=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}});t.DxHeaderFilterTexts=f,f.$_optionName="texts";var g=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:height":null,"update:indicatorSrc":null,"update:shading":null,"update:shadingColor":null,"update:showIndicator":null,"update:showPane":null,"update:text":null,"update:width":null},props:{enabled:Boolean,height:Number,indicatorSrc:String,shading:Boolean,shadingColor:String,showIndicator:Boolean,showPane:Boolean,text:String,width:Number}});t.DxLoadPanel=g,g.$_optionName="loadPanel";var m=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:collapseAll":null,"update:dataNotAvailable":null,"update:expandAll":null,"update:exportToExcel":null,"update:grandTotal":null,"update:noData":null,"update:removeAllSorting":null,"update:showFieldChooser":null,"update:sortColumnBySummary":null,"update:sortRowBySummary":null,"update:total":null},props:{collapseAll:String,dataNotAvailable:String,expandAll:String,exportToExcel:String,grandTotal:String,noData:String,removeAllSorting:String,showFieldChooser:String,sortColumnBySummary:String,sortRowBySummary:String,total:String}});t.DxPivotGridTexts=m,m.$_optionName="texts";var v=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:mode":null,"update:useNative":null},props:{mode:String,useNative:[Boolean,String]}});t.DxScrolling=v,v.$_optionName="scrolling";var _=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:customLoad":null,"update:customSave":null,"update:enabled":null,"update:savingTimeout":null,"update:storageKey":null,"update:type":null},props:{customLoad:Function,customSave:Function,enabled:Boolean,savingTimeout:Number,storageKey:String,type:String}});t.DxStateStoring=_,_.$_optionName="stateStoring";var b=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:cancel":null,"update:collapseAll":null,"update:columnFieldArea":null,"update:columnFields":null,"update:dataFieldArea":null,"update:dataFields":null,"update:dataNotAvailable":null,"update:emptyValue":null,"update:expandAll":null,"update:exportToExcel":null,"update:filterFieldArea":null,"update:filterFields":null,"update:grandTotal":null,"update:noData":null,"update:ok":null,"update:removeAllSorting":null,"update:rowFieldArea":null,"update:rowFields":null,"update:showFieldChooser":null,"update:sortColumnBySummary":null,"update:sortRowBySummary":null,"update:total":null},props:{allFields:String,cancel:String,collapseAll:String,columnFieldArea:String,columnFields:String,dataFieldArea:String,dataFields:String,dataNotAvailable:String,emptyValue:String,expandAll:String,exportToExcel:String,filterFieldArea:String,filterFields:String,grandTotal:String,noData:String,ok:String,removeAllSorting:String,rowFieldArea:String,rowFields:String,showFieldChooser:String,sortColumnBySummary:String,sortRowBySummary:String,total:String}});t.DxTexts=b,b.$_optionName="texts",t.default=l},"86a7":function(e,t,n){"use strict";var a=n("5b62"),o=n("1e27"),r=n("45f8"),i=n("bf95"),l=n("b9af"),s=n("8fe2"),d=n("b144"),u=n("dc20"),c=n("085e"),h=n("443c"),p=n("d9d3"),f=n("b957"),g=n("3932"),m=(n("a83e"),"<div>"),v=Object(r["f"])(),_="dx-pivotgridfieldchooser",b="dx-pivotgridfieldchooser-container",x="dx-pivotgrid-fields-container",C="dx-pivotgrid-drag-action";function w(e,t){var n=[];if(e.items)for(var a=0;a<e.items.length;a++)n.push.apply(n,w(e.items[a],t));else Object(i["d"])(e.index)&&n.push(t[e.index]);return n}function O(e,t){if(e.items)for(var n=0;n<e.items.length;n++){var a=O(e.items[n],t);if(a)return a}if(t(e))return e}var S=[function(e,t){var n=-!!e.isMeasure,a=+!!t.isMeasure;return n+a},function(e,t){var n=-!(!e.items||!e.items.length),a=+!(!t.items||!t.items.length);return n+a},function(e,t){var n=+!!(!1===e.isMeasure&&e.field&&e.field.levels&&e.field.levels.length),a=-!!(!1===t.isMeasure&&t.field&&t.field.levels&&t.field.levels.length);return n+a},Object(h["i"])((function(e){return e.text}))];function y(e,t){var n=0,a=0;while(!n&&S[a])n=S[a++](e,t);return n}function j(e){return e.find(".dx-scrollable").dxScrollable("instance")}var T=g["a"].inherit({_getDefaultOptions:function(){return Object(l["a"])(this.callBase(),{height:400,layout:0,dataSource:null,onContextMenuPreparing:null,allowSearch:!1,searchTimeout:500,texts:{columnFields:u["a"].format("dxPivotGrid-columnFields"),rowFields:u["a"].format("dxPivotGrid-rowFields"),dataFields:u["a"].format("dxPivotGrid-dataFields"),filterFields:u["a"].format("dxPivotGrid-filterFields"),allFields:u["a"].format("dxPivotGrid-allFields")}})},_refreshDataSource:function(){var e=this;e._expandedPaths=[],e._changedHandler=e._changedHandler||function(){Object(d["a"])(e._dataChangedHandlers,(function(e,t){t()})),e._fireContentReadyAction(),e._skipStateChange=!0,e.option("state",e._dataSource.state()),e._skipStateChange=!1},e._disposeDataSource(),e.callBase(),e._dataSource&&e._dataSource.on("changed",e._changedHandler)},_disposeDataSource:function(){var e=this._dataSource;e&&(e.off("changed",this._changedHandler),this._dataSource=void 0)},_dispose:function(){this._disposeDataSource(),this.callBase.apply(this,arguments)},_init:function(){this.callBase(),this._refreshDataSource(),this._dataChangedHandlers=[],this._initActions()},_initActions:function(){this._actions={onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing")}},_trigger:function(e,t){this._actions[e](t)},_setOptionsByReference:function(){this.callBase(),Object(l["a"])(this._optionsByReference,{dataSource:!0})},_optionChanged:function(e){switch(e.name){case"dataSource":this._refreshDataSource(),this._invalidate();break;case"layout":case"texts":case"allowSearch":case"searchTimeout":this._invalidate();break;case"onContextMenuPreparing":this._actions[e.name]=this._createActionByOption(e.name);break;default:this.callBase(e)}},_clean:function(e){!e&&this._dataSource&&this.option("state",this._dataSource.state()),this.$element().children("."+b).remove()},_renderLayout0:function(e){e.addClass("dx-layout-0");var t=Object(a["a"])(m).addClass("dx-row").appendTo(e),n=Object(a["a"])(m).addClass("dx-row").appendTo(e),o=Object(a["a"])(m).addClass("dx-col").appendTo(t),r=Object(a["a"])(m).addClass("dx-col").appendTo(t),i=Object(a["a"])(m).addClass("dx-col").appendTo(n),l=Object(a["a"])(m).addClass("dx-col").appendTo(n);this._renderArea(o,"all"),this._renderArea(r,"row"),this._renderArea(r,"column"),this._renderArea(i,"filter"),this._renderArea(l,"data")},_renderLayout1:function(e){var t=Object(a["a"])(m).addClass("dx-col").appendTo(e),n=Object(a["a"])(m).addClass("dx-col").appendTo(e);this._renderArea(t,"all"),this._renderArea(n,"filter"),this._renderArea(n,"row"),this._renderArea(n,"column"),this._renderArea(n,"data")},_renderLayout2:function(e){e.addClass("dx-layout-2");var t=Object(a["a"])(m).addClass("dx-row").appendTo(e);this._renderArea(t,"all");var n=Object(a["a"])(m).addClass("dx-row").appendTo(e),o=Object(a["a"])(m).addClass("dx-col").appendTo(n),r=Object(a["a"])(m).addClass("dx-col").appendTo(n);this._renderArea(o,"filter"),this._renderArea(o,"row"),this._renderArea(r,"column"),this._renderArea(r,"data")},_initMarkup:function(){var e=this.$element(),t=Object(a["a"])(m).addClass(b).appendTo(e),n=this.option("layout");this.callBase(),e.addClass(_).addClass(x),this._dataChangedHandlers=[];var o=this._dataSource,r="instantly"!==this.option("applyChangesMode")&&o&&o.state();r&&this.option("state")&&o.state(this.option("state"),!0),0===n?this._renderLayout0(t):1===n?this._renderLayout1(t):this._renderLayout2(t),r&&o.state(r,!0)},_renderContentImpl:function(){this.callBase(),this.renderSortable(),this._renderContextMenu(),this.updateDimensions()},_fireContentReadyAction:function(){this._dataSource&&this._dataSource.isLoading()||this.callBase()},_getContextMenuArgs:function(e){var t,n,o=Object(a["a"])(e.target).closest(".dx-area-field"),r=Object(a["a"])(e.target).closest(".dx-area-fields");if(o.length){var i=o.data("field");i&&(t=this.getDataSource().field(i.index)||i)}return r.length&&(n=r.attr("group")),{event:e,field:t,area:n,items:[]}},_renderContextMenu:function(){var e=this,t=e.$element();e._contextMenu&&e._contextMenu.$element().remove(),e._contextMenu=e._createComponent(Object(a["a"])(m).appendTo(t),f["default"],{onPositioning:function(t){var n=t.event;if(n){var a=e._getContextMenuArgs(n);e._trigger("onContextMenuPreparing",a),a.items&&a.items.length?t.component.option("items",a.items):t.cancel=!0}},target:t,onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:"dx-pivotgridfieldchooser-context-menu"})},_createTreeItems:function(e,t,n){var a,o=this,r=[],l=[],u=t[0],c={};return u?(Object(d["a"])(e,(function(e,t){var n=t[u]||"";c[n]=c[n]||[],c[n].push(t),void 0===a&&(a=!0),a=a&&!0===t.isMeasure})),Object(d["a"])(c,(function(e,a){var i=n?n+"."+e:e,d=o._createTreeItems(a,t.slice(1),i);e?l.push({key:e,text:e,path:i,isMeasure:d.isMeasure,expanded:Object(s["c"])(i,o._expandedPaths)>=0,items:d}):r=d})),r=l.concat(r),r.isMeasure=a):Object(d["a"])(e,(function(e,t){var n;!0===t.isMeasure&&(n="measure"),!1===t.isMeasure&&(n=t.groupName?"hierarchy":"dimension"),r.push({index:t.index,field:t,key:t.dataField,selected:Object(i["d"])(t.area),text:t.caption||t.dataField,icon:n,isMeasure:t.isMeasure,isDefault:t.isDefault})})),r},_createFieldsDataSource:function(e){var t=e&&e.fields()||[];t=t.filter(e=>!1!==e.visible&&!Object(i["d"])(e.groupIndex));var n=this._createTreeItems(t,["dimension","displayFolder"]);return Object(h["e"])(n,(function(e){e.sort(y)}),0,"items"),n},_renderFieldsTreeView:function(e){var t=this,n=t._dataSource,r=t._createComponent(e,p["default"],{dataSource:t._createFieldsDataSource(n),showCheckBoxesMode:"normal",expandNodesRecursive:!1,searchEnabled:t.option("allowSearch"),searchTimeout:t.option("searchTimeout"),itemTemplate:function(e,t,n){e.icon&&Object(o["a"])(e.icon).appendTo(n),Object(a["a"])("<span>").toggleClass("dx-area-field",!e.items).data("field",e.field).text(e.text).appendTo(n)},onItemCollapsed:function(e){var n=Object(s["c"])(e.itemData.path,t._expandedPaths);n>=0&&t._expandedPaths.splice(n,1)},onItemExpanded:function(e){var n=Object(s["c"])(e.itemData.path,t._expandedPaths);n<0&&t._expandedPaths.push(e.itemData.path)},onItemSelectionChanged:function(e){var a,o,l,s=e.itemData,d=!0;if(s.items){if(s.selected)return void r.unselectItem(s);if(t._processDemandState(()=>{o=w(s,n.fields());for(var e=0;e<o.length;e++)if(o[e].area){d=!1;break}}),d){var u=O(s,(function(e){return e.isDefault}))||O(s,(function(e){return Object(i["d"])(e.index)}));return void(u&&r.selectItem(u))}}else a=n.fields()[s.index],s.selected&&(l=a.isMeasure?"data":"column"),a&&(o=[a]);t._applyChanges(o,{area:l,areaIndex:void 0})}});t._dataChangedHandlers.push((function(){var a=j(e),o=a?a.scrollTop():0;r.option({dataSource:t._createFieldsDataSource(n)}),a=j(e),a&&(a.scrollTo({y:o}),a.update())}))},_renderAreaFields:function(e,t){var n=this,a=n._dataSource,o=a?Object(l["a"])(!0,[],a.getAreaFields(t,!0)):[];e.empty(),Object(d["a"])(o,(function(t,a){!1!==a.visible&&n.renderField(a,!0).appendTo(e)}))},_renderArea:function(e,t){var n,o,r=this,i=Object(a["a"])(m).addClass("dx-area").appendTo(e),l=Object(a["a"])(m).addClass("dx-area-fields-header").appendTo(i),s=r.option("texts."+t+"Fields");Object(a["a"])("<span>").addClass("dx-area-icon").addClass("dx-area-icon-"+t).appendTo(l),Object(a["a"])("<span>").html("&nbsp;").appendTo(l),Object(a["a"])("<span>").addClass("dx-area-caption").text(s).appendTo(l);var d=Object(a["a"])(m).addClass("dx-area-fields").addClass(C).appendTo(i);"all"!==t?(d.attr("group",t).attr("allow-scrolling",!0),n=Object(a["a"])(m).addClass("dx-area-field-container").appendTo(d),o=function(){r._renderAreaFields(n,t)},r._dataChangedHandlers.push(o),o(),d.dxScrollable()):(i.addClass("dx-all-fields"),d.addClass("dx-treeview-border-visible"),r._renderFieldsTreeView(d))},_getSortableOptions:function(){return{}},_adjustSortableOnChangedArgs:function(){},resetTreeView:function(){var e=this.$element().find(".dx-treeview").dxTreeView("instance");e&&(e.option("searchValue",""),e.collapseAll())},applyChanges:function(){var e=this.option("state");Object(i["d"])(e)&&this._dataSource.state(e)},cancelChanges:function(){var e=this._dataSource;return!e.isLoading()&&(this.option("state",e.state()),!0)},getDataSource:function(){return this._dataSource},updateDimensions:function(){var e=this.$element().find(".dx-area .dx-scrollable");e.dxScrollable("update")},_visibilityChanged:function(e){e&&v&&this.updateDimensions()}});Object(c["a"])("dxPivotGridFieldChooser",T),t["a"]=T},"98f5":function(e,t,n){"use strict";n.r(t);var a=n("5b62"),o=n("45f8"),r=n("8fbf"),i=n("c4f4"),l=n("085e"),s=n("ac1d"),d=n("9570"),u=n("6bc7"),c=n("b144"),h=n("bf95"),p=n("b9af"),f=n("e921"),g=n("dc20"),m=n("f654"),v=n("026c"),_=n("7af1"),b=n("443c"),x=n("1199"),C=n("cc07"),w=n("8fe2"),O=n("facd"),S=n("fa10"),y=n("bde9"),j=n("fa65"),T=n("a83e"),E=Math,F="GT",P="T",I="D",A="#N/A",D=300,N=function(e,t,n){e[t]||(e[t]=function(){var e=this._dataSource;return e?e[t].apply(e,arguments):n})},k=O["a"].inherit(function(){function e(e,t,n){return e===A?n:Object(b["h"])(e,t)}var t=function(){var e=function(e,t){var n=t.lastIndex-t.index||1,a=function(e,t,n,a){var o={type:e.type,text:e.text};return e.path&&(o.path=e.path),e.width&&(o.width=e.width),Object(h["d"])(e.wordWrapEnabled)&&(o.wordWrapEnabled=e.wordWrapEnabled),e.isLast&&(o.isLast=!0),e.sorted&&(o.sorted=!0),e.isMetric&&(o.dataIndex=e.dataIndex),Object(h["d"])(e.expanded)&&(o.expanded=e.expanded),t>1&&(o[n?"colspan":"rowspan"]=t),e.depthSize&&e.depthSize>1&&(o[n?"rowspan":"colspan"]=e.depthSize),e.index>=0&&(o.dataSourceIndex=e.index),a&&e.children&&e.children.length&&!e.children[0].isMetric&&(o.width=null,o.isWhiteSpace=!0),o}(t.headerItem,n,t.isHorizontal,t.isTree);return function(e,t,n,a,o){var r=o?a:n;while(!e[r])e.push([]);o?e[r].push(t):e[r].unshift(t)}(e,a,t.index,t.depth,t.isHorizontal),t.headerItem.children&&0!==t.headerItem.children.length?t.lastIndex:t.lastIndex+1},t=function(e,t,a,o,r){var i=a.length,l=function(e,t){var a,o=t&&t.length||0,r=[],i=new C["a"];return Object(C["c"])(Object(b["g"])(e,(function(e,t){var i=e[0],l=Object(b["b"])(e);a=n(r,l.length,t),a.type=I,a.value=i.value,a.path=l,a.text=i.text,a.index=i.index,a.displayText=i.displayText,a.key=i.key,a.isEmpty=i.isEmpty,l.length<o&&(!i.children||0!==i.children.length)&&(a.expanded=!!i.children)}))).done((function(){i.resolve(n(r,0,0).children||[])})),i}(e,t),s=r.dataFields,u=new C["a"];return Object(C["c"])(l).done((function(e){r.notifyProgress(.5),r.showGrandTotals&&e[r.showTotalsPrior?"unshift":"push"]({type:F,isEmpty:r.isEmptyGrandTotal});var n=!1===r.showTotals||s.length>0&&s.length===r.hiddenTotals.length,l=s.length>0&&r.hiddenValues.length===s.length;l&&n&&(o=1),n&&"tree"!==r.layout||function(e,t,n,a){n=n||a,Object(b["f"])(e,(function(o,r){var i=o[0],l=(o[1]?o[1].children:e)||[],s=t[o.length-1];i.type===I&&i.expanded&&(!1!==s.showTotals||a)&&(-1!==r&&l.splice(n?r:r+1,0,Object(p["a"])({},i,{children:null,type:P,expanded:!!n||null,isAdditionalTotal:!0})),n&&(i.expanded=null))}))}(e,t,r.showTotalsPrior,"tree"===r.layout),Object(C["c"])(Object(b["g"])(e,(function(e){var t=e[0];t.children&&0!==t.children.length||(t.depthSize=o-e.length+1)}))).done((function(){i>1&&function(e,t,n){Object(b["f"])(e,(function(e){var a,o=e[0];if(!o.children||0===o.children.length)for(o.children=[],a=0;a<t.length;a++){var r=o.type===F,i=o.type===P,l=o.type===I,s=!1===t[a].visible||r&&-1!==Object(w["c"])(a,n.hiddenGrandTotals)||i&&-1!==Object(w["c"])(a,n.hiddenTotals)||l&&-1!==Object(w["c"])(a,n.hiddenValues);s||o.children.push({caption:t[a].caption,path:o.path,type:o.type,value:a,index:o.index,dataIndex:a,isMetric:!0,isEmpty:o.isEmpty&&o.isEmpty[a]})}}))}(e,a,r),!r.showEmpty&&function(e){Object(b["f"])([{children:e}],(function(t,n){var a=t[0],o=(t[1]?t[1].children:e)||[],r=a.isEmpty;r&&r.length&&(r=a.isEmpty.filter((function(e){return e})).length===r.length),a&&!a.children&&r&&(o.splice(n,1),function e(t,n){var a=t[n+1];!t[n].children.length&&a&&a.children&&(a.children.splice(Object(w["c"])(t[n],a.children),1),e(t,n+1))}(t,1))}))}(e),r.notifyProgress(.75),Object(C["c"])(Object(b["g"])(e,(function(n){var o=n[0],i=o.isMetric,s=t[n.length-1]||{};if(o.type!==I||i||(o.width=s.width),!0!==l||o.type!==I)o.wordWrapEnabled=i?a[o.dataIndex].wordWrapEnabled:s.wordWrapEnabled,o.isLast=!o.children||!o.children.length,o.isLast&&Object(c["a"])(r.sortBySummaryPaths,(function(e,t){if(Object(h["d"])(o.dataIndex)||(t=t.slice(0),t.pop()),function(e,t){var n,a=e[0],o=Object(h["o"])(t[0]),r=a.dataIndex>=0?e[1]:a;return n=o&&-1!==t[0].indexOf("&[")&&r.key||!r.key?Object(b["b"])(e):Object(c["b"])(e,(function(e){return e.dataIndex>=0?e.value:e.text})).reverse(),a.type===F&&(n=n.slice(1)),n.join("/")===t.join("/")}(n,t))return o.sorted=!0,!1})),o.text=function(e,t,n){var a=e.text;return Object(h["d"])(e.displayText)?a=e.displayText:Object(h["d"])(e.caption)?a=e.caption:e.type===F&&(a=n.texts.grandTotal),e.isAdditionalTotal&&(a=Object(d["b"])(n.texts.total||"",a)),a}(o,0,r);else{var u=(n[1]?n[1].children:e)||[];u.splice(Object(w["c"])(o,u),1)}}))).done((function(){e.length||e.push({}),r.notifyProgress(1),u.resolve(e)}))}))})),u};function n(e,t,n){var a=e[t]=e[t]||[],o=a[n]={};if(e[t+1]){o.children=e[t+1];for(var r=t+1;r<e.length;r++)e[r]=void 0;e.length=t+1}return o}return function(n,a,o,r,i){var l=[],s=function(e){var t=0;return Object(b["f"])(e,(function(e){t=E.max(t,e.length)})),t}(n)||1,d=new C["a"];return t(n,a,o,s,i).done((function(t){!function(t,n,a,o,r){var i,l,s=0,d=[0];Object(b["f"])(n,(function(n){var u=n[0];l=u.isMetric?a:n.length-1;while(d.length-1<l)d.push(d[d.length-1]);i=d[l]||0,s=e(t,{headerItem:u,index:i,lastIndex:s,depth:l,isHorizontal:o,isTree:r}),d.length=l,d.push(s)}))}(l,t,s,r,"tree"===i.layout),i.notifyProgress(1),d.resolve(l)})),d}}();function n(e,t){var n=[];return Object(c["a"])(e,(function(e,a){var o=Object(b["d"])(t,a.sortBySummaryField);o>=0&&n.push((a.sortBySummaryPath||[]).concat([o]))})),n}function a(e,t){for(var n=0,a=[],o=0;o<e.length;o++)for(var r=0;r<e[o].length;r++){var i=(e[o][r].rowspan||1)-1,l=o+i;if(a[o]&&(n-=a[o],a[o]=0),!1===t(e[o][r],l,o,r,n))break;a[o+(e[o][r].rowspan||1)]=(a[o+(e[o][r].rowspan||1)]||0)+1,n++}}function o(e,t){var n=0,a=[];return Object(b["f"])(e,(function(e){var o=e[0],r=Object(b["b"])(e);if(!o.children||!1!==t.showTotals){var i=Object(p["a"])(!0,{},o,{visibleIndex:n++,path:r});Object(h["d"])(i.index)?a[i.index]=i:a.push(i)}})),a}function r(e,t,n){if(t&&"virtual"===t.option("scrolling.mode"))return new S["a"](t,Object(p["a"])({hasKnownLastPage:function(){return!0},pageCount:function(){return E.ceil(this.totalItemsCount()/this.pageSize())},updateLoading:function(){},itemsCount:function(){return this.pageIndex()<this.pageCount()-1?this.pageSize():this.totalItemsCount()%this.pageSize()},items:function(){return[]},viewportItems:function(){return[]},onChanged:function(){},isLoading:function(){return e.isLoading()},changingDuration:function(){var t=e._dataSource;return t.paginate()?D:e._changingDuration||0}},n))}var i={ctor:function(e){var t=this,n=t._fireChanged.bind(t);e=t._options=e||{},t.dataSourceChanged=Object(x["default"])(),t._dataSource=t._createDataSource(e),t._rowsScrollController=r(t,e.component,{totalItemsCount:function(){return t.totalRowCount()},pageIndex:function(e){return t.rowPageIndex(e)},pageSize:function(){return t.rowPageSize()},load:function(){return t._rowsScrollController.pageIndex()>=this.pageCount()&&t._rowsScrollController.pageIndex(this.pageCount()-1),t._rowsScrollController.handleDataChanged((function(){t._dataSource.paginate()?t._dataSource.load():n.apply(this,arguments)}))}}),t._columnsScrollController=r(t,e.component,{totalItemsCount:function(){return t.totalColumnCount()},pageIndex:function(e){return t.columnPageIndex(e)},pageSize:function(){return t.columnPageSize()},load:function(){return t._columnsScrollController.pageIndex()>=this.pageCount()&&t._columnsScrollController.pageIndex(this.pageCount()-1),t._columnsScrollController.handleDataChanged((function(){t._dataSource.paginate()?t._dataSource.load():n.apply(this,arguments)}))}}),t._stateStoringController=new j["a"](e.component).init(),t._columnsInfo=[],t._rowsInfo=[],t._cellsInfo=[],t.expandValueChanging=Object(x["default"])(),t.loadingChanged=Object(x["default"])(),t.progressChanged=Object(x["default"])(),t.scrollChanged=Object(x["default"])(),t.load(),t._update(),t.changed=Object(x["default"])()},_fireChanged:function(){var e=new Date;this.changed&&!this._lockChanged&&this.changed.fire(),this._changingDuration=new Date-e},_correctSkipsTakes:function(e,t,n,a,o,r){var i=n?e+n-1:e;o[a.length]=o[a.length]||0,r[a.length]=r[a.length]||0,i<t?o[a.length]++:r[a.length]++},_calculatePagingForRowExpandedPaths:function(e,t,n,a,o){var r,i,l,s=this._rowsInfo,d=Math.min(e.rowSkip+e.rowTake,s.length),u=e.rowExpandedPaths,c=[],h={};for(u.forEach((e,t)=>{h[e]=t}),r=0;r<d;r++){for(n.length=t.length=c.length+1,i=0;i<s[r].length;i++){var p=s[r][i];if("D"===p.type){this._correctSkipsTakes(r,e.rowSkip,p.rowspan,c,t,n),l=p.path||l;var f=l&&l.length>1?h[l.slice(0,-1)]:-1;f>=0&&(a[f]=t[c.length]||0,o[f]=n[c.length]||0),p.rowspan&&c.push(p.rowspan)}}c=c.map(e=>e-1).filter(e=>e>0)}},_calculatePagingForColumnExpandedPaths:function(e,t,n,a,o){var r={},i={};Object(y["b"])(this._columnsInfo,(function(t,n){if("D"===t.type&&t.path&&void 0===t.dataIndex){var a=t.colspan||1,o=t.path.slice(0,-1).toString();r[o]=r[o]||0,i[o]=i[o]||0,n+a<=e.columnSkip?r[o]++:n<e.columnSkip+e.columnTake&&i[o]++}})),t[0]=r[[]],n[0]=i[[]],e.columnExpandedPaths.forEach((function(e,t){var n=r[e],l=i[e];void 0!==n&&(a[t]=n),void 0!==l&&(o[t]=l)}))},_processPagingForExpandedPaths:function(e,t,n,a){var o=e[t+"ExpandedPaths"],r=o.map(()=>0),i=o.map(()=>a?e.pageSize:0),l=[],s=[];a||("row"===t?this._calculatePagingForRowExpandedPaths(e,l,s,r,i):this._calculatePagingForColumnExpandedPaths(e,l,s,r,i)),this._savePagingForExpandedPaths(e,t,n,l[0],s[0],r,i)},_savePagingForExpandedPaths:function(e,t,n,a,o,r,i){var l=e[t+"ExpandedPaths"];e[t+"ExpandedPaths"]=[],e[t+"Skip"]=void 0!==a?a:e[t+"Skip"],e[t+"Take"]=void 0!==o?o:e[t+"Take"];for(var s=0;s<l.length;s++)if(i[s]){var d=e.area&&e.area!==t;n.push(Object(p["a"])({area:t,headerName:t+"s"},e,{[t+"Skip"]:r[s],[t+"Take"]:i[s],[d?"oppositePath":"path"]:l[s]}))}},_handleCustomizeStoreLoadOptions:function(e,t){var n=e[0],a=this._rowsScrollController;if(this._dataSource.paginate()&&a){var o=a.pageSize();"rows"===n.headerName?(n.rowSkip=0,n.rowTake=o,n.rowExpandedPaths=[]):(n.rowSkip=a.beginPageIndex()*o,n.rowTake=(a.endPageIndex()-a.beginPageIndex()+1)*o,this._processPagingForExpandedPaths(n,"row",e,t))}var r=this._columnsScrollController;if(this._dataSource.paginate()&&r){var i=r.pageSize();e.forEach((n,a)=>{"columns"===n.headerName?(n.columnSkip=0,n.columnTake=i,n.columnExpandedPaths=[]):(n.columnSkip=r.beginPageIndex()*i,n.columnTake=(r.endPageIndex()-r.beginPageIndex()+1)*i,this._processPagingForExpandedPaths(n,"column",e,t))})}},load:function(){var e=this,t=this._stateStoringController;t.isEnabled()&&!t.isLoaded()?t.load().always((function(t){t?e._dataSource.state(t):e._dataSource.load()})):e._dataSource.load()},calculateVirtualContentParams:function(e){var t=this._rowsScrollController,n=this._columnsScrollController;if(t&&n)return t.viewportItemSize(e.virtualRowHeight),t.viewportSize(e.viewportHeight/t.viewportItemSize()),t.setContentItemSizes(e.itemHeights),n.viewportItemSize(e.virtualColumnWidth),n.viewportSize(e.viewportWidth/n.viewportItemSize()),n.setContentItemSizes(e.itemWidths),Object(u["e"])((function(){n.loadIfNeed(),t.loadIfNeed()})),this.scrollChanged.fire({left:n.getViewportPosition(),top:t.getViewportPosition()}),{contentTop:t.getContentOffset(),contentLeft:n.getContentOffset(),width:n.getVirtualContentSize(),height:t.getVirtualContentSize()}},setViewportPosition:function(e,t){this._rowsScrollController.setViewportPosition(t||0),this._columnsScrollController.setViewportPosition(e||0)},subscribeToWindowScrollEvents:function(e){this._rowsScrollController&&this._rowsScrollController.subscribeToWindowScrollEvents(e)},updateWindowScrollPosition:function(e){this._rowsScrollController&&this._rowsScrollController.scrollTo(e)},updateViewOptions:function(e){Object(p["a"])(this._options,e),this._update()},_handleExpandValueChanging:function(e){this.expandValueChanging.fire(e)},_handleLoadingChanged:function(e){this.loadingChanged.fire(e)},_handleProgressChanged:function(e){this.progressChanged.fire(e)},_handleFieldsPrepared:function(e){this._options.onFieldsPrepared&&this._options.onFieldsPrepared(e)},_createDataSource:function(e){var t,n=this,a=e.dataSource;return n._isSharedDataSource=a instanceof T["a"],t=n._isSharedDataSource?a:new T["a"](a),n._expandValueChangingHandler=n._handleExpandValueChanging.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._fieldsPreparedHandler=n._handleFieldsPrepared.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._changedHandler=function(){n._update(),n.dataSourceChanged.fire()},n._progressChangedHandler=function(e){n._handleProgressChanged(.8*e)},t.on("changed",n._changedHandler),t.on("expandValueChanging",n._expandValueChangingHandler),t.on("loadingChanged",n._loadingChangedHandler),t.on("progressChanged",n._progressChangedHandler),t.on("fieldsPrepared",n._fieldsPreparedHandler),t.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),t},getDataSource:function(){return this._dataSource},isLoading:function(){return this._dataSource.isLoading()},beginLoading:function(){this._dataSource.beginLoading()},endLoading:function(){this._dataSource.endLoading()},_update:function(){var e=this,a=e._dataSource,r=e._options,i=a.getAreaFields("column"),l=a.getAreaFields("row"),s=a.getAreaFields("data"),d="row"===r.dataFieldArea?s:[],u="row"!==r.dataFieldArea?s:[],p=a.getData(),f=function(e){var t=[];return Object(c["a"])(e,(function(e,n){!1===n.showTotals&&t.push(e)})),t}(s),g=function(e){var t=[];return e.forEach((function(e,n){(void 0===e.showValues&&!1===e.showTotals||!1===e.showValues)&&t.push(n)})),t}(s),m=function(e,t){var n=[];return Object(c["a"])(e,(function(e,t){!1===t.showGrandTotals&&n.push(e)})),0===t.length&&n.length===e.length&&(n=[]),n}(s,i),v=!(s.length>0)||m.length!==s.length,_={isEmptyGrandTotal:p.isEmptyGrandTotalRow,texts:r.texts||{},hiddenTotals:f,hiddenValues:g,hiddenGrandTotals:[],showTotals:r.showRowTotals,showGrandTotals:!1!==r.showRowGrandTotals&&v,sortBySummaryPaths:n(i,s),showTotalsPrior:"rows"===r.showTotalsPrior||"both"===r.showTotalsPrior,showEmpty:!r.hideEmptySummaryCells,layout:r.rowHeaderLayout,fields:l,dataFields:s,progress:0},b={isEmptyGrandTotal:p.isEmptyGrandTotalColumn,texts:r.texts||{},hiddenTotals:f,hiddenValues:g,hiddenGrandTotals:m,showTotals:r.showColumnTotals,showTotalsPrior:"columns"===r.showTotalsPrior||"both"===r.showTotalsPrior,showGrandTotals:!1!==r.showColumnGrandTotals&&v,sortBySummaryPaths:n(l,s),showEmpty:!r.hideEmptySummaryCells,fields:i,dataFields:s,progress:0},x=function(t){this.progress=t,e._handleProgressChanged(.8+.1*_.progress+.1*b.progress)};_.notifyProgress=x,b.notifyProgress=x,Object(h["d"])(p.grandTotalRowIndex)||(p.grandTotalRowIndex=o(p.rows,_).length),Object(h["d"])(p.grandTotalColumnIndex)||(p.grandTotalColumnIndex=o(p.columns,b).length),a._changeLoadingCount(1),Object(C["c"])(t(p.columns,i,u,!0,b),t(p.rows,l,d,!1,_)).always((function(){a._changeLoadingCount(-1)})).done((function(t,n){e._columnsInfo=t,e._rowsInfo=n,e._rowsScrollController&&e._columnsScrollController&&e.changed&&!e._dataSource.paginate()&&(e._lockChanged=!0,e._rowsScrollController.load(),e._columnsScrollController.load(),e._lockChanged=!1)})).done((function(){e._fireChanged(),e._stateStoringController.isEnabled()&&!e._dataSource.isLoading()&&(e._stateStoringController.state(e._dataSource.state()),e._stateStoringController.save())}))},getRowsInfo:function(e){var t,n=this._rowsInfo,o=this._rowsScrollController;if(o&&!e){var r=o.beginPageIndex()*this.rowPageSize(),i=o.endPageIndex()*this.rowPageSize()+this.rowPageSize(),l=[],s=1;return a(n,(function(e,n,a,o,d){var u=n>=r&&a<i,c=a<r?0:a-r,h=e;if(u)l[c]=l[c]||[],t=a<r?e.rowspan-(r-a)||1:e.rowspan,r+c+t>i&&(t=i-(c+r)||1),t!==e.rowspan&&(h=Object(p["a"])({},h,{rowspan:t})),l[c].push(h),s=E.max(s,d+1);else if(void 0>i)return!1})),a(l,(function(e,t,n,a,o){var r=e.colspan||1;o+r>s&&(l[n][a]=Object(p["a"])({},e,{colspan:s-o||1}))})),l}return n},getColumnsInfo:function(e){var t=this._columnsInfo,n=this._columnsScrollController;if(n&&!e){var a=n.beginPageIndex()*this.columnPageSize(),o=n.endPageIndex()*this.columnPageSize()+this.columnPageSize();t=Object(y["a"])(t,a,o)}return t},totalRowCount:function(){return this._rowsInfo.length},rowPageIndex:function(e){return void 0!==e&&(this._rowPageIndex=e),this._rowPageIndex||0},totalColumnCount:function(){var e=0;if(this._columnsInfo&&this._columnsInfo.length)for(var t=0;t<this._columnsInfo[0].length;t++)e+=this._columnsInfo[0][t].colspan||1;return e},rowPageSize:function(e){return void 0!==e&&(this._rowPageSize=e),this._rowPageSize||20},columnPageSize:function(e){return void 0!==e&&(this._columnPageSize=e),this._columnPageSize||20},columnPageIndex:function(e){return void 0!==e&&(this._columnPageIndex=e),this._columnPageIndex||0},getCellsInfo:function(t){var n=this.getRowsInfo(t),o=this.getColumnsInfo(t),r=this._dataSource.getData(),i=this._options.texts||{};return function(t,n,o,r,i,l){var s=[],d="row"===i,u=o.values;return u.length&&a(t,(function(t,a){var i=s[a]=[],c=u[t.dataSourceIndex>=0?t.dataSourceIndex:o.grandTotalRowIndex]||[];t.isLast&&Object(y["b"])(n,(function(n,a){var s=(d?t.dataIndex:n.dataIndex)||0,u=r[s];if(n.isLast&&u){var h=c[n.dataSourceIndex>=0?n.dataSourceIndex:o.grandTotalColumnIndex];Array.isArray(h)||(h=[h]);var p=h[s];i[a]={text:e(p,u,l),value:p,format:u.format,dataType:u.dataType,columnType:n.type,rowType:t.type,rowPath:t.path||[],columnPath:n.path||[],dataIndex:s},u.width&&(i[a].width=u.width)}}))})),s}(n,o,r,this._dataSource.getAreaFields("data"),this._options.dataFieldArea,i.dataNotAvailable)},dispose:function(){this._isSharedDataSource?(this._dataSource.off("changed",this._changedHandler),this._dataSource.off("expandValueChanging",this._expandValueChangingHandler),this._dataSource.off("loadingChanged",this._loadingChangedHandler),this._dataSource.off("progressChanged",this._progressChangedHandler),this._dataSource.off("fieldsPrepared",this._fieldsPreparedHandler),this._dataSource.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler)):this._dataSource.dispose(),this._columnsScrollController&&this._columnsScrollController.dispose(),this._rowsScrollController&&this._rowsScrollController.dispose(),this._stateStoringController.dispose(),this.expandValueChanging.empty(),this.changed.empty(),this.loadingChanged.empty(),this.progressChanged.empty(),this.scrollChanged.empty(),this.dataSourceChanged.empty()}};return N(i,"applyPartialDataSource"),N(i,"collapseHeaderItem"),N(i,"expandHeaderItem"),N(i,"getData"),N(i,"isEmpty"),i}()),B=n("7d86"),H="dx-expand",M=function(e){var t=0,n=e.offsetWidth;if(e.getBoundingClientRect){var a=Object(B["a"])(e);t=a.width,t||(t=a.right-a.left),t<=n-1&&(t=n)}return t>0?t:n};function L(e,t,n,a){var o=0,r=0,i=n/2;return e+a-(t+n)>1?(e>=t+n+i&&(r=parseInt((e-(t+n))/i,10)),o=t+n+i*r):e<t?(e<=t-i&&(r=parseInt((e-(t-i))/i,10)),o=t-(n-i*r)):o=t,o}var R=O["a"].inherit({_getRowElement:function(e){return this._tableElement&&this._tableElement.length>0?this._tableElement[0].rows[e]:null},_createGroupElement:function(){return Object(a["a"])("<div>")},_createTableElement:function(){return Object(a["a"])("<table>")},_getCellText:function(e,t){var n=e.isWhiteSpace?"&nbsp":e.text||"&nbsp";return!t||-1===n.indexOf("<")&&-1===n.indexOf(">")||(n=Object(a["a"])("<div>").text(n).html()),n},_getRowClassNames:function(){},_applyCustomStyles:function(e){e.cell.width&&e.cssArray.push("min-width:"+e.cell.width+"px"),e.cell.sorted&&e.classArray.push("dx-pivotgrid-sorted")},_getMainElementMarkup:function(){return"<tbody>"},_getCloseMainElementMarkup:function(){return"</tbody>"},_renderTableContent:function(e,t){var n,a,o,r,i,l,s=t.length,d=this.option("rtlEnabled"),u=[],c=this.option("encodeHtml");for(e.data("area",this._getAreaName()),e.data("data",t),e.css("width",""),u.push(this._getMainElementMarkup()),o=0;o<s;o++){n=t[o];var p=[];for(l=[],u.push("<tr "),r=0;r<n.length;r++){if(a=n[r],this._getRowClassNames(o,a,l),p.push("<td "),a){a.rowspan&&p.push("rowspan='"+(a.rowspan||1)+"'"),a.colspan&&p.push("colspan='"+(a.colspan||1)+"'");var f={cellElement:void 0,cell:a,cellsCount:n.length,cellIndex:r,rowElement:void 0,rowIndex:o,rowsCount:s,rtlEnabled:d,classArray:[],cssArray:[]};this._applyCustomStyles(f),f.cssArray.length&&(p.push("style='"),p.push(f.cssArray.join(";")),p.push("'")),f.classArray.length&&(p.push("class='"),p.push(f.classArray.join(" ")),p.push("'")),p.push(">"),Object(h["d"])(a.expanded)&&p.push("<div class='dx-expand-icon-container'><span class='"+H+"'></span></div>"),i=this._getCellText(a,c)}else i="";p.push("<span "),Object(h["d"])(a.wordWrapEnabled)&&p.push("style='white-space:",a.wordWrapEnabled?"normal":"nowrap",";'"),p.push(">"+i+"</span>"),a.sorted&&p.push("<span class='dx-icon-sorted'></span>"),p.push("</td>")}l.length&&(u.push("class='"),u.push(l.join(" ")),u.push("'")),u.push(">"),u.push(p.join("")),u.push("</tr>")}u.push(this._getCloseMainElementMarkup()),e.append(u.join("")),this._triggerOnCellPrepared(e,t)},_triggerOnCellPrepared:function(e,t){var n,a,o,r,i,l,d,u=e.find("tr"),c=this._getAreaName(),h=this.option("onCellPrepared"),f=this.component._eventsStrategy.hasEvent("cellPrepared"),g=this.component._defaultActionArgs();if(h||f)for(l=0;l<t.length;l++)for(r=t[l],n=u.eq(l),d=0;d<r.length;d++)i=r[d],a=n.children().eq(d),o={area:c,rowIndex:l,columnIndex:d,cellElement:Object(s["a"])(a),cell:i},f?this.component._trigger("onCellPrepared",o):h(Object(p["a"])(o,g))},_getRowHeight:function(e){var t=this._getRowElement(e),n=0,a=t.offsetHeight;if(t&&t.lastChild){if(t.getBoundingClientRect){var o=Object(B["a"])(t);n=o.height,n<=a-1&&(n=a)}return n>0?n:a}return 0},_setRowHeight:function(e,t){var n=this._getRowElement(e);n&&(n.style.height=t+"px")},ctor:function(e){this.component=e},option:function(){return this.component.option.apply(this.component,arguments)},getRowsLength:function(){return this._tableElement&&this._tableElement.length>0?this._tableElement[0].rows.length:0},getRowsHeight:function(){var e,t=[],n=this.getRowsLength();for(e=0;e<n;e++)t.push(this._getRowHeight(e));return t},setRowsHeight:function(e){var t,n=0,a=e.length;for(t=0;t<a;t++)n+=e[t],this._setRowHeight(t,e[t]);this._tableHeight=n,this._tableElement[0].style.height=n+"px"},getColumnsWidth:function(){var e,t,n,a,o=this.getRowsLength(),r=[],i=[],l=function(e,t,n,a,o){var r,i;for(r=0;r<a;r++)for(i=0;i<o;i++)e[t+r]=e[t+r]||[],e[t+r][n+i]=!0};if(o)for(e=0;e<o;e++)for(r[e]=r[e]||[],t=this._getRowElement(e),n=0;n<t.cells.length;n++){for(a=0;r[e][a];a++);l(r,e,a,t.cells[n].rowSpan,t.cells[n].colSpan),1===t.cells[n].colSpan&&(i[a]=i[a]||M(t.cells[n]))}return i},setColumnsWidth:function(e){var t,n=this._tableElement[0],a="",o=this.getColumnsCount(),r=[];for(t=0;t<o;t++)r.push(e[t]||0);for(t=o;t<e.length&&e;t++)r[o-1]+=e[t];for(t=0;t<o;t++)a+='<col style="width: '+r[t]+'px">';this._colgroupElement.html(a),this._tableWidth=r.reduce((e,t)=>e+t,0),n.style.width=this._tableWidth+"px",n.style.tableLayout="fixed"},resetColumnsWidth:function(){this._colgroupElement.find("col").width("auto"),this._tableElement.css({width:"",tableLayout:""})},groupWidth:function(e){return void 0===e?this._groupElement.width():e>=0?(this._groupWidth=e,this._groupElement[0].style.width=e+"px"):this._groupElement[0].style.width=e},groupHeight:function(e){if(void 0===e)return this._groupElement.height();this._groupHeight=null,e>=0?(this._groupHeight=e,this._groupElement[0].style.height=e+"px"):this._groupElement[0].style.height=e},groupElement:function(){return this._groupElement},tableElement:function(){return this._tableElement},element:function(){return this._rootElement},headElement:function(){return this._tableElement.find("thead")},_setTableCss:function(e){this.option("rtlEnabled")&&(e.right=e.left,delete e.left),this.tableElement().css(e)},setVirtualContentParams:function(e){this._virtualContent.css({width:e.width,height:e.height}),this.groupElement().addClass("dx-virtual-mode")},disableVirtualMode:function(){this.groupElement().removeClass("dx-virtual-mode")},_renderVirtualContent:function(){this._virtualContent||"virtual"!==this.option("scrolling.mode")||(this._virtualContent=Object(a["a"])("<div>").addClass("dx-virtual-content").insertBefore(this._tableElement))},reset:function(){var e=this._tableElement[0];if(this._fakeTable&&this._fakeTable.detach(),this._fakeTable=null,this.disableVirtualMode(),this.groupWidth("100%"),this.groupHeight("auto"),this.resetColumnsWidth(),e){for(var t=0;t<e.rows.length;t++)e.rows[t].style.height="";e.style.height="",e.style.width="100%"}},_updateFakeTableVisibility:function(){var e=this.tableElement()[0],t=this.option("rtlEnabled")?"right":"left",n=this._fakeTable[0];e.style.top===n.style.top&&n.style[t]===e.style[t]?this._fakeTable.addClass("dx-hidden"):this._fakeTable.removeClass("dx-hidden")},_moveFakeTableHorizontally:function(e){var t=this.option("rtlEnabled"),n=t?"right":"left",a=parseFloat(this.tableElement()[0].style[n]),o=L(e,a,this._tableWidth,this._groupWidth);parseFloat(this._fakeTable[0].style[n])!==o&&(this._fakeTable[0].style[n]=o+"px")},_moveFakeTableTop:function(e){var t=parseFloat(this.tableElement()[0].style.top),n=L(e,t,this._tableHeight,this._groupHeight);parseFloat(this._fakeTable[0].style.top)!==n&&(this._fakeTable[0].style.top=n+"px")},_moveFakeTable:function(){this._updateFakeTableVisibility()},_createFakeTable:function(){this._fakeTable||(this._fakeTable=this.tableElement().clone().addClass("dx-pivot-grid-fake-table").appendTo(this._virtualContent))},render:function(e,t){if(this._tableElement){try{this._tableElement[0].innerHTML=""}catch(n){this._tableElement.empty()}this._tableElement.attr("style","")}else this._groupElement=this._createGroupElement(),this._tableElement=this._createTableElement(),this._tableElement.appendTo(this._groupElement),this._groupElement.appendTo(e),this._rootElement=e;this._colgroupElement=Object(a["a"])("<colgroup>").appendTo(this._tableElement),this._renderTableContent(this._tableElement,t),this._renderVirtualContent()},_getScrollable:function(){return this.groupElement().data("dxScrollable")},on:function(e,t){var n=this,a=n._getScrollable();return a&&a.on(e,(function(e){n.option("rtlEnabled")&&Object(h["d"])(e.scrollOffset.left)&&(e.scrollOffset.left=a.$content().width()-a._container().width()-e.scrollOffset.left),t(e)})),this},off:function(e){var t=this._getScrollable();return t&&t.off(e),this},scrollTo:function(e){var t=this._getScrollable(),n=e;t&&(this.option("rtlEnabled")&&("column"===this._getAreaName()?n=t.$content().width()-t._container().width()-e:"data"===this._getAreaName()&&(n={x:t.$content().width()-t._container().width()-e.x,y:e.y})),t.scrollTo(n),this._virtualContent&&(this._createFakeTable(),this._moveFakeTable(e)))},updateScrollable:function(){var e=this._getScrollable();if(e)return e.update()},getColumnsCount:function(){var e,t=0,n=this._getRowElement(0);if(n){e=n.cells;for(var a=0,o=e.length;a<o;++a)t+=e[a].colSpan}return t},getData:function(){var e=this._tableElement;return e?e.data("data"):[]}}),V="dx-pivotgrid-area",G="dx-pivotgrid-area-data",z="dx-total",W="dx-grandtotal",$="dx-row-total",U=R.inherit({_getAreaName:function(){return"data"},_createGroupElement:function(){return Object(a["a"])("<div>").addClass(V).addClass(G)},_applyCustomStyles:function(e){var t=e.cell,n=e.classArray;"T"!==t.rowType&&"T"!==t.columnType||n.push(z),"GT"!==t.rowType&&"GT"!==t.columnType||n.push(W),"T"!==t.rowType&&"GT"!==t.rowType||n.push($),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),this.callBase(e)},_moveFakeTable:function(e){this._moveFakeTableHorizontally(e.x),this._moveFakeTableTop(e.y),this.callBase()},processScroll:function(e,t,n){var a="both";t&&!n?a="horizontal":!t&&n&&(a="vertical"),this._groupElement.css("borderTopWidth",0).dxScrollable({useNative:!!e,useSimulatedScrollbar:!e,direction:a,bounceEnabled:!1,updateManually:!0})},reset:function(){this.callBase(),this._virtualContent&&this._virtualContent.parent().css("height","auto")},setVirtualContentParams:function(e){this.callBase(e),this._virtualContent.parent().css("height",e.height),this._setTableCss({top:e.top,left:e.left})}}),q="dx-pivotgrid-area",Y="dx-pivotgrid-horizontal-headers",K="dx-pivotgrid-vertical-headers",X="dx-total",Q="dx-grandtotal",J="dx-row-total",Z="dx-pivotgrid-expanded",ee="dx-pivotgrid-collapsed",te="dx-last-cell",ne="dx-vertical-scroll",ae="dx-expand-border";function oe(e,t){if(t){var n=e.data().data,a=t.parentNode.rowIndex,o=t.cellIndex;return n[a]&&n[a][o]&&n[a][o].path}}var re=R.inherit({_getAreaName:function(){return"column"},_getAreaClassName:function(){return Y},_createGroupElement:function(){return Object(a["a"])("<div>").addClass(this._getAreaClassName()).addClass(q)},_applyCustomStyles:function(e){var t=e.cssArray,n=e.cell,a=e.rowsCount,o=e.classArray;e.cellIndex===e.cellsCount-1&&t.push((e.rtlEnabled?"border-left:":"border-right:")+"0px"),n.rowspan!==a-e.rowIndex&&e.rowIndex+1!==a||t.push("border-bottom-width:0px"),"T"!==n.type&&"GT"!==n.type||o.push(J),"T"===e.cell.type&&o.push(X),"GT"===e.cell.type&&o.push(Q),Object(h["d"])(n.expanded)&&o.push(n.expanded?Z:ee),this.callBase(e)},_getMainElementMarkup:function(){return"<thead class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</thead>"},setVirtualContentParams:function(e){this.callBase(e),this._setTableCss({left:e.left,top:0}),this._virtualContentWidth=e.width},hasScroll:function(){var e=this._virtualContent?this._virtualContentWidth:this._tableWidth;return!(!this._groupWidth||!e)&&e-this._groupWidth>=1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"horizontal",updateManually:!0})},processScrollBarSpacing:function(e){var t=this.option("rtlEnabled")?"right":"left";this._groupWidth&&this.groupWidth(this._groupWidth-e),this._scrollBarWidth&&this._groupElement.next().remove(),this._groupElement.toggleClass(ne,e>0),this._groupElement.css("float",t).width(this._groupHeight),this._scrollBarWidth=e},ctor:function(e){this.callBase(e),this._scrollBarWidth=0},getScrollPath:function(e){var t,n=this.tableElement();return e-=parseInt(n[0].style.left,10)||0,Object(c["a"])(n.find("td"),(function(n,a){if(1===a.colSpan&&a.offsetLeft<=e&&a.offsetWidth+a.offsetLeft>e)return t=a,!1})),oe(n,t)},_moveFakeTable:function(e){this._moveFakeTableHorizontally(e),this.callBase()}}),ie=re.inherit({_getAreaClassName:function(){return K},_applyCustomStyles:function(e){this.callBase(e),e.cellIndex===e.cellsCount-1&&e.classArray.push(te),e.rowIndex===e.rowsCount-1&&e.cssArray.push("border-bottom: 0px"),e.cell.isWhiteSpace&&e.classArray.push("dx-white-space-column")},_getAreaName:function(){return"row"},setVirtualContentParams:function(e){this.callBase(e),this._setTableCss({top:e.top,left:0}),this._virtualContentHeight=e.height},hasScroll:function(){var e=this._virtualContent?this._virtualContentHeight:this._tableHeight;return!(!this._groupHeight||!e)&&e-this._groupHeight>=1},processScroll:function(){this._getScrollable()||this._groupElement.dxScrollable({useNative:!1,useSimulatedScrollbar:!1,showScrollbar:!1,bounceEnabled:!1,direction:"vertical",updateManually:!0})},processScrollBarSpacing:function(e){this._groupHeight&&this.groupHeight(this._groupHeight-e),this._scrollBarWidth&&this._groupElement.next().remove(),e&&this._groupElement.after(Object(a["a"])("<div>").width("100%").height(e-1)),this._scrollBarWidth=e},getScrollPath:function(e){var t,n=this.tableElement();return e-=parseInt(n[0].style.top,10)||0,Object(c["a"])(n.find("tr"),(function(n,a){var o=a.childNodes[a.childNodes.length-1];if(o&&1===o.rowSpan&&o.offsetTop<=e&&o.offsetHeight+o.offsetTop>e)return t=o,!1})),oe(n,t)},_moveFakeTable:function(e){this._moveFakeTableTop(e),this.callBase()},_getRowClassNames:function(e,t,n){0!==e&t.expanded&&-1===Object(w["c"])(ae,n)&&n.push(ae)},_getMainElementMarkup:function(){return"<tbody class='"+this._getAreaClassName()+"'>"},_getCloseMainElementMarkup:function(){return"</tbody>"},updateColspans:function(e){var t=this.tableElement()[0].rows,n=0,a=[];if(!(this.getColumnsCount()-e>0))for(var o=0;o<t.length;o++)for(var r=0;r<t[o].cells.length;r++){var i=t[o].cells[r],l=i.rowSpan;a[o]&&(n-=a[o],a[o]=0);var s=e-(n+i.colSpan);r===t[o].cells.length-1&&s>0&&(i.colSpan=i.colSpan+s),a[o+l]=(a[o+l]||0)+i.colSpan,n+=i.colSpan}}}),le=n("f9d2"),se=n("a07b"),de=n("07ad"),ue=n("3932"),ce="<div>",he="dx-pivotgrid-drag-action";function pe(e,t,n,o){n&&n.groupName&&n.groupName===e.groupName&&Object(a["a"])(ce).addClass("dx-group-connector").addClass("dx-group-connector-prev").appendTo(o),t&&t.groupName&&t.groupName===e.groupName&&Object(a["a"])(ce).addClass("dx-group-connector").addClass("dx-group-connector-next").appendTo(o)}var fe=R.inherit({ctor:function(e,t){this.callBase(e),this._area=t},_getAreaName:function(){return"fields"},_createGroupElement:function(){return Object(a["a"])(ce).addClass("dx-pivotgrid-fields-area").addClass("dx-area-fields").addClass(he).attr("group",this._area)},isVisible:function(){return!!this.option("fieldPanel.visible")&&this.option("fieldPanel.show"+Object(b["a"])(this._area)+"Fields")},_renderButton:function(e){var t=this,n=Object(a["a"])("<td>").appendTo(Object(a["a"])("<tr>").appendTo(e)),o=t.component._createComponent(Object(a["a"])(ce).appendTo(n),de["default"],{text:"Fields",icon:"menu",width:"auto",onClick:function(){var e=t.tableElement().find(".dx-fields-area-popup").dxPopup("instance");e.option("visible")||e.show()}});o.$element().addClass("dx-pivotgrid-fields-area-hamburger")},_getPopupOptions:function(e,t){return{contentTemplate:function(){return Object(a["a"])("<table>").addClass("dx-area-field-container").append(Object(a["a"])("<thead>").addClass("dx-pivotgrid-fields-area-head").append(e))},height:"auto",width:"auto",position:{at:"left",my:"left",of:t},dragEnabled:!1,animation:{show:{type:"pop",duration:200}},shading:!1,showTitle:!1,closeOnOutsideClick:!0,container:t.parent()}},_renderPopup:function(e,t){var n=e.find(".dx-button"),o=this._getPopupOptions(t,n),r=this.component.$element().dxPivotGridFieldChooserBase("instance");this._rowPopup&&this._rowPopup.$element().remove(),this._rowPopup=this.component._createComponent(Object(a["a"])(ce).appendTo(e),se["default"],o),this._rowPopup.$element().addClass("dx-fields-area-popup"),this._rowPopup.content().addClass("dx-pivotgrid-fields-container"),this._rowPopup.content().parent().attr("group","row"),r.subscribeToEvents(this._rowPopup.content()),r.renderSortable(this._rowPopup.content())},_shouldCreateButton:function(){return!1},_renderTableContent:function(e,t){var n=this,o=this.groupElement(),r=this.isVisible(),i=n.component.$element().dxPivotGridFieldChooserBase("instance"),l=Object(a["a"])("<thead>").addClass("dx-pivotgrid-fields-area-head").appendTo(e),s=n._area,d=Object(a["a"])("<tr>");o.toggleClass("dx-hidden",!r),e.addClass("dx-area-field-container"),r&&(Object(c["a"])(t,(function(e,o){if(o.area===s&&!1!==o.visible){var r=Object(a["a"])("<td>").append(i.renderField(o,"row"===o.area)),l=r.find(".dx-column-indicators");l.length&&n._shouldCreateButton()&&l.insertAfter(l.next()),r.appendTo(d),pe(o,t[e+1],t[e-1],r)}})),d.children().length||Object(a["a"])("<td>").append(Object(a["a"])(ce).addClass("dx-empty-area-text").text(this.option("fieldPanel.texts."+s+"FieldArea"))).appendTo(d),n._shouldCreateButton()?(n._renderButton(l),n._renderPopup(e,d)):l.append(d))},reset:function(){this.callBase(),this.groupElement().css("marginTop",0)},_renderVirtualContent:u["n"]}),ge=n("86a7"),me=n("1977"),ve=n("9e0d"),_e=n("e4d3"),be=n("d0f3"),xe=n("fa06"),Ce="string",we=100,Oe=Object(p["a"])({},xe["a"],{exportToExcel:function(){Object(be["b"])(this.getDataProvider(),{fileName:this.option("export.fileName"),proxyUrl:this.option("export.proxyUrl"),format:"EXCEL",rtlEnabled:this.option("rtlEnabled"),ignoreErrors:this.option("export.ignoreExcelErrors"),exportingAction:this._actions.onExporting,exportedAction:this._actions.onExported,fileSavingAction:this._actions.onFileSaving},be["a"].getData)},_getLength:function(e){var t,n=e[0].length,a=0;for(t=0;t<n;t++)a+=e[0][t].colspan||1;return a},_correctCellsInfoItemLengths:function(e,t){for(var n=0;n<e.length;n++)while(e[n].length<t)e[n].push({});return e},_calculateCellInfoItemLength:function(e){for(var t=0,n=0;n<e.length;n++)t+=Object(h["d"])(e[n].colspan)?e[n].colspan:1;return t},_getAllItems:function(e,t,n){var a,o,r=n,i=this._getLength(t),l=e.length;if(e.length>0&&e[0].length>0&&n.length>0&&0===n[0].length){var s=this._calculateCellInfoItemLength(e[0]);s>0&&(r=this._correctCellsInfoItemLengths(n,s))}var d=e.concat(r);for(o=0;o<t.length;o++)for(a=t[o].length-1;a>=0;a--)Object(h["d"])(d[o+l])||(d[o+l]=[]),d[o+l].splice(0,0,Object(p["a"])({},t[o][a]));return d[0].splice(0,0,Object(p["a"])({},this._getEmptyCell(),{alignment:Object(B["b"])(this._options.rtlEnabled),colspan:i,rowspan:l})),this._prepareItems(d)},getDataProvider:function(){var e=this,t=this._dataController,n=new C["a"];return t.beginLoading(),setTimeout((function(){var a=Object(p["a"])(!0,[],t.getColumnsInfo(!0)),o=Object(p["a"])(!0,[],t.getRowsInfo(!0)),r=t.getCellsInfo(!0);n.resolve(e._getAllItems(a,o,r)),t.endLoading()})),new Se({items:n,rtlEnabled:this.option("rtlEnabled"),dataFields:this.getDataSource().getAreaFields("data"),customizeExcelCell:this.option("export.customizeExcelCell"),rowsArea:this._rowsArea,columnsArea:this._columnsArea})}}),Se=O["a"].inherit({ctor:function(e){this._options=e},ready:function(){var e=this._options;return Object(C["c"])(e.items).done(t=>{var n=t[0][0].rowspan,a=t[n-1];Object(c["a"])(a,(e,t)=>{t.width=we}),e.columns=a,e.items=t})},getColumns:function(){return this._options.columns},getColumnsWidths:function(){var e=this._options.columnsArea,t=this._options.rowsArea,n=this._options.columns,a=!Object(o["f"])()||"virtual"===e.option("scrolling.mode")||e.element().is(":hidden");return a?n.map(e=>we):t.getColumnsWidth().concat(e.getColumnsWidth())},getRowsCount:function(){return this._options.items.length},getGroupLevel:function(){return 0},getCellMerging:function(e,t){var n=this._options.items,a=n[e]&&n[e][t];return a?{colspan:a.colspan-1,rowspan:a.rowspan-1}:{colspan:0,rowspan:0}},getFrozenArea:function(){return{x:this.getRowAreaColCount(),y:this.getColumnAreaRowCount()}},getCellType:function(e,t){var n=this.getStyles()[this.getStyleId(e,t)];return n&&n.dataType||"string"},getCellData:function(e,t,n){var a={},o=this._options.items,r=o[e]&&o[e][t]||{};if(n){a.cellSourceData=r;var i=this._tryGetAreaName(r,e,t);i&&(a.cellSourceData.area=i),a.cellSourceData.rowIndex=e,a.cellSourceData.columnIndex=t}return"string"===this.getCellType(e,t)?a.value=r.text:a.value=r.value,a.cellSourceData&&a.cellSourceData.isWhiteSpace&&(a.value=""),a},_tryGetAreaName(e,t,n){return this.isColumnAreaCell(t,n)?"column":this.isRowAreaCell(t,n)?"row":Object(h["d"])(e.dataIndex)?"data":void 0},isRowAreaCell(e,t){return e>=this.getColumnAreaRowCount()&&t<this.getRowAreaColCount()},isColumnAreaCell(e,t){return t>=this.getRowAreaColCount()&&e<this.getColumnAreaRowCount()},getColumnAreaRowCount(){return this._options.items[0][0].rowspan},getRowAreaColCount(){return this._options.items[0][0].colspan},getHeaderStyles(){return[{alignment:"center",dataType:"string"},{alignment:Object(B["b"])(this._options.rtlEnabled),dataType:"string"}]},getDataFieldStyles(){var e=this._options.dataFields,t={alignment:this._options.rtlEnabled?"left":"right"},n=[];return e.length?(e.forEach(e=>{n.push(Object(me["a"])({},t,{format:e.format,dataType:this.getCellDataType(e)}))}),n):[t]},getStyles:function(){return this._styles||(this._styles=[...this.getHeaderStyles(),...this.getDataFieldStyles()]),this._styles},getCellDataType:function(e){if(e&&e.customizeText)return"string";if(e.dataType)return e.dataType;if(e.format){if(1===_e["a"].parse(ve["a"].format(1,e.format)))return"number";if(ve["a"].format(new Date,e.format))return"date"}return Ce},getStyleId:function(e,t){var n=this._options.items,a=n[e]&&n[e][t]||{};return 0===t&&0===e||this.isColumnAreaCell(e,t)?0:this.isRowAreaCell(e,t)?1:this.getHeaderStyles().length+(a.dataIndex||0)},hasCustomizeExcelCell:function(){return Object(h["d"])(this._options.customizeExcelCell)},customizeExcelCell:function(e){this._options.customizeExcelCell&&this._options.customizeExcelCell(e)}}),ye={number:"numeric",date:"datetime"},je="dxPivotGridUnbinding";function Te(e,t){var n=[],a=t.length-1;return Object(c["a"])(e,(function(e,o){n.push(o.text||Object(b["h"])(o.value,t[a-e]))})),n.reverse()}function Ee(e){var t=0;return Object(b["f"])(e,(function(e){t=Math.max(t,e.length-1)})),t}function Fe(e,t){var n=e.chartDataItem,a=t&&t(e);return a?(n=Object(p["a"])({},n,a.chartDataItem),a=Object(p["a"])({},e,a,{chartDataItem:n}),a):e}function Pe(e,t,n){var a,o,r,i,l,s,d,u,h,p,f=e.getData(),g=[],m=e.getAreaFields("data"),v=e.getAreaFields("row"),_=e.getAreaFields("column"),x=[{index:f.grandTotalColumnIndex,children:f.columns}],C=[{index:f.grandTotalRowIndex,children:f.rows}],w=Ee(C),O=Ee(x);function S(){var e,c=(f.values[r]||[])[d]||[],b=c[a],x={rowPath:s,maxRowLevel:w,rowPathFormatted:l,rowFields:v,columnPathFormatted:p,maxColumnLevel:O,columnPath:h,columnFields:_,dataFields:m,dataIndex:a,dataValues:c,visible:u&&i},C=(t.inverted?p:l).join(" - "),S=(t.inverted?l:p).join("/");m.length>1&&("args"!==t.putDataFieldsInto&&"both"!==t.putDataFieldsInto||(S+=" | "+o.caption),"args"!==t.putDataFieldsInto&&(C+=" | "+o.caption,"singleAxis"!==t.dataFieldsDisplayMode&&(e=o.caption))),x.chartDataItem={val:void 0===b?null:b,series:C,arg:S},x=Fe(x,t.processCell),x.visible&&(n[x.chartDataItem.series]=n[x.chartDataItem.series]||e,g.push(x.chartDataItem))}function y(e){Object(b["f"])(C,(function(n){r=n[0].index,n=n.slice(0,n.length-1),i=w===n.length,s=Object(b["b"])(n),l=Te(n,v),0===s.length&&(l=[t.grandTotalText]),Object(b["f"])(x,(function(n){d=n[0].index,n=n.slice(0,n.length-1),u=O===n.length,h=Object(b["b"])(n),p=Te(n,_),0===h.length&&(p=[t.grandTotalText]),e()}))}))}function j(e){Object(c["a"])(m,(function(t,n){o=n,a=t,e()}))}return!1===t.alternateDataFields?j((function(){y(S)})):y((function(){j(S)})),g}function Ie(e,t){var n=e.getAreaFields("data");if("args"!==t.putDataFieldsInto&&"singleAxis"!==t.dataFieldsDisplayMode||1===n.length){var a=[];return Object(c["a"])(n,(function(e,n){var o={name:n.caption,title:n.caption,valueType:ye[n.dataType]||n.dataType,label:{format:n.format}};n.customizeText&&(o.label.customizeText=function(e){return n.customizeText.call(n,e)}),"splitPanes"===t.dataFieldsDisplayMode&&(o.pane=n.caption),a.push(o)})),a}return[{}]}function Ae(e,t){var n=[],a=e.getAreaFields("data");return a.length>1&&"splitPanes"===t.dataFieldsDisplayMode&&"args"!==t.putDataFieldsInto&&Object(c["a"])(a,(function(e,t){n.push({name:t.caption})})),n.length||n.push({}),n}function De(e,t){var n=t.customizeSeries,a=t.customizeChart,o={valueAxis:Ie(e,t),panes:Ae(e,t)},r={};return a&&(o=Object(p["a"])(!0,{},o,a(o))),o.dataSource=Pe(e,t,r),o.seriesTemplate={nameField:"series",customizeSeries:function(e){var a={};return"splitPanes"===t.dataFieldsDisplayMode?a.pane=r[e]:"singleAxis"!==t.dataFieldsDisplayMode&&(a.axis=r[e]),n&&(a=Object(p["a"])(a,n(e,a))),a}},o}function Ne(e){if(!e)return!1;if(e.NAME)return"dxChart"===e.NAME&&e;var t=Object(a["a"])(e);return t.data("dxChart")&&t.dxChart("instance")}function ke(e){var t=e.$element().data(je);t&&t()}var Be={bindChart:function(e,t){t=Object(p["a"])({},t);var n=this,a=function(){t.grandTotalText=n.option("texts.grandTotal");var a=De(n.getDataSource(),t);e.option(a)};if(e=Ne(e),!e)return null;ke(e),n.on("changed",a),a();var o=function(){e.$element().removeData(je),n.off("changed",a)};return e.on("disposing",o),this.on("disposing",o),e.$element().data(je,o),o}},He=n("b957"),Me=Object(o["d"])(),Le="dx-area-data-cell",Re="dx-area-row-cell",Ve="dx-area-column-cell",Ge="dx-area-description-cell",ze="dx-pivotgrid-border",We="dx-pivotgrid",$e="dx-row-lines",Ue="dx-bottom-row",qe="dx-bottom-border",Ye="dx-pivotgrid-fields-container",Ke="dx-area-fields",Xe="dx-fieldchooser-popup",Qe="dx-incompressible-fields",Je="dx-overflow-hidden",Ze="<tr>",et="<td>",tt="<div>",nt=66666,at=["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"];function ot(e){var t=0;return Object(c["a"])(e,(function(e,n){t+=n||0})),t}function rt(e,t){for(var n=t/e.length,a=0;a<e.length;a++)e[a]-=n}function it(e){e.off("scroll").off("stop")}function lt(e,t){it(e),e.on("scroll",t).on("stop",t)}var st={};function dt(e){if(st[e])return st[e];var t,n={},o=Object(a["a"])(tt).css({position:"absolute",visibility:"hidden",top:-1e3,left:-1e3,width:100,height:100}).appendTo("body"),r=Object(a["a"])("<p>").css({width:"100%",height:200}).appendTo(o);"auto"!==e&&(n.useNative=!!e,n.useSimulatedScrollbar=!e),o.dxScrollable(n);var i=o.dxScrollable("instance").option("useNative");return t=i?o.width()-r.width():0,o.remove(),st[e]={scrollBarWidth:t,scrollBarUseNative:i},st[e]}function ut(e,t){var n="width"===t?["borderLeftWidth","borderRightWidth"]:["borderTopWidth","borderBottomWidth"],a=0;return Object(c["a"])(e,(function(e,t){var o=Me.getComputedStyle(t.get(0));n.forEach((function(e){a+=parseFloat(o[e])||0}))})),a}function ct(e){return e.closest("."+Ke).length||e.find("."+Ke).length}var ht=m["a"].inherit({_getDefaultOptions:function(){return Object(p["a"])(this.callBase(),{scrolling:{timeout:300,renderingThreshold:150,minTimeout:10,mode:"standard",useNative:"auto",removeInvisiblePages:!0,virtualRowHeight:50,virtualColumnWidth:100,loadTwoPagesOnStart:!0},encodeHtml:!0,dataSource:null,activeStateEnabled:!1,fieldChooser:{minWidth:250,minHeight:250,enabled:!0,allowSearch:!1,searchTimeout:500,layout:0,title:g["a"].format("dxPivotGrid-fieldChooserTitle"),width:600,height:600,applyChangesMode:"instantly"},onContextMenuPreparing:null,allowSorting:!1,allowSortingBySummary:!1,allowFiltering:!1,allowExpandAll:!1,wordWrapEnabled:!0,fieldPanel:{showColumnFields:!0,showFilterFields:!0,showDataFields:!0,showRowFields:!0,allowFieldDragging:!0,visible:!1,texts:{columnFieldArea:g["a"].format("dxPivotGrid-columnFieldArea"),rowFieldArea:g["a"].format("dxPivotGrid-rowFieldArea"),filterFieldArea:g["a"].format("dxPivotGrid-filterFieldArea"),dataFieldArea:g["a"].format("dxPivotGrid-dataFieldArea")}},dataFieldArea:"column",export:{enabled:!1,fileName:"PivotGrid",proxyUrl:void 0,ignoreExcelErrors:!0},showRowTotals:!0,showRowGrandTotals:!0,showColumnTotals:!0,showColumnGrandTotals:!0,hideEmptySummaryCells:!0,showTotalsPrior:"none",rowHeaderLayout:"standard",loadPanel:{enabled:!0,text:g["a"].format("Loading"),width:200,height:70,showIndicator:!0,indicatorSrc:"",showPane:!0},texts:{grandTotal:g["a"].format("dxPivotGrid-grandTotal"),total:g["a"].getFormatter("dxPivotGrid-total"),noData:g["a"].format("dxDataGrid-noDataText"),showFieldChooser:g["a"].format("dxPivotGrid-showFieldChooser"),expandAll:g["a"].format("dxPivotGrid-expandAll"),collapseAll:g["a"].format("dxPivotGrid-collapseAll"),sortColumnBySummary:g["a"].getFormatter("dxPivotGrid-sortColumnBySummary"),sortRowBySummary:g["a"].getFormatter("dxPivotGrid-sortRowBySummary"),removeAllSorting:g["a"].format("dxPivotGrid-removeAllSorting"),exportToExcel:g["a"].format("dxDataGrid-exportToExcel"),dataNotAvailable:g["a"].format("dxPivotGrid-dataNotAvailable")},onCellClick:null,onCellPrepared:null,showBorders:!1,stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3},onExpandValueChanging:null,renderCellCountLimit:2e4,onExporting:null,onExported:null,onFileSaving:null,headerFilter:{width:252,height:325,allowSearch:!1,showRelevantValues:!1,searchTimeout:500,texts:{emptyValue:g["a"].format("dxDataGrid-headerFilterEmptyValue"),ok:g["a"].format("dxDataGrid-headerFilterOK"),cancel:g["a"].format("dxDataGrid-headerFilterCancel")}}})},_updateCalculatedOptions:function(e){var t=this;Object(c["a"])(e,(function(e,n){Object(c["a"])(at,(function(e,a){var o=n._initProperties&&a in n._initProperties&&void 0===n._initProperties[a],r=void 0===n[a]||o;r&&Object(b["p"])(n,a,t.option(a))}))}))},_getDataControllerOptions:function(){var e=this;return{component:e,dataSource:e.option("dataSource"),texts:e.option("texts"),showRowTotals:e.option("showRowTotals"),showRowGrandTotals:e.option("showRowGrandTotals"),showColumnTotals:e.option("showColumnTotals"),showTotalsPrior:e.option("showTotalsPrior"),showColumnGrandTotals:e.option("showColumnGrandTotals"),dataFieldArea:e.option("dataFieldArea"),rowHeaderLayout:e.option("rowHeaderLayout"),hideEmptySummaryCells:e.option("hideEmptySummaryCells"),onFieldsPrepared:function(t){e._updateCalculatedOptions(t)}}},_initDataController:function(){var e=this;e._dataController&&e._dataController.dispose(),e._dataController=new k(e._getDataControllerOptions()),Object(o["f"])()&&e._dataController.changed.add((function(){e._render()})),e._dataController.scrollChanged.add((function(t){e._scrollLeft=t.left,e._scrollTop=t.top})),e._dataController.loadingChanged.add((function(t){e._updateLoading()})),e._dataController.progressChanged.add(e._updateLoading.bind(e)),e._dataController.dataSourceChanged.add((function(){e._trigger("onChanged")}));var t=e.option("onExpandValueChanging");t&&e._dataController.expandValueChanging.add((function(e){t(e)}))},_init:function(){this.callBase(),this._initDataController(),this._scrollLeft=this._scrollTop=null,this._initActions()},_initActions:function(){this._actions={onChanged:this._createActionByOption("onChanged"),onContextMenuPreparing:this._createActionByOption("onContextMenuPreparing"),onCellClick:this._createActionByOption("onCellClick"),onExporting:this._createActionByOption("onExporting"),onExported:this._createActionByOption("onExported"),onFileSaving:this._createActionByOption("onFileSaving"),onCellPrepared:this._createActionByOption("onCellPrepared")}},_trigger:function(e,t){this._actions[e](t)},_optionChanged:function(e){if(at.indexOf(e.name)>=0){var t=this.getDataSource().fields();this._updateCalculatedOptions(t)}switch(e.name){case"dataSource":case"allowSorting":case"allowFiltering":case"allowExpandAll":case"allowSortingBySummary":case"scrolling":case"stateStoring":this._initDataController(),this._fieldChooserPopup.hide(),this._renderFieldChooser(),this._invalidate();break;case"texts":case"showTotalsPrior":case"showRowTotals":case"showRowGrandTotals":case"showColumnTotals":case"showColumnGrandTotals":case"hideEmptySummaryCells":case"dataFieldArea":this._dataController.updateViewOptions(this._getDataControllerOptions());break;case"useNativeScrolling":case"encodeHtml":case"renderCellCountLimit":break;case"rtlEnabled":this.callBase(e),this._renderFieldChooser(),this._renderContextMenu(),Object(o["f"])()&&this._renderLoadPanel(this._dataArea.groupElement(),this.$element()),this._invalidate();break;case"export":this._renderDescriptionArea();break;case"onExpandValueChanging":break;case"onCellClick":case"onContextMenuPreparing":case"onExporting":case"onExported":case"onFileSaving":case"onCellPrepared":this._actions[e.name]=this._createActionByOption(e.name);break;case"fieldChooser":this._renderFieldChooser(),this._renderDescriptionArea();break;case"loadPanel":Object(o["f"])()&&(this._renderLoadPanel(this._dataArea.groupElement(),this.$element()),this._invalidate());break;case"fieldPanel":this._renderDescriptionArea(),this._invalidate();break;case"headerFilter":this._renderFieldChooser(),this._invalidate();break;case"showBorders":this._tableElement().toggleClass(ze,!!e.value),this.updateDimensions();break;case"wordWrapEnabled":this._tableElement().toggleClass("dx-word-wrap",!!e.value),this.updateDimensions();break;case"rowHeaderLayout":this._tableElement().find("."+Re).toggleClass("dx-area-tree-view","tree"===e.value),this._dataController.updateViewOptions(this._getDataControllerOptions());break;case"height":case"width":this._hasHeight=null,this.callBase(e),this.resize();break;default:this.callBase(e)}},_updateScrollPosition:function(e,t,n){var a,o,r=this._scrollTop||this._scrollLeft;this._scrollUpdating||(this._scrollUpdating=!0,t&&!t.hasScroll()&&this._hasHeight&&(this._scrollTop=null),e&&!e.hasScroll()&&(this._scrollLeft=null),(null!==this._scrollTop||null!==this._scrollLeft||r||this.option("rtlEnabled"))&&(a=this._scrollTop||0,o=this._scrollLeft||0,n.scrollTo({x:o,y:a}),e.scrollTo(o),t.scrollTo(a),this._dataController.updateWindowScrollPosition(this._scrollTop)),this._scrollUpdating=!1)},_subscribeToEvents:function(e,t,n){var a=this,o=function(o){var r=o.scrollOffset,i=Object(h["d"])(r.left)?r.left:a._scrollLeft,l=Object(h["d"])(r.top)&&a._hasHeight?r.top:a._scrollTop;(a._scrollLeft||0)===(i||0)&&(a._scrollTop||0)===(l||0)||(a._scrollLeft=i,a._scrollTop=l,a._updateScrollPosition(e,t,n),"virtual"===a.option("scrolling.mode")&&a._dataController.setViewportPosition(a._scrollLeft,a._scrollTop))};Object(c["a"])([e,t,n],(function(e,t){lt(t,o)})),!a._hasHeight&&a._dataController.subscribeToWindowScrollEvents(n.groupElement())},_clean:u["n"],_needDelayResizing:function(e){var t=e.length*(e.length?e[0].length:0);return t>this.option("renderCellCountLimit")},_renderFieldChooser:function(){var e=this,t=e._pivotGridContainer,n=e.option("fieldChooser")||{},o="onDemand"===n.applyChangesMode?[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:g["a"].format("OK"),onClick:function(t){e._fieldChooserPopup.$content().dxPivotGridFieldChooser("applyChanges"),e._fieldChooserPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:g["a"].format("Cancel"),onClick:function(t){e._fieldChooserPopup.hide()}}}]:[],r={layout:n.layout,texts:n.texts||{},dataSource:e.getDataSource(),allowSearch:n.allowSearch,searchTimeout:n.searchTimeout,width:void 0,height:void 0,headerFilter:e.option("headerFilter"),encodeHtml:e.option("encodeHtml"),applyChangesMode:n.applyChangesMode,onContextMenuPreparing:function(t){e._trigger("onContextMenuPreparing",t)}},i={shading:!1,title:n.title,width:n.width,height:n.height,showCloseButton:!0,resizeEnabled:!0,minWidth:n.minWidth,minHeight:n.minHeight,toolbarItems:o,onResize:function(e){e.component.$content().dxPivotGridFieldChooser("updateDimensions")},onShown:function(t){e._createComponent(t.component.content(),ge["a"],r)},onHidden:function(e){var t=e.component.$content().dxPivotGridFieldChooser("instance");t.resetTreeView(),t.cancelChanges()}};e._fieldChooserPopup?(e._fieldChooserPopup.option(i),e._fieldChooserPopup.$content().dxPivotGridFieldChooser(r)):e._fieldChooserPopup=e._createComponent(Object(a["a"])(tt).addClass(Xe).appendTo(t),se["default"],i)},_renderContextMenu:function(){var e=this,t=e._pivotGridContainer;e._contextMenu&&e._contextMenu.$element().remove(),e._contextMenu=e._createComponent(Object(a["a"])(tt).appendTo(t),He["default"],{onPositioning:function(t){var n=t.event;if(t.cancel=!0,n){var o=n.target.cellIndex>=0?n.target:Object(a["a"])(n.target).closest("td").get(0);if(o){var r=e._createEventArgs(o,n),i=e._getContextMenuItems(r);return i?(t.component.option("items",i),void(t.cancel=!1)):void 0}}},onItemClick:function(e){e.itemData.onItemClick&&e.itemData.onItemClick(e)},cssClass:We,target:e.$element()})},_getContextMenuItems:function(e){var t=this,n=[],a=t.option("texts");if("row"===e.area||"column"===e.area){var o=e[e.area+"Fields"],r=e["column"===e.area?"rowFields":"columnFields"],i=e.cell.path&&o[e.cell.path.length-1],l=t.getDataSource();if(i&&i.allowExpandAll&&e.cell.path.length<e[e.area+"Fields"].length&&!l.paginate()&&(n.push({beginGroup:!0,icon:"none",text:a.expandAll,onItemClick:function(){l.expandAll(i.index)}}),n.push({text:a.collapseAll,icon:"none",onItemClick:function(){l.collapseAll(i.index)}})),e.cell.isLast&&!l.paginate()){var s=0;Object(c["a"])(r,(function(t,o){o.allowSortingBySummary&&Object(c["a"])(e.dataFields,(function(t,r){if(!Object(h["d"])(e.cell.dataIndex)||e.cell.dataIndex===t){var i=!Object(h["d"])(e.cell.dataIndex)&&e.dataFields.length>1,u="column"===e.area?a.sortColumnBySummary:a.sortRowBySummary,c=Object(b["d"])(e.dataFields,o.sortBySummaryField)===t&&(e.cell.path||[]).join("/")===(o.sortBySummaryPath||[]).join("/"),p=Object(d["b"])(u,i?o.caption+" - "+r.caption:o.caption);n.push({beginGroup:0===s,icon:c?"desc"===o.sortOrder?"sortdowntext":"sortuptext":"none",text:p,onItemClick:function(){l.field(o.index,{sortBySummaryField:r.name||r.caption||r.dataField,sortBySummaryPath:e.cell.path,sortOrder:"desc"===o.sortOrder?"asc":"desc"}),l.load()}}),s++}}))})),Object(c["a"])(r,(function(e,t){if(t.allowSortingBySummary&&Object(h["d"])(t.sortBySummaryField))return n.push({beginGroup:0===s,icon:"none",text:a.removeAllSorting,onItemClick:function(){Object(c["a"])(r,(function(e,t){l.field(t.index,{sortBySummaryField:void 0,sortBySummaryPath:void 0,sortOrder:void 0})})),l.load()}}),!1}))}}if(t.option("fieldChooser.enabled")&&n.push({beginGroup:!0,icon:"columnchooser",text:a.showFieldChooser,onItemClick:function(){t._fieldChooserPopup.show()}}),t.option("export.enabled")&&n.push({beginGroup:!0,icon:"xlsxfile",text:a.exportToExcel,onItemClick:function(){t.exportToExcel()}}),e.items=n,t._trigger("onContextMenuPreparing",e),n=e.items,n&&n.length)return n},_createEventArgs:function(e,t){var n=this.getDataSource(),o={rowFields:n.getAreaFields("row"),columnFields:n.getAreaFields("column"),dataFields:n.getAreaFields("data"),event:t};return ct(Object(a["a"])(e))?Object(p["a"])(this._createFieldArgs(e),o):Object(p["a"])(this._createCellArgs(e),o)},_createFieldArgs:function(e){var t=Object(a["a"])(e).children().data("field"),n={field:t};return Object(h["d"])(t)?n:{}},_createCellArgs:function(e){var t=Object(a["a"])(e),n=e.cellIndex,o=e.parentElement.rowIndex,r=t.closest("table"),i=r.data("data"),l=i&&i[o]&&i[o][n],d={area:r.data("area"),rowIndex:o,columnIndex:n,cellElement:Object(s["a"])(t),cell:l};return d},_handleCellClick:function(e){var t=this,n=t._createEventArgs(e.currentTarget,e),a=n.cell;a&&(n.area||!n.rowIndex&&!n.columnIndex)&&(t._trigger("onCellClick",n),a&&!n.cancel&&Object(h["d"])(a.expanded)&&setTimeout((function(){t._dataController[a.expanded?"collapseHeaderItem":"expandHeaderItem"](n.area,a.path)})))},_getNoDataText:function(){return this.option("texts.noData")},_renderNoDataText:_["a"].renderNoDataText,_renderLoadPanel:_["a"].renderLoadPanel,_updateLoading:function(e){var t=this,n=t._dataController.isLoading();if(t._loadPanel){var a=t._loadPanel.option("visible");a||(t._startLoadingTime=new Date),n&&(e?new Date-t._startLoadingTime>=1e3&&t._loadPanel.option("message",Math.floor(100*e)+"%"):t._loadPanel.option("message",t.option("loadPanel.text"))),clearTimeout(t._hideLoadingTimeoutID),a&&!n?t._hideLoadingTimeoutID=setTimeout((function(){t._loadPanel.option("visible",!1),t.$element().removeClass(Je)})):(t._loadPanel.option("visible",n),t.$element().toggleClass(Je,!n))}},_renderDescriptionArea:function(){var e,t=this.$element(),n=t.find("."+Ge),o=Object(a["a"])(tt).addClass("dx-pivotgrid-toolbar"),r=this.option("fieldPanel"),i=t.find(".dx-filter-header"),l=t.find(".dx-column-header");if(e=r.visible&&r.showFilterFields?i:r.visible&&(r.showDataFields||r.showColumnFields)?l:n,l.toggleClass(qe,!(!r.visible||!r.showDataFields&&!r.showColumnFields)),i.toggleClass(qe,!(!r.visible||!r.showFilterFields)),n.toggleClass("dx-pivotgrid-background",r.visible&&(r.showDataFields||r.showColumnFields||r.showRowFields)),this.$element().find(".dx-pivotgrid-toolbar").remove(),o.prependTo(e),this.option("fieldChooser.enabled")){var s=Object(a["a"])(tt).appendTo(o).addClass("dx-pivotgrid-field-chooser-button"),d={icon:"columnchooser",hint:this.option("texts.showFieldChooser"),onClick:()=>{this.getFieldChooserPopup().show()}};this._createComponent(s,"dxButton",d)}if(this.option("export.enabled")){var u=Object(a["a"])(tt).appendTo(o).addClass("dx-pivotgrid-export-button"),c={icon:"xlsxfile",hint:this.option("texts.exportToExcel"),onClick:()=>{this.exportToExcel()}};this._createComponent(u,"dxButton",c)}},_detectHasContainerHeight:function(){var e=this.$element();if(Object(h["d"])(this._hasHeight)){var t=this.option("height")||this.$element().get(0).style.height;t&&this._hasHeight^"auto"!==t&&(this._hasHeight=null)}if(!Object(h["d"])(this._hasHeight)&&!e.is(":hidden")){this._pivotGridContainer.addClass("dx-hidden");var n=Object(a["a"])(tt).height(nt);e.append(n),this._hasHeight=e.height()!==nt,this._pivotGridContainer.removeClass("dx-hidden"),n.remove()}},_renderHeaders:function(e,t,n,a){var o=this.getDataSource();this._rowFields=this._rowFields||new fe(this,"row"),this._rowFields.render(e,o.getAreaFields("row")),this._columnFields=this._columnFields||new fe(this,"column"),this._columnFields.render(t,o.getAreaFields("column")),this._filterFields=this._filterFields||new fe(this,"filter"),this._filterFields.render(n,o.getAreaFields("filter")),this._dataFields=this._dataFields||new fe(this,"data"),this._dataFields.render(a,o.getAreaFields("data")),this.$element().dxPivotGridFieldChooserBase("instance").renderSortable()},_createTableElement:function(){var e=Object(a["a"])("<table>").css({width:"100%"}).toggleClass(ze,!!this.option("showBorders")).toggleClass("dx-word-wrap",!!this.option("wordWrapEnabled"));return i["a"].on(e,Object(v["a"])(f["a"],"dxPivotGrid"),"td",this._handleCellClick.bind(this)),e},_renderDataArea:function(e){var t=this._dataArea||new U(this);return this._dataArea=t,t.render(e,this._dataController.getCellsInfo()),t},_renderRowsArea:function(e){var t=this._rowsArea||new ie(this);return this._rowsArea=t,t.render(e,this._dataController.getRowsInfo()),t},_renderColumnsArea:function(e){var t=this._columnsArea||new re(this);return this._columnsArea=t,t.render(e,this._dataController.getColumnsInfo()),t},_initMarkup:function(){var e=this;e.callBase.apply(this,arguments),e.$element().addClass(We)},_renderContentImpl:function(){var e,t,n,o,i,l,s,d,u=!this._pivotGridContainer;o=!u&&this._tableElement(),o||(this.$element().addClass($e).addClass(Ye),this._pivotGridContainer=Object(a["a"])(tt).addClass("dx-pivotgrid-container"),this._renderFieldChooser(),this._renderContextMenu(),e=Object(a["a"])(et).addClass(Ve),t=Object(a["a"])(et).addClass(Re),n=Object(a["a"])(et).addClass(Le),o=this._createTableElement(),d=Object(a["a"])(et).addClass("dx-data-header"),s=Object(a["a"])("<td>").attr("colspan","2").addClass("dx-filter-header"),l=Object(a["a"])(et).addClass("dx-column-header"),i=Object(a["a"])(et).addClass(Ge),Object(a["a"])(Ze).append(s).appendTo(o),Object(a["a"])(Ze).append(d).append(l).appendTo(o),Object(a["a"])(Ze).toggleClass("dx-ie",!0===r["a"].msie).append(i).append(e).appendTo(o),Object(a["a"])(Ze).addClass(Ue).append(t).append(n).appendTo(o),this._pivotGridContainer.append(o),this.$element().append(this._pivotGridContainer),"tree"===this.option("rowHeaderLayout")&&t.addClass("dx-area-tree-view")),this.$element().addClass(Je),this._createComponent(this.$element(),ue["a"],{dataSource:this.getDataSource(),encodeHtml:this.option("encodeHtml"),allowFieldDragging:this.option("fieldPanel.allowFieldDragging"),headerFilter:this.option("headerFilter"),visible:this.option("visible")});var c=this._renderDataArea(n),h=this._renderRowsArea(t),p=this._renderColumnsArea(e);c.tableElement().prepend(p.headElement()),u&&(this._renderLoadPanel(c.groupElement().parent(),this.$element()),this._renderDescriptionArea(),h.processScroll(),p.processScroll()),[c,h,p].forEach((function(e){it(e)})),this._renderHeaders(i,l,s,d),this._update(u)},_update:function(e){var t=this,n=function(){t.updateDimensions()};t._needDelayResizing(t._dataArea.getData())&&e?setTimeout(n):n()},_fireContentReadyAction:function(){this._dataController.isLoading()||this.callBase()},getScrollPath:function(e){return"column"===e?this._columnsArea.getScrollPath(this._scrollLeft):this._rowsArea.getScrollPath(this._scrollTop)},getDataSource:function(){return this._dataController.getDataSource()},getFieldChooserPopup:function(){return this._fieldChooserPopup},hasScroll:function(e){return"column"===e?this._columnsArea.hasScroll():this._rowsArea.hasScroll()},_dimensionChanged:function(){this.updateDimensions()},_visibilityChanged:function(e){e&&this.updateDimensions()},_dispose:function(){var e=this;clearTimeout(e._hideLoadingTimeoutID),e.callBase.apply(e,arguments),e._dataController&&e._dataController.dispose()},_tableElement:function(){return this.$element().find("table").first()},addWidgetPrefix:function(e){return"dx-pivotgrid-"+e},resize:function(){this.updateDimensions()},isReady:function(){return this.callBase()&&!this._dataController.isLoading()},updateDimensions:function(){var e,t,n,i,l=this,s=l._tableElement(),d=l._rowsArea,h=l._columnsArea,p=l._dataArea,f=0,g=0,m=0,v=l.option("scrolling")||{},_=dt(v.useNative),x=_.scrollBarWidth,w=s.find("."+Le),O=s.find("."+Re),S=s.find("."+Ve),y=s.find("."+Ge),j=s.find(".dx-filter-header"),T=s.find(".dx-column-header"),E=l._rowFields,F=new C["a"];if(Object(o["f"])()){var P=E.isVisible()&&"tree"!==l.option("rowHeaderLayout");l._detectHasContainerHeight(),p.headElement().length||p.tableElement().prepend(h.headElement()),P&&(d.updateColspans(E.getColumnsCount()),d.tableElement().prepend(E.headElement())),s.addClass(Qe),p.reset(),d.reset(),h.reset(),E.reset();var I=(e,t)=>t-e>=1,A=(e,t,n,a,o)=>n?e:t+(a?o:0);return Object(u["e"])((function(){var o=p.getColumnsWidth(),D=d.getRowsHeight(),N=P?D.slice(1):D,k=p.getRowsHeight(),B=Object(le["d"])(y[0],"height",{paddings:!0,borders:!0,margins:!0})+(P?D[0]:0),H=l._dataController.getColumnsInfo().length,M=Object(b["m"])(N,k.slice(H)),L=k.slice(0,H),R=ot(L),V=d.getColumnsWidth(),G=0,z=0;if(l._hasHeight){G=j.height();var W=s.find(".dx-data-header"),$=r["a"].msie?Object(le["d"])(W.get(0),"height",{paddings:!1,borders:!1,margins:!1}):W.height();t=ut([S,w,s,T,j],"height"),z=l.$element().height()-G-$-(Math.max(p.headElement().height(),S.height(),B)+t)}if(f=p.tableElement().width(),g=ot(M),f&&g){m=ot(V);var U=l.$element().width();t=ut([O,w,s],"width"),e=U-m-t,e=e>0?e:f;var q=f-e,Y=q>=0&&q<=2;Y&&(rt(o,q),f=e),n=l._hasHeight&&I(z,g),i=I(e,f);var K=A(z,g,n,i,x);Object(u["c"])((function(){if(h.tableElement().append(p.headElement()),E.tableElement().append(d.headElement()),!i&&n&&x&&(rt(o,x),f-=x),B>R&&(rt(L,R-B),h.setRowsHeight(L)),s.removeClass(Qe),T.children().css("maxWidth",e),h.groupWidth(e),h.processScrollBarSpacing(n?x:0),h.setColumnsWidth(o),d.groupHeight(l._hasHeight?K:"auto"),d.processScrollBarSpacing(i?x:0),d.setColumnsWidth(V),d.setRowsHeight(M),p.setColumnsWidth(o),p.setRowsHeight(M),p.groupWidth(e),p.groupHeight(l._hasHeight?K:"auto"),P&&E.setColumnsWidth(V),w.toggleClass(qe,!n),O.toggleClass(qe,!n),!l._hasHeight&&U!==l.$element().width()){var t=U-l.$element().width();i||(rt(o,t),h.setColumnsWidth(o),p.setColumnsWidth(o)),p.groupWidth(e-t),h.groupWidth(e-t)}if(l._hasHeight&&l._filterFields.isVisible()&&j.height()!==G){var r=j.height()-G;if(r>0){n=I(z-r,g);var u=A(z-r,g,n,i,x);p.groupHeight(u),d.groupHeight(u)}}if("virtual"===v.mode){var b=l._dataController.calculateVirtualContentParams({virtualRowHeight:v.virtualRowHeight,virtualColumnWidth:v.virtualColumnWidth,itemWidths:o,itemHeights:M,rowCount:M.length,columnCount:o.length,viewportWidth:e,viewportHeight:l._hasHeight?K:Object(a["a"])(Me).outerHeight()});p.setVirtualContentParams({top:b.contentTop,left:b.contentLeft,width:b.width,height:b.height}),d.setVirtualContentParams({top:b.contentTop,width:m,height:b.height}),h.setVirtualContentParams({left:b.contentLeft,width:b.width,height:h.groupElement().height()})}var S=[];p.processScroll(_.scrollBarUseNative,i,n),Object(c["a"])([h,d,p],(function(e,t){S.push(t&&t.updateScrollable())})),l._updateLoading(),l._renderNoDataText(w),C["c"].apply(a["a"],S).done((function(){l._updateScrollPosition(h,d,p),l._subscribeToEvents(h,d,p),F.resolve()}))}))}else F.resolve()})),F}},applyPartialDataSource:function(e,t,n){this._dataController.applyPartialDataSource(e,t,n)}}).inherit(Oe).include(Be);Object(l["a"])("dxPivotGrid",ht);var pt=ht;t["default"]=pt},a83e:function(e,t,n){"use strict";var a=n("520e"),o=n("010b"),r=n("6bc7"),i=n("bf95"),l=n("b9af"),s=n("8fe2"),d=n("b144"),u=n("cc07"),c=n("facd"),h=n("c8fd"),p=n("621c"),f=n("9cde"),g=n("c76e"),m=n("ec28"),v=n("1d39"),_=n("c920"),b=n("b7ae"),x=n("443c"),C=n("b499"),w="/./",O=c["a"].inherit(function(){var e={year:function(e){return e&&e.getFullYear()},quarter:function(e){return e&&Math.floor(e.getMonth()/3)+1},month:function(e){return e&&e.getMonth()+1},day:function(e){return e&&e.getDate()},dayOfWeek:function(e){return e&&e.getDay()}};function t(e){return-1!==e.indexOf(".")?Object(b["a"])(e):function(t){return t[e]}}function n(e){return function(t){var n=e(t);return!n||n instanceof Date||(n=m["a"].deserializeDate(n)),n}}function a(o){Object(d["a"])(o||[],(function(o,r){var l,s,d,u,c=r.dataField,h=r.levels;if(!r.selector){if(u=c?t(c):function(e){return e},h&&a(h),"date"===r.dataType){s=e[r.groupInterval];var p=n(u);l=function(e){var t=p(e);return s?s(t):t}}else"number"===r.dataType?(d=Object(i["i"])(r.groupInterval)&&r.groupInterval>0&&r.groupInterval,l=function(e){var t=u(e);return Object(i["o"])(t)&&(t=Number(t)),d?Math.floor(t/d)*d:t}):l=u;Object(x["o"])(r),Object(x["p"])(r,"selector",l)}}))}function o(e,t,n,a){var o=[0],r=t.headerName===a?t.path.length:0,i="rows"===a?t.rowExpandedPaths:t.columnExpandedPaths,l={data:e,childrenHash:n[a+"Hash"],dimensions:t[a],expandedPathsHash:t.headerName!==a&&i&&i.hash};return function e(t,n,a,o,r){var i,l,s=n.dimensions[o],d=n.expandedPathsHash;s&&(i=s.selector(n.data),r=void 0!==r?r+w+i:i+"",l=function(e,t,n,a){var o=a[n];return o||(o={value:e,index:a.length++},a[n]=o,t.push(o)),o}(i,a,r,n.childrenHash),t.push(l.index),(d&&d[r]||s.expanded)&&(l.children||(l.children=[]),e(t,n,l.children,o+1,r)))}(o,l,n[a],r),o}function l(e,t,n,a){var r,i,l,s,d=[],u=o(e,a,n,"rows"),c=o(e,a,n,"columns");for(i=0;i<u.length;i++)for(l=u[i],t[l]=t[l]||[],r=0;r<c.length;r++)s=c[r],d.push(t[l][s]=t[l][s]||[]);return d}function s(e){if(e){var t=e.hash={};e.forEach((function(e){var n=e.map((function(e){return e+""})).join(w);t[n]=!0}))}}function c(e){e.rows=e.rows||[],e.columns=e.columns||[],e.filters=e.filters||[],s(e.columnExpandedPaths),s(e.rowExpandedPaths),a(e.columns),a(e.rows),a(e.values),a(e.filters)}function h(e){return"custom"===e.summaryType?(e.calculateCustomSummary=e.calculateCustomSummary||r["n"],{seed:function(){var t={summaryProcess:"start",totalValue:void 0};return e.calculateCustomSummary(t),t},step:function(t,n){return t.summaryProcess="calculate",t.value=n,e.calculateCustomSummary(t),t},finalize:function(t){return t.summaryProcess="finalize",delete t.value,e.calculateCustomSummary(t),t.totalValue}}):f["a"].aggregators[e.summaryType]||f["a"].aggregators.count}function p(e,t,n){for(var a=0;a<e.length;a++)for(var o=e[a],r=o.selector(n),l=h(o),s="function"===typeof l.seed,d=0;d<t.length;d++){var u=t[d];u.length<=a&&(u[a]=s?l.seed():l.seed),void 0===u[a]?u[a]=r:Object(i["d"])(r)&&(u[a]=l.step(u[a],r))}}function O(e,t){var n=e&&e.valueOf(),a=t&&t.valueOf();if(Array.isArray(e)){t=t||[];for(var o=0;o<e.length;o++)if(n=e[o]&&e[o].valueOf(),a=t[o]&&t[o].valueOf(),n!==a)return!1;return!0}return n===a}function S(e){var t=[];return Object(d["a"])(e,(function(e,n){var a=n.filterValues||[],o=n.groupName;o&&Object(i["i"])(n.groupIndex)||a.length&&t.push((function(e){for(var t=n.levels?function(e,t){var n=[];return Object(d["a"])(e,(function(e,a){n.push(a.selector(t))})),n}(n.levels,e):n.selector(e),o=!1,r=0;r<a.length;r++)if(O(a[r],t)){o=!0;break}return"exclude"===n.filterType?!o:o}))})),t}function y(e){var t=S(e.rows).concat(S(e.columns)).concat(S(e.filters)),n=e[e.headerName],a=e.path;return n&&t.push((function(e){for(var t,o=0;o<a.length;o++)if(t=n[o].selector(e),Object(b["c"])(t,!0)!==Object(b["c"])(a[o],!0))return!1;return!0})),function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function j(e,t,n){var a,o,r={columns:[],rows:[],columnsHash:{length:1},rowsHash:{length:1}},i=[],s=new u["a"],c=0,f=y(t);return function u(){for(var g,m,v=new Date,_=c;c<e.length;c++){if(c>_&&c%1e4===0&&new Date-v>=300)return n(c/e.length),void setTimeout(u,0);o=e[c],f(o)&&(a=l(o,i,r,t),p(t.values,a,o))}g=t.values,m=i,Object(d["a"])(g,(function(e,t){var n=h(t);n.finalize&&Object(d["a"])(m,(function(t,a){Object(d["a"])(a,(function(t,a){a&&void 0!==a[e]&&(a[e]=n.finalize(a[e]))}))}))})),n(1),s.resolve({rows:r.rows,columns:r.columns,values:i,grandTotalRowIndex:0,grandTotalColumnIndex:0})}(),s}function T(e,t){var n=e.filter();return e.store()instanceof _["a"]&&n?(n=I(n,t),Object(g["a"])(e.items()).filter(n).toArray()):e.items()}function E(e,t,n){var a=new u["a"],o=function(n){e.store()instanceof C["a"]&&(n.storeLoadOptions.filter=I(n.storeLoadOptions.filter,t))};if(e.on("customizeStoreLoadOptions",o),!e.isLoaded()||n){var r=n?e.load():e.reload();Object(u["c"])(r).done((function(){E(e,t).done((function(){a.resolve(T(e,t))})).fail(a.reject)})).fail(a.reject)}else a.resolve(T(e,t));return a.always((function(){e.off("customizeStoreLoadOptions",o)}))}function F(e,a){a.forEach((function(a){if(a.dataField&&"date"===a.dataType){var o=n(t(a.dataField));e[a.dataField]=function(e){return o(e)}}}))}function P(e){var t={};return Array.isArray(e)?F(t,e):e&&["rows","columns","filters"].forEach((function(n){e[n]&&F(t,e[n])})),t}function I(e,t){if(!Array.isArray(e))return e;e=e.slice(0),Object(i["o"])(e[0])&&(e[1]instanceof Date||e[2]instanceof Date)&&(e[0]=t[e[0]]);for(var n=0;n<e.length;n++)e[n]=I(e[n],t);return e}return{ctor:function(e){this._progressChanged=e.onProgressChanged||r["n"],this._dataSource=new v["a"](e),this._dataSource.paginate(!1)},getFields:function(e){var t=this._dataSource,n=new u["a"];return E(t,P(e)).done((function(t){n.resolve(Object(x["c"])(t,e))})).fail(n.reject),n},key:function(){return this._dataSource.key()},load:function(e){var t=this,n=t._dataSource,a=new u["a"];return c(e),E(n,P(e),e.reload).done((function(n){Object(u["c"])(j(n,e,t._progressChanged)).done(a.resolve)})).fail(a.reject),a},filter:function(){var e=this._dataSource;return e.filter.apply(e,arguments)},supportPaging:function(){return!1},getDrillDownItems:function(e,t){e=e||{},t=t||{},c(e);for(var n,a=[],o=this._dataSource.items(),r=t.maxRowCount,i=t.customColumns,l=y(e),s=y({rows:Object(x["l"])(e.rows,t.rowPath),columns:Object(x["l"])(e.columns,t.columnPath),filters:[]}),d=0;d<o.length;d++){if(s(o[d])&&l(o[d])){if(i){n={};for(var u=0;u<i.length;u++)n[i[u]]=o[d][i[u]]}else n=o[d];a.push(n)}if(r>0&&a.length===r)break}return a}}}()).include(x["q"]),S=function e(t,n,a){t=t||[],a=a||0;for(var o=0;o<t.length;o++){var r=t[o];n(r,a),r&&r.items&&r.items.length&&e(r.items,n,a+1)}};function y(e,t){var n=[];return Object(d["a"])(e,(function(a,o){n.push({selector:o.dataField,groupInterval:o.groupInterval,desc:t&&"desc"===o.sortOrder,isExpanded:a<e.length-1})})),n}function j(e){var t=e.dataField,n=e.groupInterval;return"date"===e.dataType&&"string"===typeof n&&("quarter"===n.toLowerCase()&&(n="Month"),t=t+"."+Object(x["a"])(n)),t}function T(e,t,n,a){var o=[e,a?"<":">=",n],r=[e,a?">=":"<",n+t];return[o,a?"or":"and",r]}function E(e,t){var n=j(e),a="exclude"===e.filterType,o=[n,a?"<>":"=",t];return Object(i["d"])(e.groupInterval)&&("string"===typeof e.groupInterval&&"quarter"===e.groupInterval.toLowerCase()?o=T(n,3,3*(t-1)+1,a):"number"===typeof e.groupInterval&&"date"!==e.dataType&&(o=T(n,e.groupInterval,t,a))),o}function F(e,t){var n=[];return e.searchValue?[e.dataField,"contains",e.searchValue]:(t="exclude"===e.filterType?t||"and":t||"or",Object(d["a"])(e.filterValues,(function(a,o){var r=[];if(Array.isArray(o)){var i=e.levels&&e.levels.length;i&&(r=F({filterValues:o,filterType:e.filterType,levels:e.levels},"and"))}else{var l=e.levels?e.levels[a]:e;r=E(l,o)}r.length&&(n.length&&n.push(t),n.push(r))})),n)}function P(e){var t=[];return Object(d["a"])(e,(function(e,n){var a=F(n);if(!a.length)return[];t.length&&t.push("and"),t.push(a)})),1===t.length&&(t=t[0]),t}function I(e,t){var n,a=function(e){return e&&e.length};return n=a(e)&&a(t)?[e,"and",t]:a(e)?e:t,n}function A(e,t,n){var a=P(e.filters),o=y(e.rows,e.rowTake).concat(y(e.columns,e.columnTake)),r={groupSummary:[],totalSummary:[],group:o.length?o:void 0,take:o.length?void 0:1};return e.rows.length&&e.rowTake?(r.skip=e.rowSkip,r.take=e.rowTake,r.requireGroupCount=!0):e.columns.length&&e.columnTake&&!n&&(r.skip=e.columnSkip,r.take=e.columnTake,r.requireGroupCount=!0),t&&(a=I(a,t)),a.length&&(r.filter=a),Object(d["a"])(e.values,(function(t,n){var a={selector:n.dataField,summaryType:n.summaryType||"count"};r.groupSummary.push(a),e.includeTotalSummary&&r.totalSummary.push(a)})),r}function D(e,t,n,a,o){e[n]=e[n]||[],e[n][a]=e[n][a]||[],Object(i["d"])(e[n][a][o])||(e[n][a][o]=t)}function N(e,t){return t&&"number"===t.dataType&&Object(i["o"])(e)?Number(e):!t||"date"!==t.dataType||t.groupInterval||e instanceof Date?e:m["a"].deserializeDate(e)}function k(e,t,n,a){var o=[],r=[],i=a.rowHash,l=a.columnHash;if(t&&t.summary&&Object(d["a"])(t.summary,(function(e,t){D(a.values,t,a.grandTotalRowIndex,a.grandTotalColumnIndex,e)})),t&&t.groupCount>=0){var s=n.rows.length?n.rowSkip:n.columnSkip;e=[...Array(s)].concat(e),e.length=t.groupCount}function u(e,t,n,o,r){var i,l,s,d,u=a[t+"Hash"],c=n.slice(0,o+1).join("/");return void 0!==u[c]?s=u[c]:(s={value:N(e.key,r),index:a[t+"Index"]++},d=n.slice(0,o).join("/"),o>0&&void 0!==u[d]?(i=u[d],l=i.children=i.children||[]):l=a[t+"s"],l.push(s),u[c]=s),s}return S(e,(function(e,t){var s,c,h=t>=n.rows.length?n.rows.length:t,p=t>=n.rows.length?t-n.rows.length:0;if(!(t>=n.rows.length&&p>=n.columns.length)){t<n.rows.length&&(r=[]),t>=n.rows.length?e?(r[p]=e.key+"",s=u(e,"column",r,p,n.columns[p]),c=i[o.slice(0,h+1).join("/")]):a.columns.push({}):e?(o[h]=e.key+"",c=u(e,"row",o,h,n.rows[h]),s=l[r.slice(0,p+1).join("/")]):a.rows.push({});var f=c&&c.index||a.grandTotalRowIndex,g=s&&s.index||a.grandTotalColumnIndex;Object(d["a"])(e&&e.summary||[],(function(e,t){D(a.values,t,f,g,e)}))}})),a}function B(e){return(e||[]).filter(e=>e.filterValues&&e.filterValues.length||e.searchValue)}function H(e,t){if(e.headerName){if(t===e.headerName)return e.path.length;if(e.oppositePath)return e.oppositePath.length}return 0}function M(e){return Object(x["l"])(e[e.headerName],e.path).concat(Object(x["l"])(e["rows"===e.headerName?"columns":"rows"],e.oppositePath||[]))}function L(e,t,n,a){var o=[],r=n>a?0:a,i=e.headerName!==t?e[t].slice(r,n):[],s="rows"===t?e.rowExpandedPaths:e.columnExpandedPaths;return Object(d["a"])(i,(function(e,t){var a=[];Object(d["a"])(s,(function(t,o){if(o=o.slice(r,n),e<o.length){var i=o[e];-1===a.indexOf(i)&&a.push(i)}})),a.length&&o.push(Object(l["a"])({},t,{filterType:"include",filterValues:a}))})),o}function R(e,t,n,a,o,r){var i,s=("columns"===t?e.columnExpandedPaths:e.rowExpandedPaths)||[],d="columns"===t?"rows":"columns",u=e[t],c=[];if(s.length)for(var h=n;h<a+1;h++)i={filters:o.concat(L(e,t,h,r))},i[t]=u.slice(n,h+1),i[d]=[],c.push(Object(l["a"])({},e,i));else i={filters:o},i[t]=u.slice(n,a+1),i[d]=[],c.push(Object(l["a"])({},e,i));return c[0].includeTotalSummary=!0,c}function V(e){var t=0;return Object(d["a"])(e,(function(e,n){if(!n.expanded)return t=e,!1})),t}function G(e){var t=Object(x["j"])(e,"rows"),n=Object(x["j"])(e,"columns"),a=e.filters||[],o=H(e,"columns"),r=V(e.columns),i=V(e.rows),s=H(e,"rows"),d=[];a=a.concat(B(e.rows)).concat(B(e.columns)).concat(M(e));var u=R(e,"columns",o,n,a,r);if(e.rows.length&&e.columns.length){"rows"!==e.headerName&&(d=d.concat(u));for(var c=s;c<t+1;c++)for(var h=e.rows.slice(s,c+1),p=L(e,"rows",c,i),f=o;f<n+1;f++){var g=Object(l["a"])({},e,{columns:e.columns.slice(o,f+1),rows:h,filters:a.concat(L(e,"columns",f,r)).concat(p)});d.push(g)}}else d=e.columns.length?u:R(e,"rows",s,t,a,i);return d}function z(e){Object(d["a"])(e||[],(function(e,t){var n=t.levels;n&&z(n),Object(x["o"])(t)}))}var W=c["a"].inherit({ctor:function(e){this._dataSource=new v["a"](e),this._store=this._dataSource.store()},getFields:function(e){var t=new u["a"];return this._store.load({skip:0,take:20}).done((function(n){t.resolve(Object(x["c"])(n,e))})).fail(t.reject),t},key:function(){return this._store.key()},load:function(e){var t=this,n=new u["a"],a={rows:[],columns:[],values:[],grandTotalRowIndex:0,grandTotalColumnIndex:0,rowHash:{},columnHash:{},rowIndex:1,columnIndex:1},o=G(e),r=[];return z(e.rows),z(e.columns),z(e.filters),Object(d["a"])(o,(function(n,a){r.push(t._store.load(A(a,t.filter(),e.rows.length)))})),u["c"].apply(null,r).done((function(){var e=r.length>1?arguments:[arguments];Object(d["a"])(e,(function(e,t){k(t[0],t[1],o[e],a)})),n.resolve({rows:a.rows,columns:a.columns,values:a.values,grandTotalRowIndex:a.grandTotalRowIndex,grandTotalColumnIndex:a.grandTotalColumnIndex})})).fail(n.reject),n},filter:function(){return this._dataSource.filter.apply(this._dataSource,arguments)},supportPaging:function(){return!1},createDrillDownDataSource:function(e,t){e=e||{},t=t||{};var n=this._store,a=Object(x["l"])(e.rows,t.rowPath).concat(Object(x["l"])(e.columns,t.columnPath)).concat(B(e.rows)).concat(e.filters||[]).concat(B(e.columns)),o=P(a);return new v["a"]({load:function(e){return n.load(Object(l["a"])({},e,{filter:I(o,e.filter),select:t.customColumns}))}})}});function $(e,t,n){U(t,e,"rows",n),U(t,e,"columns",n)}function U(e,t,n,a){var o=t[n]||[],r=t.headerName===n?t.path.length:0,i=[];Object(x["e"])(e[n],(function(r,l){var s=o[l]||{},d=i[l]=i[l]||q(s,e,t,n,a);r.sort(d)}),r)}function q(e,t,n,a,o){var r=o?"asc":e.sortOrder,i=K(e.sortBy,o),l=e.sortingMethod?function(t,n){return e.sortingMethod(t,n)}:Object(x["i"])((function(e){return e[i]})),s=!o&&Y(e,t,n,a),d=s&&Object(x["i"])(s);return function(e,t){var n=d&&d(e,t)||l(e,t);return"desc"===r?-n:n}}function Y(e,t,n,a){var o=t.values,r=Object(x["d"])(n.values,e.sortBySummaryField),l="rows"===a,s=l?t.columns:t.rows,d=l?t.grandTotalRowIndex:t.grandTotalColumnIndex,u=e.sortBySummaryPath||[],c=u.length?X(s,u):d;if(o&&o.length&&r>=0&&Object(i["d"])(c))return function(e){var t=l?e.index:c,n=l?c:e.index,a=((o[t]||[[]])[n]||[])[r];return Object(i["d"])(a)?a:null}}function K(e,t){var n="text";return"none"===e?n="index":(t||"displayText"!==e)&&(n="value"),n}function X(e,t){var n=null,a=(t||[]).join(".");return a.length&&Object(x["f"])(e,(function(e){var t=e[0],o=Object(x["b"])(e).join("."),r=Object(d["b"])(e,(function(e){return e.text})).reverse().join(".");if(a===o||t.key&&r===a)return n=e[0].index,!1})),n}var Q=n("5b62"),J=n("45f8"),Z=n("9570"),ee=n("3fd5"),te=n("0328"),ne=Object(J["d"])(),ae=c["a"].inherit(function(){var e='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis"><RequestType>{2}</RequestType><Restrictions><RestrictionList><CATALOG_NAME>{0}</CATALOG_NAME><CUBE_NAME>{1}</CUBE_NAME></RestrictionList></Restrictions><Properties><PropertyList><Catalog>{0}</Catalog>{3}</PropertyList></Properties></Discover></Body></Envelope>',t="SELECT {2} FROM {0} {1} CELL PROPERTIES VALUE, FORMAT_STRING, LANGUAGE, BACK_COLOR, FORE_COLOR, FONT_FLAGS";function n(e,t){var n=new u["a"],a=e.beforeSend,o={url:e.url,dataType:"text",data:t,headers:{"Content-Type":"text/xml"},xhrFields:{},method:"POST"};return Object(i["h"])(a)&&a(o),Object(x["n"])(o).fail((function(){n.reject(arguments)})).done((function(e){var t,a=new ne.DOMParser;try{try{t=a.parseFromString(e,"text/xml")}catch(o){t=void 0}if(!t||t.getElementsByTagName("parsererror").length||0===t.childNodes.length)throw new ee["a"].Error("E4023",e)}catch(o){n.reject({statusText:o.message,stack:o.stack,responseText:e})}n.resolve(t)})),n}function a(){var e=Object(te["a"])();return void 0!==e?Object(Z["b"])("<LocaleIdentifier>{0}</LocaleIdentifier>",e):""}function o(e){return(e.hierarchyName||e.dataField)+".[All]"}function c(e){var t=e.dataField+".allMembers",n=e.searchValue;return n&&(n=n.replace(/'/g,"''"),t="Filter("+t+", instr("+e.dataField+".currentmember.member_caption,'"+n+"') > 0)"),t}function h(e){var t=e.join(",");return e.length>1?Object(Z["b"])("CrossJoin({0})",t):t}function p(e,t,n,a,r,i,l,s){for(var d,u,p,f,g,m,v,_=[],b=i[l],x=[],C=a;C<=t;C++){var w=b[C],O=w.dataField,S=b[C-1]&&b[C-1].hierarchyName,y=w.hierarchyName,j=!y||!b[C+1]||b[C+1].hierarchyName!==y,T=e.length+n+a;if(d=null,x.push(w),C<e.length)j&&(d="("+O+"."+F(e[C],O)+")");else if(C<=T)if(0===C&&0===n){var E=o(b[a]);d=y?E+","+b[a].dataField:c(b[a])}else y?(p=F(r[r.length-1]),(j||C===T)&&(S===y?(r.length&&(u=b[r.length-1]),u&&u.hierarchyName===y||(u=b[C-1],p=""),f=u.dataField,g=p,m=O,v=void 0,v=g||f,d="Descendants({"+v+"}, "+m+", SELF_AND_BEFORE)"):d=c(w))):d=c(w);else{var P=!y||S!==y;P&&(d="("+o(w)+")")}if(d){if(d=Object(Z["b"])("{{0}}",d),s){var I=(w.hierarchyName||w.dataField)+("displayText"===w.sortBy?".MEMBER_CAPTION":".MEMBER_VALUE");d=Object(Z["b"])("Order({0}, {1}, {2})",d,I,"desc"===w.sortOrder?"DESC":"ASC")}_.push(d)}}return h(_)}function f(e,t,n,a,o,r,i,l,s,d){var u,c=-1,h=r[i];do{c++,u=t.length+c+a;var f=p(t,n,c,a,o,r,i,s);s||d||(f=Object(Z["b"])("NonEmpty({0}, {1})",f,l)),e.push(f)}while(h[u]&&h[u+1]&&h[u].expanded)}function g(e,t,n,a){return n=n||"[DX_Set_"+t.length+"]",a=a||"set",t.push(Object(Z["b"])("{0} {1} as {2}",a,n,e)),n}function m(e,t,n,a,o){var r,i,l=e[t],s=[],u=[],c=[],p=0,m=0,v=[],_=Object(Z["b"])("{{0}}",n.join(","));if(l&&l.length){e.headerName===t?(u=e.path,p=u.length):e.headerName&&e.oppositePath?(u=e.oppositePath,p=u.length):c=("columns"===t?e.columnExpandedPaths:e.rowExpandedPaths)||c,m=Object(x["j"])(e,t),f(s,[],m,p,u,e,t,_,"rows"===t?e.rowTake:e.columnTake,e.totalsOnly),Object(d["a"])(c,(function(n,a){f(s,a,m,p,a,e,t,_)}));for(var b=m;b>=u.length;b--)l[b].hierarchyName&&(o.visibleLevels[l[b].hierarchyName]=o.visibleLevels[l[b].hierarchyName]||[],o.visibleLevels[l[b].hierarchyName].push(l[b].dataField))}if(s.length){var C=(r=s,i=r.join(","),r.length>1?"Union("+i+")":i);"rows"===t&&e.rowTake&&(C=Object(Z["b"])("Subset({0}, {1}, {2})",C,e.rowSkip>0?e.rowSkip+1:0,e.rowSkip>0?e.rowTake:e.rowTake+1)),"columns"===t&&e.columnTake&&(C=Object(Z["b"])("Subset({0}, {1}, {2})",C,e.columnSkip>0?e.columnSkip+1:0,e.columnSkip>0?e.columnTake:e.columnTake+1));var w="[DX_".concat(t,"]");v.push(g(C,a,w)),e.totalsOnly&&v.push(g("COUNT(".concat(w,")"),a,"[DX_".concat(t,"_count]"),"member"))}return"columns"===t&&n.length&&!e.skipValues&&v.push(_),Object(Z["b"])("{0} DIMENSION PROPERTIES PARENT_UNIQUE_NAME,HIERARCHY_UNIQUE_NAME, MEMBER_VALUE ON {1}",h(v),t)}function v(e){var t=[];return Object(d["a"])(e,(function(e,n){var a,o=n.dataField,r=[],l=n.filterValues||[];n.hierarchyName&&Object(i["i"])(n.groupIndex)||(Object(d["a"])(l,(function(e,t){var a=o+"."+F(Array.isArray(t)?t[t.length-1]:t,o);"exclude"===n.filterType&&(r.push(a+".parent"),a="Descendants("+a+")"),r.push(a)})),l.length&&(a=Object(Z["b"])("{{0}}",r.join(",")),"exclude"===n.filterType&&(a="Except("+c(n)+","+a+")"),t.push(a)))})),t.length?h(t):""}function _(e,t,n,a){var o="["+a+"]";return Object(d["a"])([e,t,n],(function(e,t){t&&(o=Object(Z["b"])("(SELECT {0} FROM {1})",t+"on 0",o))})),o}function b(e,n,a,o,r,i,l){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},d="",u=(n.length?"with "+n.join(" "):"")+" ";if(e.length){var c;if(s.totalsOnly){var h=[];o.length&&h.push("[DX_rows_count]"),a.length&&h.push("[DX_columns_count]"),c="{".concat(h.join(","),"} on columns")}else c=e.join(",");d=u+Object(Z["b"])(t,_(v(a),v(o),v(r||[]),l),i.length?Object(Z["b"])("WHERE ({0})",i.join(",")):"",c)}return d}function C(e,t){return Object(d["b"])(t,(function(t){return Object(i["o"])(t.expression)&&g(t.expression,e,t.dataField,"member"),t.dataField}))}function w(e,t,n,a){Object(d["a"])(a,(function(a,o){var r=t[n][a];r.hierarchyName&&r.hierarchyName===t[n][a+1].hierarchyName||e.push(r.dataField+"."+F(o,r.dataField))}))}function O(e,t,n){var a=e.columns||[],o=e.rows||[],r=e.values&&e.values.length?e.values:[{dataField:"[Measures]"}],i=[],l=[],s=[],d=C(l,r);return n.measureCount=e.skipValues?1:r.length,n.visibleLevels={},e.headerName&&e.path&&w(i,e,e.headerName,e.path),e.headerName&&e.oppositePath&&w(i,e,"rows"===e.headerName?"columns":"rows",e.oppositePath),(a.length||d.length)&&s.push(m(e,"columns",d,l,n)),o.length&&s.push(m(e,"rows",d,l,n)),b(s,l,a,o,e.filters,i,t,e)}function S(e,t,n){Object(d["a"])(n,(function(n,a){var o=t[n];o.hierarchyName&&(t[n+1]||{}).hierarchyName===o.hierarchyName||e.push(o.dataField+"."+F(a,o.dataField))}))}function y(e){return parseInt(e,10)}function j(e,t){return T(function(e,t){return(e.getElementsByTagName(t)||[])[0]}(e,t))}function T(e){return e&&(e.textContent||e.text||e.innerHTML)||""}function E(e,t,n){for(var a=[],o=[],r=0,i=[],l=e.getElementsByTagName("Cell"),s={},u=0;u<l.length;u++){var c=l[u],h=c.getElementsByTagName("Value")[0],p=h&&h.getElementsByTagName("Error")||[],f=0===p.length?T(h):"#N/A",g=parseFloat(f),m=f-g+1>0,v=y(c.getAttribute("CellOrdinal"));p.length&&(s[T(p[0].getElementsByTagName("ErrorCode")[0])]=T(p[0].getElementsByTagName("Description")[0])),i[v]={value:m?g:f||null}}return Object(d["a"])(t[1],(function(){var e=[];a.push(e),Object(d["a"])(t[0],(function(){var t=r%n;0===t&&(o=[],e.push(o)),o.push(i[r]?i[r].value:null),r++}))})),Object.keys(s).forEach((function(e){ee["a"].log("W4002",s[e])})),a}function F(e,t){return e&&(e=Object(i["o"])(e)&&-1!==e.indexOf("&")?e:"["+e+"]",t&&0===e.indexOf(t+".")&&(e=e.slice(t.length+1,e.length))),e}function P(e,t,n,a){var o=e[t];return o||(o={},e[t]=o),!Object(i["d"])(o.value)&&n&&(o.text=n.caption,o.value=n.value,o.key=t||"",o.levelName=n.levelName,o.hierarchyName=n.hierarchyName,o.parentName=n.parentName,o.index=a,o.level=n.level),o}function I(e,t){var n=[],a=e.children&&(e.children.length?e.children:Object.keys(e.children.grandTotalHash||{}).reduce((t,n)=>t.concat(e.children.grandTotalHash[n].children),[])),o=a&&a[0];if(o&&(t[o.hierarchyName]&&-1!==Object(s["c"])(o.levelName,t[o.hierarchyName])||!t[o.hierarchyName]||0===o.level)){var r=a.filter(e=>e.hierarchyName===o.hierarchyName);return r.grandTotalHash=a.grandTotalHash,r}if(o)for(var i=0;i<a.length;i++)a[i].hierarchyName===o.hierarchyName&&n.push.apply(n,I(a[i],t));return n}function A(e,t,n,a){var o=[];Object(d["a"])(t,(function(e,t){var a={children:o},r=Object(i["d"])(n)?Math.floor(e/n):e;Object(d["a"])(t,(function(e,t){a=function(e,t,n){var a=n.children=n.children||[],o=a.hash=a.hash||{},r=a.grandTotalHash=a.grandTotalHash||{};t.parentName&&(n=P(o,t.parentName),a=n.children=n.children||[]);var i=P(o,t.name,t,e);return t.hasValue&&!i.added&&(i.index=e,i.added=!0,a.push(i)),n.value&&n.parentName||!t.parentName?r[n.name]&&delete r[t.parentName]:r[t.parentName]=n,i}(r,t,a)}))}));var r={children:o};r.children=I(r,a);var l=function(e,t){var n;if(1===e.children.length&&""===e.children[0].parentName){n=e.children[0].index;var a=e.children.grandTotalHash;e.children=e.children[0].children||[],e.children.grandTotalHash=a,e.children=I(e,t)}else 0===e.children.length&&(n=0);return n}(r,a);return Object(x["f"])(r.children,(function(e){var t=e[0],n=I(t,a);n.length?t.children=n:delete t.children,delete t.levelName,delete t.hierarchyName,delete t.added,delete t.parentName,delete t.level}),!0),Object(d["a"])(r.children||[],(function(t,n){e.push(n)})),l}function D(e){var t=e.getElementsByTagName("soap:Fault"),n=e.getElementsByTagName("Fault"),a=Object(Q["a"])([].slice.call(n.length?n:t)).find("Error");if(a.length){var o=a.attr("Description"),r=new ee["a"].Error("E4000",o);return ee["a"].log("E4000",o),r}return null}function N(e,t){var n={columns:[],rows:[]},a=t.measureCount,o=function(e,t){var n=[];Object(d["a"])(e.getElementsByTagName("Axis"),(function(e,a){var o=a.getAttribute("name"),r=[],l=0;0===o.indexOf("Axis")&&Object(i["i"])(y(o.substr(4)))&&(n.push(r),Object(d["a"])(a.getElementsByTagName("Tuple"),(function(e,a){var o,s=a.childNodes,d=0,u=[],c=t?s.length:s.length-1,h=1===n.length;h&&c--,r.push(u);for(var p=c;p>=0;p--){var f=s[p],g=y(j(f,"LNum"));u[p]={caption:j(f,"Caption"),value:(o=j(f,"MEMBER_VALUE"),Object(i["i"])(o)?parseFloat(o):o),level:g,index:l++,hasValue:!d&&(!!g||0===p),name:j(f,"UName"),hierarchyName:s[p].getAttribute("Hierarchy"),parentName:j(f,"PARENT_UNIQUE_NAME"),levelName:j(f,"LName")},d+=g}})))}));while(n.length<2)n.push([[{level:0}]]);return n}(e,t.skipValues);return n.grandTotalColumnIndex=A(n.columns,o[0],a,t.visibleLevels),n.grandTotalRowIndex=A(n.rows,o[1],void 0,t.visibleLevels),n.values=E(e,o,a),n}function k(e,t,n,a){var o=[],r="MEASURE"===t,i=r?"MEASUREGROUP_NAME":t+"_DISPLAY_FOLDER";return Object(d["a"])(e.getElementsByTagName("row"),(function(e,l){var s="LEVEL"===t?j(l,"HIERARCHY_UNIQUE_NAME"):void 0,d=j(l,"LEVEL_NUMBER"),u=j(l,i);if(r&&(u=a[u]||u),("0"!==d||"true"!==j(l,t+"_IS_VISIBLE"))&&"2"!==j(l,"DIMENSION_TYPE")){var c=r?"DX_MEASURES":j(l,"DIMENSION_UNIQUE_NAME"),h=j(l,t+"_UNIQUE_NAME");o.push({dimension:n.names[c]||c,groupIndex:d?y(d)-1:void 0,dataField:h,caption:j(l,t+"_CAPTION"),hierarchyName:s,groupName:s,displayFolder:u,isMeasure:r,isDefault:!!n.defaultHierarchies[h]})}})),o}function B(e){e=e.replace(/_x(....)_/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}));var t=e.match(/\[.+?\]/gi);return t&&t.length&&(e=t[t.length-1]),e.replace(/\[/gi,"").replace(/\]/gi,"").replace(/\$/gi,"").replace(/\./gi," ")}function H(e,t){return t=Object(Q["a"])("<div>").text(t).html(),n(e,Object(Z["b"])('<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>{0}</Statement></Command><Properties><PropertyList><Catalog>{1}</Catalog><ShowHiddenCubes>True</ShowHiddenCubes><SspropInitAppName>Microsoft SQL Server Management Studio</SspropInitAppName><Timeout>3600</Timeout>{2}</PropertyList></Properties></Execute></Body></Envelope>',t,e.catalog,a()))}return{ctor:function(e){this._options=e},getFields:function(){var t=this._options,o=t.catalog,r=t.cube,i=a(),l=n(t,Object(Z["b"])(e,o,r,"MDSCHEMA_DIMENSIONS",i)),s=n(t,Object(Z["b"])(e,o,r,"MDSCHEMA_MEASURES",i)),c=n(t,Object(Z["b"])(e,o,r,"MDSCHEMA_HIERARCHIES",i)),h=n(t,Object(Z["b"])(e,o,r,"MDSCHEMA_LEVELS",i)),p=new u["a"];return Object(u["c"])(l,s,c,h).then((function(a,l,s,u){n(t,Object(Z["b"])(e,o,r,"MDSCHEMA_MEASUREGROUPS",i)).done((function(e){var t=function(e){var t={names:{},defaultHierarchies:{}};return Object(d["a"])(Object(Q["a"])(e).find("row"),(function(){var e=Object(Q["a"])(this),n=e.children("DIMENSION_TYPE").text(),a="2"===n?"DX_MEASURES":e.children("DIMENSION_UNIQUE_NAME").text();t.names[a]=e.children("DIMENSION_CAPTION").text(),t.defaultHierarchies[e.children("DEFAULT_HIERARCHY").text()]=!0})),t}(a),n=k(s,"HIERARCHY",t),o=k(u,"LEVEL",t),r=function(e){var t={};return Object(d["a"])(e.getElementsByTagName("row"),(function(e,n){t[j(n,"MEASUREGROUP_NAME")]=j(n,"MEASUREGROUP_CAPTION")})),t}(e),i=k(l,"MEASURE",t,r).concat(n),c={};Object(d["a"])(o,(function(e,t){c[t.hierarchyName]=c[t.hierarchyName]||[],c[t.hierarchyName].push(t)})),Object(d["a"])(n,(function(e,t){c[t.dataField]&&c[t.dataField].length>1&&(t.groupName=t.hierarchyName=t.dataField,i.push.apply(i,c[t.hierarchyName]))})),p.resolve(i)})).fail(p.reject)})).fail(p.reject),p},load:function(e){var t,n=new u["a"],a=this._options,o={skipValues:e.skipValues},r=O(e,a.cube,o);(e.rowSkip||e.rowTake||e.columnTake||e.columnSkip)&&(t=O(Object(l["a"])({},e,{totalsOnly:!0,rowSkip:null,rowTake:null,columnSkip:null,columnTake:null}),a.cube,{}));var i=()=>{r?Object(u["c"])(H(a,r),t&&H(a,t)).done((function(t,a){var r=D(t)||a&&D(a);if(r)n.reject(r);else{var i=N(t,o);a&&function(e,t,n){var a=[],o=t.columns||[],r=t.rows||[];o.length&&a.push({}),r.length&&a.push({});var i=E(n,[[{}],[{},{}]],1);if(!o.length&&r.length&&(e.rowCount=Math.max(i[0][0][0]-1,0)),!r.length&&o.length&&(e.columnCount=Math.max(i[0][0][0]-1,0)),r.length&&o.length&&(e.rowCount=Math.max(i[0][0][0]-1,0),e.columnCount=Math.max(i[1][0][0]-1,0)),void 0!==e.rowCount&&t.rowTake){e.rows=[...Array(t.rowSkip)].concat(e.rows),e.rows.length=e.rowCount;for(var l=0;l<e.rows.length;l++)e.rows[l]=e.rows[l]||{}}if(void 0!==e.columnCount&&t.columnTake){e.columns=[...Array(t.columnSkip)].concat(e.columns),e.columns.length=e.columnCount;for(var s=0;s<e.columns.length;s++)e.columns[s]=e.columns[s]||{}}}(i,e,a),n.resolve(i)}})).fail(n.reject):n.resolve({columns:[],rows:[],values:[],grandTotalColumnIndex:0,grandTotalRowIndex:0})};return e.delay?setTimeout(i,e.delay):i(),n},supportPaging:function(){return!0},getDrillDownItems:function(e,t){var n=new u["a"],a=this._options,o=function(e,t,n){var a=e.columns||[],o=e.rows||[],r=e.values&&e.values.length?e.values:[{dataField:"[Measures]"}],i=[],l=[],s=[],d=C(l,r),u=n.maxRowCount,c=n.customColumns||[],h=c.length>0?" return "+c.join(","):"";S(i,a,n.columnPath||[]),S(i,o,n.rowPath||[]),(a.length||d.length)&&s.push([(d[n.dataIndex]||d[0])+" on 0"]);var p=b(s,l,a,o,e.filters,i,t);return p?"drillthrough"+(u>0?" maxrows "+u:"")+p+h:p}(e,a.cube,t);return o?Object(u["c"])(H(a,o)).done((function(e){var t=D(e);t?n.reject(t):n.resolve(function(e){for(var t=e.getElementsByTagName("row"),n=[],a={},o=0;o<t.length;o++){for(var r=t[o].childNodes,i={},l=0;l<r.length;l++){var s=r[l].tagName,d=a[s]=a[s]||B(s);i[d]=T(r[l])}n.push(i)}return n}(e))})).fail(n.reject):n.resolve([]),n},key:r["n"],filter:r["n"]}}()).include(x["q"]),oe="column",re="row",ie=null,le=function(e,t){var n=e/t;return Object(i["d"])(e)&&!isNaN(n)||(n=ie),n},se=function(e,t){return le(e.value(),e.grandTotal(t).value())},de=function(e,t){var n=e.parent(t),a=n?n.value():e.value();return le(e.value(),a)},ue=function(e){return function(t){var n=t.prev(oe,e),a=n&&n.value();return Object(i["d"])(a)&&Object(i["d"])(t.value())?t.value()-a:ie}},ce=function(e){var t=ue(e);return function(n){var a=t(n),o=n.prev(oe,e),r=o&&o.value();return a!==ie&&r?a/r:ie}},he={percentOfColumnTotal:function(e){return de(e,re)},percentOfRowTotal:function(e){return de(e,oe)},percentOfColumnGrandTotal:function(e){return se(e,re)},percentOfRowGrandTotal:function(e){return se(e,oe)},percentOfGrandTotal:function(e){return se(e)}},pe=function e(t,n){if(t&&t.parent(n)){var a=t.prev(n);return a||(a=e(t.parent(n),n)),a}},fe=function(e){if(e.runningTotal){var t=e.runningTotal===oe?re:oe;return function(n){var a=e.allowCrossGroupCalculation?pe(n,t):n.prev(t,!1),o=n.value(!0),r=a&&a.value(!0);return Object(i["d"])(r)&&Object(i["d"])(o)?o=r+o:Object(i["d"])(r)&&(o=r),o}}};function ge(){return{fields:{},positions:{}}}function me(e,t,n){var a={index:-1};if(!Object(i["j"])(t))if(n.fields[t])t=n[t];else{var o=e.columns.concat(e.rows).concat(e.values),r=Object(x["d"])(o,t);t=n[t]=o[r]}if(t){var l=t.area||"data";a=n.positions[t.index]=n.positions[t.index]||{area:l,index:Object(s["c"])(t,e["data"===l?"values":l+"s"])}}return a}function ve(e){return e===re?"_rowPath":"_columnPath"}var _e=function(e,t,n,a,o,r){this._columnPath=e,this._rowPath=t,this._fieldIndex=o,this._fieldsCache=r||ge(),this._data=n,this._descriptions=a;var i=n.values&&n.values[t[0].index]&&n.values[t[0].index][e[0].index];i&&(i.originalCell=i.originalCell||i.slice(),i.postProcessedFlags=i.postProcessedFlags||[],this._cell=i)};function be(e){var t=e.summaryDisplayMode,n=e.allowCrossGroupCalculation,a=ie;return Object(i["h"])(e.calculateSummaryValue)?a=e.calculateSummaryValue:t&&(a="absoluteVariation"===t?ue(n):"percentVariation"===t?ce(n):he[t],a&&!e.format&&-1!==t.indexOf("percent")&&Object(x["p"])(e,"format","percent")),a}function xe(e,t,n,a){var o=e.values[t][n]=e.values[t][n]||[],r=o.originalCell;r&&(!o.allowResetting&&a||(e.values[t][n]=r.slice()),e.values[t][n].allowResetting=a)}function Ce(e,t){var n=[],a=[{index:t.grandTotalColumnIndex,children:t.columns}],o=[{index:t.grandTotalRowIndex,children:t.rows}],r=e.values,i=ge();t.values=t.values||[],Object(x["f"])(a,e=>{e[0].isEmpty=[]},!1),Object(x["f"])(o,(function(o){var l=o[0];l.isEmpty=[],t.values[l.index]=t.values[l.index]||[],Object(x["f"])(a,(function(a){var s,d=a[0];xe(t,l.index,d.index,!1);for(var u=0;u<r.length;u++){var c=r[u],h=n[u]=void 0===n[u]?be(c):n[u];if(s=!1,h){var p=new _e(a,o,t,e,u,i),f=p.cell(),g=f[u]=h(p);f.postProcessedFlags[u]=!0,s=null===g||void 0===g}void 0===d.isEmpty[u]&&(d.isEmpty[u]=!0),void 0===l.isEmpty[u]&&(l.isEmpty[u]=!0),s||(l.isEmpty[u]=d.isEmpty[u]=!1)}}),!1)}),!1),t.isEmptyGrandTotalRow=o[0].isEmpty,t.isEmptyGrandTotalColumn=a[0].isEmpty}function we(e,t){var n=[],a=[{index:t.grandTotalColumnIndex,children:t.columns}],o=[{index:t.grandTotalRowIndex,children:t.rows}],r=e.values,i=ge();t.values=t.values||[],Object(x["f"])(o,(function(o){var l=o[0];t.values[l.index]=t.values[l.index]||[],Object(x["f"])(a,(function(a){var s=a[0];xe(t,l.index,s.index,!0);for(var d=0;d<r.length;d++){var u=r[d],c=n[d]=void 0===n[d]?fe(u):n[d];if(c){var h=new _e(a,o,t,e,d,i),p=h.cell();p[d]=c(h),p.postProcessedFlags[d]=!0}}}),!1)}),!1)}function Oe(e,t,n){var a=new _e([],[],{},e,0);return a.value=function(a){if(Object(i["d"])(a)){var o=Object(x["d"])(t,a),r=t[o];n[o]||!r||Object(i["d"])(r.area)||(e.values.push(r),n[o]=!0)}},a.grandTotal=function(){return this},a.children=function(){return[]},a}_e.prototype=Object(l["a"])(_e.prototype,{_getPath:function(e){return this[ve(e)]},_getDimension:function(e){return e=e===re?"rows":"columns",this._descriptions[e]},_createCell:function(e){return new _e(e._columnPath||this._columnPath,e._rowPath||this._rowPath,this._data,this._descriptions,this._fieldIndex)},parent:function(e){var t=this._getPath(e).slice(),n={};return t.shift(),t.length?(n[ve(e)]=t,this._createCell(n)):ie},children:function(e){var t=this._getPath(e).slice(),n=t[0],a=[],o={};if(n.children)for(var r=0;r<n.children.length;r++)o[ve(e)]=[n.children[r]].concat(t.slice()),a.push(this._createCell(o));return a},grandTotal:function(e){var t={},n=this._rowPath,a=this._columnPath,o=this._getPath(e),r=ve(e);return e?t[r]=[o[o.length-1]]:(t._rowPath=[n[n.length-1]],t._columnPath=[a[a.length-1]]),this._createCell(t)},next:function(e,t){var n,a=this._getPath(e),o=a[0],r=this.parent(e);if(r){var i=Object(s["c"])(o,a[1].children);if(n=r.children(e),n[i+1])return n[i+1]}if(t&&r){do{r=r.next(e,t),n=r?r.children(e):[]}while(r&&!n.length);return n[0]||ie}return ie},prev:function(e,t){var n,a=this._getPath(e),o=a[0],r=this.parent(e);if(r){var i=Object(s["c"])(o,a[1].children);if(n=r.children(e),n[i-1])return n[i-1]}if(t&&r){do{r=r.prev(e,t),n=r?r.children(e):[]}while(r&&!n.length);return n[n.length-1]||ie}return ie},cell:function(){return this._cell},field:function(e){if("data"===e)return this._descriptions.values[this._fieldIndex];var t=this._getPath(e),n=this._getDimension(e),a=n[t.length-2];return a||ie},child:function(e,t){for(var n=this.children(e),a=0;a<n.length;a++){var o=o||n[a].field(e);if(n[a].value(o)===t)return n[a]}return ie},slice:function(e,t){var n={},a=me(this._descriptions,e,this._fieldsCache),o=a.area,r=a.index,i=ie;if(o===re||o===oe){var l=this._getPath(o).slice(),s=-1!==r&&l.length-2-r;if(l[s]){[][l.length-1]=l[l.length-1];for(var d=s;d>=0;d--){if(l[d+1]){var u=l[d+1].children||[],c=d===s?t:l[d].value;l[d]=void 0;for(var h=0;h<u.length;h++)if(u[h].value===c){l[d]=u[h];break}}if(void 0===l[d])return i}n[ve(o)]=l,i=this._createCell(n)}}return i},value:function(e,t){var n=this._cell,a=this._fieldIndex,o=!0===e||!1===e,r=o?ie:e,l=o&&e||t;if(Object(i["d"])(r)){var s=me(this._descriptions,r,this._fieldsCache);if(a=s.index,"data"!==s.area){var d=this._getPath(s.area),u=-1!==a&&d.length-2-a;return d[u]&&d[u].value}}return n&&n.originalCell?l?n[a]:n.originalCell[a]:ie},isPostProcessed(e){var t=this._fieldIndex;if(Object(i["d"])(e)){var n=me(this._descriptions,e,this._fieldsCache);if(t=n.index,"data"!==n.area)return!1}return!(!this._cell||!this._cell.postProcessedFlags[t])}});var Se={row:"rows",column:"columns",data:"values",filter:"filters"},ye=["area","areaIndex","sortOrder","filterType","filterValues","sortBy","sortBySummaryField","sortBySummaryPath","expanded","summaryType","summaryDisplayMode"],je=["format","selector","customizeText","caption"],Te=je.concat(["allowSorting","allowSortingBySummary","allowFiltering","allowExpandAll"]);function Ee(e){var t=e.dataField||e.groupName||"",n=(e.summaryType||"").toLowerCase();return Object(i["o"])(e.groupInterval)&&(t+="_"+e.groupInterval),n&&"custom"!==n?(n=n.replace(/^./,n[0].toUpperCase()),t.length&&(n=" ("+n+")")):n="",Object(p["e"])(t)+n}function Fe(e,t){var n=e._initProperties||{};Object(d["a"])(t,(function(t,a){Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}))}function Pe(e,t){Fe(e,t),Object(i["d"])(e.caption)||Object(x["p"])(e,"caption",Ee(e))}function Ie(e){return e.some((function(e){return e.summaryDisplayMode||e.calculateSummaryValue}))}function Ae(e){return e.some((function(e){return!!e.runningTotal}))}function De(e){return e.rows.length||e.columns.length||e.values.length}t["a"]=c["a"].inherit(function(){var e=function(e,t){if(e._cacheByPath)return e._cacheByPath[t.join(".")]||null},t=function e(t,n){var a,o,r=-1;if(t)for(a=0;a<t.length;a++)o=t[a],void 0!==o.index&&(r=Math.max(r,o.index)),o.children?r=Math.max(r,e(o.children)):o.collapsedChildren&&(r=Math.max(r,e(o.collapsedChildren)));return Object(i["d"])(n)&&(r=Math.max(r,n)),r},n=function(e,n,a,o){var r,i=t(a)+1,l=t(e,o)+1,s=[],d=!1,c=new u["a"];if(n.children&&n.children.length===a.length)for(var h=0;h<a.length;h++){var p=a[h];void 0!==p.index&&(void 0===n.children[h].index?(p.index=s[p.index]=l++,n.children[h]=p):s[p.index]=n.children[h].index)}else{for(d=!0,r=0;r<i;r++)s[r]=l++;n.children=a}return Object(u["c"])(Object(x["g"])(n.children,(function(e){d&&(e[0].index=s[e[0].index])}))).done((function(){c.resolve(s)})),c},p=function(n,a,o){var r=new u["a"],i=o>=0&&t(n,o)+1,l=[];return Object(u["c"])(Object(x["g"])(n,(function(e){delete e[0].collapsedChildren}))).done((function(){Object(u["c"])(Object(x["g"])(a,(function(t,a){var o=t[0];if(o.index>=0){var r=e(n,Object(x["b"])(t));if(r&&r.index>=0)l[o.index]=r.index;else if(i){var s=Object(x["b"])(t.slice(1));r=e(n,s);var d=s.length?r&&r.children:n;d&&(d[a]=o,o.index=l[o.index]=i++)}}}))).done((function(){r.resolve(l)}))})),r},f=function(e,t,n,a){var o,r,l,s,d,u,c=e.values;if(t)for(o=0;o<=t.length;o++)if(l=t[o],d=n[o],Object(i["d"])(d)||(d=e.grandTotalRowIndex),l&&Object(i["d"])(d))for(c[d]||(c[d]=[]),r=0;r<=l.length;r++)s=l[r],u=a[r],Object(i["d"])(u)||(u=e.grandTotalColumnIndex),Object(i["d"])(s)&&Object(i["d"])(u)&&(c[d][u]=s)};function g(e,t){var n=e.remoteOperations||e.paginate?W:O;return new n(Object(l["a"])(Object(a["d"])(e),{onChanged:null,onLoadingChanged:null,onProgressChanged:t}))}function m(e,t,n,a){var o=[],r=t&&t[n]||[],i=a&&a[n]||[];return Object(x["f"])(e[n],(function(e){var t=e[0],n=Object(x["b"])(e);t.children&&r[n.length-1]&&!r[n.length-1].expanded&&n.length<r.length&&(!a||function(e,t,n){for(var a=0;a<n;a++)if(!e[a]||!t[a]||e[a].index!==t[a].index)return!1;return!0}(r,i,n.length))&&o.push(n.slice())}),!0),o}function v(e,t,n,a){return t?Object(d["a"])(a,(function(a,o){if(n)e[o]=t[o];else{if(("summaryType"===o||"summaryDisplayMode"===o)&&void 0===t[o])return;Object(x["p"])(e,o,t[o])}})):Fe(e,a),e}function _(e,t){var n=[];return Object(d["a"])(e,(function(e,a){n.push(v({dataField:a.dataField,name:a.name},a,!0,t))})),n}function b(e){return e.name?e.name:e.dataField+""}function C(e,t){var n=[];return Object(d["a"])(e||[],(function(e,a){b(a)===t&&n.push(a)})),n}function w(e,t){e=e||[];var n,a={};return Object(d["a"])(t,(function(e,o){n=b(o),a[n]||(a[n]=C(t,b(o)))})),Object(d["a"])(a,(function(t,n){!function(e,t){e=e||[],Object(d["a"])(t,(function(t,n){v(n,e[t],!1,ye),Pe(n,je)}))}(C(e,t),n)})),t}function S(e){e.sort((function(e,t){return e.areaIndex-t.areaIndex||e.groupIndex-t.groupIndex}))}function y(e,t){var n=e.groupName||"";return(e.dataField||n)+(e.groupInterval?n+e.groupInterval:"NOGROUP")+(t?"":n)}function j(e,t,n){var a=[],o={},r={},s=Object(x["k"])(e);return t?(Object(d["a"])(t,(function(e,t){o[y(t,n)]=t})),Object(d["a"])(e,(function(e,t){var i,d=y(t,n),u=o[d]||r[d];u?(u._initProperties&&Fe(u,Te),i=Object(l["a"])({},u,t,{_initProperties:null})):o[d]=i=t,Object(l["a"])(i,{dataType:s[t.dataField]}),delete o[d],r[d]=u,a.push(i)})),n&&Object(d["a"])(o,(function(e,t){a.push(t)}))):a=e,a.push.apply(a,[]),function(e){e.forEach(t=>{if(t.groupName&&t.groupInterval&&void 0===t.groupIndex){var n=e.filter(e=>e.groupName===t.groupName&&Object(i["i"])(e.groupIndex)).map(e=>e.groupIndex).reduce((e,t)=>Math.max(e,t),-1);t.groupIndex=n+1}})}(a),a}function T(e){var t,n=new u["a"],a=e._store,o=a&&a.getFields(e._fields);return Object(u["c"])(o).done((function(a){e._storeFields=a,t=j(e._fields,a,e._retrieveFields),n.resolve(t)})).fail(n.reject),n}function E(e,t,n){return Object(x["g"])(e[n],(function(e){var a=e[0];a.text=a.text||Object(x["h"])(a.value,t[n][Object(x["b"])(e).length-1])}))}function F(e,t){return Object(u["c"])(E(t,e,"columns"),E(t,e,"rows"))}function P(e){var t=new u["a"],n={};return Object(u["c"])(Object(x["g"])(e,(function(e){var t=Object(x["b"])(e).join(".");n[t]=e[0]}))).done(t.resolve),e._cacheByPath=n,t}function I(e,t){var n=[];return Object(d["a"])(e,(function(){(function(e,t){var n="data"===t||!1!==e.visible;return e.area===t&&!Object(i["d"])(e.groupIndex)&&n})(this,t)&&n.push(this)})),n}return{ctor:function(e){e=e||{},this._eventsStrategy=new h["a"](this);var t=this,n=function(e,t){var n,a;return Object(i["k"])(e)&&e.load?n=g(e,t):(e&&!e.store&&(e={store:e}),a=e.store,"xmla"===a.type?n=new ae(a):Object(i["k"])(a)&&a.type||a instanceof o["a"]||Array.isArray(a)?n=g(e,t):a instanceof c["a"]&&(n=a)),n}(e,(function(e){t._eventsStrategy.fireEvent("progressChanged",[e])}));t._store=n,t._paginate=!!e.paginate,t._pageSize=e.pageSize||40,t._data={rows:[],columns:[],values:[]},t._loadingCount=0,t._isFieldsModified=!1,Object(d["a"])(["changed","loadError","loadingChanged","progressChanged","fieldsPrepared","expandValueChanging"],function(t,n){var a="on"+n[0].toUpperCase()+n.slice(1);Object.prototype.hasOwnProperty.call(e,a)&&this.on(n,e[a])}.bind(this)),t._retrieveFields=!Object(i["d"])(e.retrieveFields)||e.retrieveFields,t._fields=e.fields||[],t._descriptions=e.descriptions?Object(l["a"])(t._createDescriptions(),e.descriptions):void 0,n||Object(l["a"])(!0,t._data,e.store||e)},getData:function(){return this._data},getAreaFields:function(e,t){var n,a=[];return t||"data"===e?(a=I(this._fields,e),S(a)):(n=this._descriptions||{},a=n[Se[e]]||[]),a},fields:function(e){return e&&(this._fields=j(e,this._storeFields,this._retrieveFields),this._fieldsPrepared(this._fields)),this._fields},field:function(e,t){var n,a=this._fields,o=a&&a[Object(i["i"])(e)?e:Object(x["d"])(a,e)];return o&&t&&(Object(d["a"])(t,(function(e,t){var a=Object(s["c"])(e,ye)<0;if(Object(x["p"])(o,e,t,a),"sortOrder"===e){n=o.levels||[];for(var r=0;r<n.length;r++)n[r][e]=t}})),Pe(o,je),this._descriptions=this._createDescriptions(o),this._isFieldsModified=!0,this._eventsStrategy.fireEvent("fieldChanged",[o])),o},getFieldValues:function(e,t,n){var a,o=this,r=this._fields&&this._fields[e],i=this.store(),s=[],c={columns:s,rows:[],values:this.getAreaFields("data"),filters:t?this._fields.filter(e=>e!==r&&e.area&&e.filterValues&&e.filterValues.length):[],skipValues:!0},h=new u["a"];return n&&(a=n.searchValue,c.columnSkip=n.skip,c.columnTake=n.take),r&&i?(Object(d["a"])(r.levels||[r],(function(){s.push(Object(l["a"])({},this,{expanded:!0,filterValues:null,sortOrder:"asc",sortBySummaryField:null,searchValue:a}))})),i.load(c).done((function(e){c.columnSkip&&(e.columns=e.columns.slice(c.columnSkip)),c.columnTake&&(e.columns=e.columns.slice(0,c.columnTake)),F(c,e),c.columnTake||o._sort(c,e),h.resolve(e.columns)})).fail(h)):h.reject(),h},reload:function(){return this.load({reload:!0})},filter:function(){var e=this._store;return e.filter.apply(e,arguments)},load:function(e){var t=this,n=new u["a"];function a(){t._delayedLoadTask=void 0,t._descriptions?t._loadCore(e,n):Object(u["c"])(T(t)).done((function(a){t._fieldsPrepared(a),t._loadCore(e,n)})).fail(n.reject).fail(t._loadErrorHandler)}return e=e||{},t.beginLoading(),n.fail((function(e){t._eventsStrategy.fireEvent("loadError",[e])})).always((function(){t.endLoading()})),t.store()?t._delayedLoadTask=Object(r["j"])(a):a(),n},createDrillDownDataSource:function(e){return this._store.createDrillDownDataSource(this._descriptions,e)},_createDescriptions:function(e){var t=this.fields(),n={rows:[],columns:[],values:[],filters:[]};Object(d["a"])(["row","column","data","filter"],(function(n,a){Object(s["f"])(I(t,a),"areaIndex",e)})),Object(d["a"])(t||[],(function(e,a){var o=Se[a.area],r=n[o],s=a.groupName;s&&!Object(i["i"])(a.groupIndex)&&(a.levels=function(e,t){return e.filter(e=>e.groupName===t.groupName&&Object(i["i"])(e.groupIndex)&&!1!==e.visible).map((function(e){return Object(l["a"])(e,{areaIndex:t.areaIndex,area:t.area,expanded:Object(i["d"])(e.expanded)?e.expanded:t.expanded,dataField:e.dataField||t.dataField,dataType:e.dataType||t.dataType,sortBy:e.sortBy||t.sortBy,sortOrder:e.sortOrder||t.sortOrder,sortBySummaryField:e.sortBySummaryField||t.sortBySummaryField,sortBySummaryPath:e.sortBySummaryPath||t.sortBySummaryPath,visible:e.visible||t.visible,showTotals:Object(i["d"])(e.showTotals)?e.showTotals:t.showTotals,showGrandTotals:Object(i["d"])(e.showGrandTotals)?e.showGrandTotals:t.showGrandTotals})})).sort((function(e,t){return e.groupIndex-t.groupIndex}))}(t,a)),!r||s&&Object(i["i"])(a.groupIndex)||!1===a.visible&&"data"!==a.area&&"filter"!==a.area||(a.levels&&r!==n.filters&&r!==n.values?(r.push.apply(r,a.levels),a.filterValues&&a.filterValues.length&&n.filters.push(a)):r.push(a))})),Object(d["a"])(n,(function(e,t){S(t)}));var a={};return Object(d["a"])(n.values,(function(e,o){var r=o.calculateSummaryValue;if(Object(i["h"])(r)){var l=Oe(n,t,a);r(l)}})),n},_fieldsPrepared:function(e){this._fields=e,Object(d["a"])(e,(function(e,t){t.index=e,Pe(t,Te)}));var t=_(e,["caption"]);this._eventsStrategy.fireEvent("fieldsPrepared",[e]);for(var n=0;n<e.length;n++)e[n].caption!==t[n].caption&&Object(x["p"])(e[n],"caption",e[n].caption,!0);this._descriptions=this._createDescriptions()},isLoading:function(){return this._loadingCount>0},state:function(e,t){var n=this;if(!arguments.length)return{fields:_(n._fields,ye),columnExpandedPaths:m(n._data,n._descriptions,"columns",n._lastLoadOptions),rowExpandedPaths:m(n._data,n._descriptions,"rows",n._lastLoadOptions)};e=Object(l["a"])({rowExpandedPaths:[],columnExpandedPaths:[]},e),n._descriptions?(n._fields=w(e.fields,n._fields),n._descriptions=n._createDescriptions(),!t&&n.load(e)):(n.beginLoading(),Object(u["c"])(T(n)).done((function(a){n._fields=w(e.fields,a),n._fieldsPrepared(a),!t&&n.load(e)})).always((function(){n.endLoading()})))},beginLoading:function(){this._changeLoadingCount(1)},endLoading:function(){this._changeLoadingCount(-1)},_changeLoadingCount:function(e){var t=this.isLoading();this._loadingCount+=e;var n=this.isLoading();t^n&&this._eventsStrategy.fireEvent("loadingChanged",[n])},_hasPagingValues:function(t,n,a){var o=n+"Take",r=n+"Skip",i=this._data.values,l=this._data[n+"s"],s="row"===n?"column":"row",d=[];if(t.path&&t.area===n){var u=e(l,t.path);if(l=u&&u.children,!l)return!1}if(t.oppositePath&&t.area===s){var c=e(l,t.oppositePath);if(l=c&&c.children,!l)return!1}for(var h=t[r];h<t[r]+t[o];h++)l[h]&&d.push(l[h].index);return d.every(e=>{if(void 0!==e)return"row"===n?(i[e]||[])[a]:(i[a]||[])[e]})},_processPagingCacheByArea:function(t,n,a){var o,r=a+"Take",i=a+"Skip",l=this._data[a+"s"],s="row"===a?"column":"row";if(t[r]){if(t.path&&t.area===a){var d=e(l,t.path);l=d&&d.children||[]}if(t.oppositePath&&t.area===s){var u=e(l,t.oppositePath);l=u&&u.children||[]}do{if(o=l[t[i]],o&&void 0!==o.index){if(!this._hasPagingValues(t,s,o.index))break;t[i]++,t[r]--}}while(o&&void 0!==o.index&&t[r]);if(t[r]){var c=Math.floor(t[i]/n)*n,h=Math.ceil((t[i]+t[r])/n)*n;t[i]=c,t[r]=h-c}}},_processPagingCache:function(e){var t=this._pageSize;if(!(t<0))for(var n=0;n<e.length;n++)this._processPagingCacheByArea(e[n],t,"row"),this._processPagingCacheByArea(e[n],t,"column")},_loadCore:function(e,t){var n=this,a=this._store,o=this._descriptions,r=e.reload||this.paginate()&&n._isFieldsModified,i=this.paginate(),s=Se[e.area];if(e=e||{},a){Object(l["a"])(e,o),e.columnExpandedPaths=e.columnExpandedPaths||m(this._data,e,"columns",n._lastLoadOptions),e.rowExpandedPaths=e.rowExpandedPaths||m(this._data,e,"rows",n._lastLoadOptions),i&&(e.pageSize=this._pageSize),s&&(e.headerName=s),n.beginLoading(),t.always((function(){n.endLoading()}));var d=[e];if(n._eventsStrategy.fireEvent("customizeStoreLoadOptions",[d,r]),r||n._processPagingCache(d),d=d.filter(e=>!(e.rows.length&&0===e.rowTake)&&!(e.columns.length&&0===e.columnTake)),!d.length)return void n._update(t);var c=d.map(e=>a.load(e));u["c"].apply(null,c).done((function(){for(var e=arguments,a=0;a<e.length;a++){var o=d[a],s=e[a],u=a===e.length-1;o.path?n.applyPartialDataSource(o.area,o.path,s,!!u&&t,o.oppositePath):i&&!r&&De(n._data)?n.mergePartialDataSource(s,!!u&&t):(Object(l["a"])(n._data,s),n._lastLoadOptions=o,n._update(!!u&&t))}})).fail(t.reject)}else n._update(t)},_sort:function(e,t,n){var a=this._store;a&&!this._paginate&&$(e,t,n)},paginate:function(){return this._paginate&&this._store&&this._store.supportPaging()},isEmpty:function(){var e=this.getAreaFields("data"),t=this.getData();return!e.length||!t.values.length},_update:function(e){var t=this,n=t._descriptions,a=t._data,o=n.values,r=Ie(o);return Object(u["c"])(F(n,a),P(a.rows),P(a.columns)).done((function(){r&&(t._sort(n,a,r),!t.isEmpty()&&Ce(n,a)),t._sort(n,a),!t.isEmpty()&&Ae(o)&&we(n,a),t._data=a,!1!==e&&Object(u["c"])(e).done((function(){t._isFieldsModified=!1,t._eventsStrategy.fireEvent("changed"),Object(i["d"])(t._data.grandTotalRowIndex)&&(a.grandTotalRowIndex=t._data.grandTotalRowIndex),Object(i["d"])(t._data.grandTotalColumnIndex)&&(a.grandTotalColumnIndex=t._data.grandTotalColumnIndex)})),e&&e.resolve(t._data)})),e},store:function(){return this._store},collapseHeaderItem:function(t,n){var a="column"===t?this._data.columns:this._data.rows,o=e(a,n),r=this.getAreaFields(t)[n.length-1];return!(!o||!o.children)&&(this._eventsStrategy.fireEvent("expandValueChanging",[{area:t,path:n,expanded:!1}]),r&&(r.expanded=!1),o.collapsedChildren=o.children,delete o.children,this._update(),this.paginate()&&this.load(),!0)},collapseAll:function(e){var t=!1,n=this.field(e)||{},a=[Object(s["c"])(n,this.getAreaFields(n.area))];n.expanded=!1,n&&n.levels&&(a=[],n.levels.forEach(e=>{a.push(Object(s["c"])(e,this.getAreaFields(n.area))),e.expanded=!1})),Object(x["f"])(this._data[n.area+"s"],(function(e){var n=e[0],o=Object(x["b"])(e);n&&n.children&&-1!==a.indexOf(o.length-1)&&(n.collapsedChildren=n.children,delete n.children,t=!0)}),!0),t&&this._update()},expandAll:function(e){var t=this.field(e);t&&t.area&&(t.expanded=!0,t&&t.levels&&t.levels.forEach(e=>{e.expanded=!0}),this.load())},expandHeaderItem:function(t,n){var a="column"===t?this._data.columns:this._data.rows,o=e(a,n);if(o&&!o.children){var r=!!o.collapsedChildren,i={area:t,path:n,expanded:!0,needExpandData:!r};return this._eventsStrategy.fireEvent("expandValueChanging",[i]),r?(o.children=o.collapsedChildren,delete o.collapsedChildren,this._update()):this.store()&&this.load(i),r}return!1},mergePartialDataSource:function(e,t){var n,a,o=this,r=o._data;e&&e.values&&(e.rows=e.rows||[],e.columns=e.columns||[],n=p(r.rows,e.rows,r.grandTotalColumnIndex),a=p(r.columns,e.columns,r.grandTotalColumnIndex),Object(u["c"])(n,a).done((function(n,a){(n.length||a.length)&&f(r,e.values,n,a),o._update(t)})))},applyPartialDataSource:function(t,a,o,r,i){var l,s,d,c,h=this,g=h._data,m="column"===t?g.columns:g.rows,v="column"===t?g.rows:g.columns;o&&o.values&&(o.rows=o.rows||[],o.columns=o.columns||[],l=e(m,a),s=i&&e(v,i),l&&("column"===t?(c=n(m,l,o.columns,g.grandTotalColumnIndex),d=s?n(v,s,o.rows,g.grandTotalRowIndex):p(g.rows,o.rows,g.grandTotalRowIndex)):(d=n(m,l,o.rows,g.grandTotalRowIndex),c=s?n(v,s,o.columns,g.grandTotalColumnIndex):p(g.columns,o.columns,g.grandTotalColumnIndex)),Object(u["c"])(d,c).done((function(e,n){("row"===t&&e.length||"column"===t&&n.length)&&f(g,o.values,e,n),h._update(r)}))))},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this},dispose:function(){var e=this._delayedLoadTask;this._eventsStrategy.dispose(),e&&e.abort(),this._isDisposed=!0},isDisposed:function(){return!!this._isDisposed}}}())},e7ee:function(e,t,n){"use strict";n.r(t);var a=n("86a7");t["default"]=a["a"]},f8a2:function(e,t,n){"use strict";
/*!
 * devextreme-vue
 * Version: 21.1.3
 * Build date: Tue May 18 2021
 *
 * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DxTexts=t.DxPivotGridFieldChooserTexts=t.DxHeaderFilterTexts=t.DxHeaderFilter=t.DxPivotGridFieldChooser=void 0;var o=a(n("e7ee")),r=n("27da"),i=n("27da"),l=r.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSearch:Boolean,applyChangesMode:String,dataSource:Object,disabled:Boolean,elementAttr:{},focusStateEnabled:Boolean,headerFilter:Object,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,layout:{type:Number,validator:function(e){return"number"!==typeof e||-1!==[0,1,2].indexOf(e)}},onContentReady:Function,onContextMenuPreparing:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,searchTimeout:Number,state:{},tabIndex:Number,texts:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSearch":null,"update:applyChangesMode":null,"update:dataSource":null,"update:disabled":null,"update:elementAttr":null,"update:focusStateEnabled":null,"update:headerFilter":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:layout":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:rtlEnabled":null,"update:searchTimeout":null,"update:state":null,"update:tabIndex":null,"update:texts":null,"update:visible":null,"update:width":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=o.default,this.$_expectedChildren={headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},pivotGridFieldChooserTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}}}});t.DxPivotGridFieldChooser=l;var s=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:height":null,"update:searchTimeout":null,"update:showRelevantValues":null,"update:texts":null,"update:width":null},props:{allowSearch:Boolean,height:Number,searchTimeout:Number,showRelevantValues:Boolean,texts:Object,width:Number}});t.DxHeaderFilter=s,s.$_optionName="headerFilter",s.$_expectedChildren={headerFilterTexts:{isCollectionItem:!1,optionName:"texts"},texts:{isCollectionItem:!1,optionName:"texts"}};var d=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cancel":null,"update:emptyValue":null,"update:ok":null},props:{cancel:String,emptyValue:String,ok:String}});t.DxHeaderFilterTexts=d,d.$_optionName="texts";var u=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:columnFields":null,"update:dataFields":null,"update:filterFields":null,"update:rowFields":null},props:{allFields:String,columnFields:String,dataFields:String,filterFields:String,rowFields:String}});t.DxPivotGridFieldChooserTexts=u,u.$_optionName="texts";var c=i.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allFields":null,"update:cancel":null,"update:columnFields":null,"update:dataFields":null,"update:emptyValue":null,"update:filterFields":null,"update:ok":null,"update:rowFields":null},props:{allFields:String,cancel:String,columnFields:String,dataFields:String,emptyValue:String,filterFields:String,ok:String,rowFields:String}});t.DxTexts=c,c.$_optionName="texts",t.default=l}}]);