(("undefined"!==typeof self?self:this)["webpackJsonpszc"]=("undefined"!==typeof self?self:this)["webpackJsonpszc"]||[]).push([[17],{"16d6":function(e,t,n){},"8f6d":function(e,t,n){
/*!
 * DevExpress Gantt (dx-gantt)
 * Version: 2.1.31
 * Build date: Wed May 12 2021
 * 
 * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs
 */
(function(t,n){e.exports=n()})(0,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=66)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return r})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return g})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__spreadArray",(function(){return v})),n.d(t,"__await",(function(){return T})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return k})),n.d(t,"__asyncValues",(function(){return w})),n.d(t,"__makeTemplateObject",(function(){return b})),n.d(t,"__importStar",(function(){return I})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return D})),n.d(t,"__classPrivateFieldSet",(function(){return M}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function a(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}var h=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function g(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function v(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e}function T(e){return this instanceof T?(this.v=e,this):new T(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){o[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{l(o[e](t))}catch(n){d(r[0][3],n)}}function l(e){e.value instanceof T?Promise.resolve(e.value.v).then(c,u):d(r[0][2],e)}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function k(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:T(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof g?g(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){t=e[n](t),o(i,r,t.done,t.value)}))}}function o(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var C=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t};function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return C(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(32);function o(e){return void 0!==e&&null!==e}function r(e){return e?1:0}function s(e){return e?"1":"0"}function a(e){return"number"===typeof e}function l(e){return"string"===typeof e}function c(e){return!!e}function u(e){return e%2!==0}function d(e){return e%2===0}function h(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(2),t,"0")}function p(e,t){return void 0===t&&(t=0),i.StringUtils.padLeft(e.toString(16),t,"0")}t.isDefined=o,t.boolToInt=r,t.boolToString=s,t.isNumber=a,t.isString=l,t.isNonNullString=c,t.isEven=u,t.isOdd=d,t.numberToStringBin=h,t.numberToStringHex=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),r=n(43),s=n(32),a=function(){function e(){}return e.clearInnerHtml=function(e){while(e.firstChild)e.removeChild(e.firstChild)},e.setStylePosition=function(e,t){e.left=r.MathUtils.round(t.x,3)+"px",e.top=r.MathUtils.round(t.y,3)+"px"},e.setStyleSize=function(e,t){e.width=r.MathUtils.round(t.width,3)+"px",e.height=r.MathUtils.round(t.height,3)+"px"},e.setStyleSizeAndPosition=function(t,n){e.setStylePosition(t,n),e.setStyleSize(t,n)},e.hideNode=function(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}},e.isHTMLElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},e.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},e.isHTMLTableRowElement=function(e){return"TR"===e.tagName},e.isItParent=function(e,t){if(!e||!t)return!1;while(t){if(t===e)return!0;if("BODY"===t.tagName)return!1;t=t.parentNode}return!1},e.getParentByTagName=function(e,t){t=t.toUpperCase();while(e){if("BODY"===e.tagName)return null;if(e.tagName===t)return e;e=e.parentNode}return null},e.getDocumentScrollTop=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollTop>0;return i.Browser.WebKitFamily||i.Browser.Edge||t?i.Browser.MacOSMobilePlatform?window.pageYOffset:i.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},e.getDocumentScrollLeft=function(){var t=i.Browser.IE&&"hidden"===e.getCurrentStyle(document.body).overflow&&document.body.scrollLeft>0;return i.Browser.Edge||t?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:i.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},e.getCurrentStyle=function(e){if(e.currentStyle)return e.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var t=document.defaultView.getComputedStyle(e,null);if(!t&&i.Browser.Firefox&&window.frameElement){var n=[],o=window.frameElement;while(!(t=document.defaultView.getComputedStyle(e,null)))n.push([o,o.style.display]),o.style.setProperty("display","block","important"),o="BODY"===o.tagName?o.ownerDocument.defaultView.frameElement:o.parentNode;t=l(t);for(var r=void 0,s=0;r=n[s];s++)r[0].style.display=r[1];document.body.offsetWidth}return t}return window.getComputedStyle(e,null)},e.setFocus=function(e){function t(){try{e.focus(),i.Browser.IE&&document.activeElement!==e&&e.focus()}catch(t){}}i.Browser.MacOSMobilePlatform?t():setTimeout((function(){t()}),100)},e.hasClassName=function(e,t){try{var n=t.split(" "),i=e.classList;if(i){for(var o=n.length-1;o>=0;o--)if(!i.contains(n[o]))return!1}else{var r=e.getAttribute&&e.getAttribute("class");if(!r)return!1;var s=r.split(" ");for(o=n.length-1;o>=0;o--)if(s.indexOf(n[o])<0)return!1}return!0}catch(a){return!1}},e.addClassName=function(t,n){if(!e.hasClassName(t,n)){var i=t.getAttribute&&t.getAttribute("class");t.setAttribute("class",""===i?n:i+" "+n)}},e.removeClassName=function(e,t){var n=e.getAttribute&&e.getAttribute("class"),i=" "+n+" ",o=i.replace(" "+t+" "," ");i.length!==o.length&&e.setAttribute("class",s.StringUtils.trim(o))},e.toggleClassName=function(t,n,i){void 0===i?e.hasClassName(t,n)?e.removeClassName(t,n):e.addClassName(t,n):i?e.addClassName(t,n):e.removeClassName(t,n)},e.pxToInt=function(e){return c(e,parseInt)},e.pxToFloat=function(e){return c(e,parseFloat)},e.getAbsolutePositionY=function(t){function n(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().top+e.getDocumentScrollTop()}function o(t){return Math.round(t.getBoundingClientRect().top+e.getDocumentScrollTop())}function r(t){var n=!0;t&&e.isHTMLTableRowElement(t)&&t.cells.length>0&&(t=t.cells[0]);var i=u(t,!1);while(null!=t)i+=t.offsetTop,n||(i-=t.scrollTop),t=t.offsetParent,n=!1;return i+=document.body.scrollTop,i}function s(t){var n=u(t,!1),o=!0;while(null!=t){if(n+=t.offsetTop,o||null==t.offsetParent||(n-=t.scrollTop),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderTopWidth))}o=!1,t=t.offsetParent}return n}function a(e){var t=0,n=!0;while(null!=e)t+=e.offsetTop,n||null==e.offsetParent||(t-=e.scrollTop),n=!1,e=e.offsetParent;return t}return t?i.Browser.IE?n(t):i.Browser.Firefox&&i.Browser.Version>=3?o(t):i.Browser.Opera?r(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?s(t):i.Browser.WebKitFamily||i.Browser.Edge?o(t):a(t):0},e.getAbsolutePositionX=function(t){function n(t){return i.Browser.IE&&null===t.parentNode?0:t.getBoundingClientRect().left+e.getDocumentScrollLeft()}function o(t){return Math.round(t.getBoundingClientRect().left+e.getDocumentScrollLeft())}function r(e){var t=!0,n=u(e,!0);while(null!=e)n+=e.offsetLeft,t||(n-=e.scrollLeft),e=e.offsetParent,t=!1;return n+=document.body.scrollLeft,n}function s(t){var n=u(t,!0),o=!0;while(null!=t){if(n+=t.offsetLeft,o||null==t.offsetParent||(n-=t.scrollLeft),!o&&i.Browser.Firefox){var r=e.getCurrentStyle(t);"DIV"===t.tagName&&"visible"!==r.overflow&&(n+=e.pxToInt(r.borderLeftWidth))}o=!1,t=t.offsetParent}return n}function a(e){var t=0,n=!0;while(null!=e)t+=e.offsetLeft,n||null==e.offsetParent||(t-=e.scrollLeft),n=!1,e=e.offsetParent;return t}return t?i.Browser.IE?n(t):i.Browser.Firefox&&i.Browser.Version>=3?o(t):i.Browser.Opera?r(t):i.Browser.NetscapeFamily&&(!i.Browser.Firefox||i.Browser.Version<3)?s(t):i.Browser.WebKitFamily||i.Browser.Edge?o(t):a(t):0},e.isInteractiveControl=function(e){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(e.tagName)>-1},e.getClearClientHeight=function(t){return t.offsetHeight-(e.getTopBottomPaddings(t)+e.getVerticalBordersWidth(t))},e.getTopBottomPaddings=function(t,n){var i=n||e.getCurrentStyle(t);return e.pxToInt(i.paddingTop)+e.pxToInt(i.paddingBottom)},e.getVerticalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&9!==i.Browser.MajorVersion&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderTopStyle&&(r+=e.pxToFloat(n.borderTopWidth)),"none"!==n.borderBottomStyle&&(r+=e.pxToFloat(n.borderBottomWidth)),r},e.getNodes=function(e,t){for(var n=e.all||e.getElementsByTagName("*"),i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getChildNodes=function(e,t){for(var n=e.childNodes,i=[],o=0;o<n.length;o++){var r=n[o];t(r)&&i.push(r)}return i},e.getNodesByClassName=function(t,n){if(t.querySelectorAll){var i=t.querySelectorAll("."+n),o=[];return i.forEach((function(e){return o.push(e)})),o}return e.getNodes(t,(function(t){return e.hasClassName(t,n)}))},e.getChildNodesByClassName=function(t,n){function i(e,t){var n=[];return e.forEach((function(e){t(e)&&n.push(e)})),n}if(t.querySelectorAll){var r=t.querySelectorAll("."+n);return i(r,(function(e){return e.parentNode===t}))}return e.getChildNodes(t,(function(t){return!!e.isElementNode(t)&&(o.isNonNullString(t.className)&&e.hasClassName(t,t.className))}))},e.getVerticalScrollBarWidth=function(){if(void 0===e.verticalScrollBarWidth){var t=document.createElement("DIV");t.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(t);var n=document.createElement("P");t.appendChild(n),n.style.cssText="width: 100%; height: 200px;";var i=n.offsetWidth;t.style.overflow="scroll";var o=n.offsetWidth;i===o&&(o=t.clientWidth),e.verticalScrollBarWidth=i-o,document.body.removeChild(t)}return e.verticalScrollBarWidth},e.getHorizontalBordersWidth=function(t,n){o.isDefined(n)||(n=i.Browser.IE&&window.getComputedStyle?window.getComputedStyle(t):e.getCurrentStyle(t));var r=0;return"none"!==n.borderLeftStyle&&(r+=e.pxToFloat(n.borderLeftWidth)),"none"!==n.borderRightStyle&&(r+=e.pxToFloat(n.borderRightWidth)),r},e.getFontFamiliesFromCssString=function(e){return e.split(",").map((function(e){return s.StringUtils.trim(e.replace(/'|"/gi,""))}))},e.getInnerText=function(t){if(i.Browser.Safari&&i.Browser.MajorVersion<=5){null===e.html2PlainTextFilter&&(e.html2PlainTextFilter=document.createElement("DIV"),e.html2PlainTextFilter.style.width="0",e.html2PlainTextFilter.style.height="0",e.html2PlainTextFilter.style.overflow="visible",e.html2PlainTextFilter.style.display="none",document.body.appendChild(e.html2PlainTextFilter));var n=e.html2PlainTextFilter;n.innerHTML=t.innerHTML,n.style.display="";var o=n.innerText;return n.style.display="none",o}return i.Browser.NetscapeFamily||i.Browser.WebKitFamily||i.Browser.IE&&i.Browser.Version>=9||i.Browser.Edge?t.textContent:t.innerText},e.html2PlainTextFilter=null,e.verticalScrollBarWidth=void 0,e}();function l(e){if("object"!==typeof e||!o.isDefined(e))return e;var t={};for(var n in e)t[n]=e[n];return t}function c(e,t){var n=0;if(o.isDefined(e)&&""!==e)try{var i=e.indexOf("px");i>-1&&(n=t(e.substr(0,i)))}catch(r){}return n}function u(e,t){var n=0,i=!0;while(null!=e){if("BODY"===e.tagName)break;var o=a.getCurrentStyle(e);if("absolute"===o.position)break;i||"DIV"!==e.tagName||""!==o.position&&"static"!==o.position||(n-=t?e.scrollLeft:e.scrollTop),e=e.parentNode,i=!1}return n}t.DomUtils=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.x=e,this.y=t}return e.zero=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.prototype.isZero=function(){return 0===this.x&&0===this.y},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.prototype.offset=function(e,t){return this.x+=e,this.y+=t,this},e.prototype.offsetByPoint=function(e){return this.x+=e.x,this.y+=e.y,this},e.prototype.multiply=function(e,t){return this.x*=e,this.y*=t,this},e.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},e.prototype.applyConverter=function(e){return this.x=e(this.x),this.y=e(this.y),this},e.plus=function(t,n){return new e(t.x+n.x,t.y+n.y)},e.minus=function(t,n){return new e(t.x-n.x,t.y-n.y)},e.xComparer=function(e,t){return e.x-t.x},e.yComparer=function(e,t){return e.y-t.y},e.equals=function(e,t){return e.x===t.x&&e.y===t.y},e}();t.Point=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeUtils=void 0;var i=n(46),o=n(47),r=n(1),s=n(10),a=n(48),l=function(){function e(){}return e.compareDates=function(e,t){return e&&t?t.getTime()-e.getTime():-1},e.areDatesEqual=function(e,t){return 0==this.compareDates(e,t)},e.getMaxDate=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.compareDates(e,t);return n>0?t:e},e.getMinDate=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.compareDates(e,t);return n>0?e:t},e.getDaysBetween=function(e,t){var n=Math.abs(t.getTime()-e.getTime());return Math.ceil(n/this.msInDay)},e.getWeeksBetween=function(e,t){var n=this.getDaysBetween(e,t),i=Math.floor(n/7);return e.getDay()>t.getDay()&&i++,i},e.getMonthsDifference=function(e,t){var n=this.compareDates(e,t),i=n>=0?e:t,o=n>=0?t:e,r=o.getFullYear()-i.getFullYear(),s=12*r+(o.getMonth()-i.getMonth());return s},e.getYearsDifference=function(e,t){return Math.abs(t.getFullYear()-e.getFullYear())},e.getDayNumber=function(e){return Math.ceil(e.getTime()/this.msInDay)},e.getDateByDayNumber=function(e){var t=new Date(e*this.msInDay);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t},e.addDays=function(e,t){return new Date(e.getTime()+t*this.msInDay)},e.checkDayOfMonth=function(e,t){return e==t.getDate()},e.checkDayOfWeek=function(e,t){return e==t.getDay()},e.checkMonth=function(e,t){return e==t.getMonth()},e.checkYear=function(e,t){return e==t.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(e,t,n){var i=this.getSpecificDayOfWeekInMonthDates(t,e.getFullYear(),e.getMonth());return n==a.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(e,i[i.length-1]):this.areDatesEqual(e,i[n])},e.getFirstDayOfWeekInMonth=function(e,t){var n=new Date(e,t,1);return n.getDay()},e.getSpecificDayOfWeekInMonthDates=function(e,t,n){var i=this.getFirstDayOfWeekInMonth(t,n),o=e>=i?e-i:e+7-i,r=new Array,s=new Date(t,n,o+1);while(s.getMonth()==n)r.push(s),s=this.addDays(s,7);return r},e.getSpecificDayOfWeekInMonthDate=function(e,t,n,i){var o=this.getSpecificDayOfWeekInMonthDates(e,t,n);return i==a.DayOfWeekMonthlyOccurrence.Last?o[o.length-1]:o[i]},e.checkValidDayInMonth=function(e,t,n){return!(n<1||n>31||new Date(e,t,n).getMonth()!=t)},e.getNextMonth=function(e,t){return void 0===t&&(t=1),(e+t)%12},e.convertToDate=function(e){if(e instanceof Date)return new Date(e);var t=Date.parse(e);return isNaN(t)?null:new Date(t)},e.convertTimeRangeToDateRange=function(e,t){var n=this.getDateByDayNumber(t),i=n.getFullYear(),o=n.getMonth(),r=n.getDate(),a=e.start,l=new Date(i,o,r,a.hour,a.min,a.sec,a.msec),c=e.end,u=new Date(i,o,r,c.hour,c.min,c.sec,c.msec);return new s.DateRange(l,u)},e.convertToTimeRanges=function(e){var t=this;return e instanceof Array?e.map((function(e){return t.convertToTimeRange(e)})):this.parseTimeRanges(e)},e.convertToTimeRange=function(e){return e?e instanceof o.TimeRange?e:r.isDefined(e.start)&&r.isDefined(e.end)?new o.TimeRange(this.convertToTime(e.start),this.convertToTime(e.end)):this.parseTimeRange(e):null},e.convertToTime=function(e){return e?e instanceof i.Time?e:e instanceof Date?this.getTimeGromJsDate(e):this.parseTime(e):null},e.parseTimeRanges=function(e){var t=this;if(!e)return null;var n=e.split(/;|,/);return n.map((function(e){return t.parseTimeRange(e)})).filter((function(e){return!!e}))},e.parseTimeRange=function(e){if(!e)return null;var t=e.split("-"),n=t[0],i=t[1];return r.isDefined(n)&&r.isDefined(i)?new o.TimeRange(this.parseTime(n),this.parseTime(i)):null},e.parseTime=function(e){if(!e)return null;var t=e.split(":"),n=parseInt(t[0])||0,o=parseInt(t[1])||0,r=parseInt(t[2])||0,s=parseInt(t[3])||0;return new i.Time(n,o,r,s)},e.getTimeGromJsDate=function(e){if(!e)return null;var t=e.getHours(),n=e.getMinutes(),o=e.getSeconds(),r=e.getMilliseconds();return new i.Time(t,n,o,r)},e.caclTimeDifference=function(e,t){return t.getTimeInMilleconds()-e.getTimeInMilleconds()},e.areTimesEqual=function(e,t){return 0==this.caclTimeDifference(e,t)},e.getMaxTime=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.caclTimeDifference(e,t);return n>0?t:e},e.getMinTime=function(e,t){if(!e&&!t)return null;if(!e)return t;if(!t)return e;var n=this.caclTimeDifference(e,t);return n>0?e:t},e.getLastTimeOfDay=function(){return new i.Time(23,59,59,999)},e.msInDay=864e5,e}();t.DateTimeUtils=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.IdentUserAgent=function(t,n){void 0===n&&(n=!1);var i=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],o="IE",r="Win",s={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(t&&0!==t.length){t=t.toLowerCase(),e.indentPlatformMajorVersion(t);try{for(var a={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},l="(?:/|\\s*)?",c="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?",u="(?:"+c+")?",d={Safari:"applewebkit(?:.*?(?:version/"+c+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+l+u,Mozilla:"mozilla(?:.*rv:"+u+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+u,Firefox:"firefox"+l+u,Opera:"(?:opera|\\sopr)"+l+u,Opera10:"opera.*\\s*version"+l+u,IE:"msie\\s*"+u,Edge:"edge"+l+u},h=null,p=-1,g=0;g<i.length;g++){var f=i[g],m=new RegExp(d[f],"i"),y=m.exec(t);if(y&&y.index>=0){if("IE"===h&&p>=11&&"Safari"===f)continue;h=f,"Opera10"===h&&(h="Opera");var v="trident"+l+u;p=e.GetBrowserVersion(t,y,v,e.getIECompatibleVersionString()),"Mozilla"===h&&p>=11&&(h="IE")}}h||(h=o);var T=-1!==p;T||(p=s[h]);var _=null,k=Number.MAX_VALUE;for(var w in a)if(Object.prototype.hasOwnProperty.call(a,w)){var b="!"===w.substr(0,1),C=t.indexOf((b?w.substr(1):w).toLowerCase());C>=0&&(C<k||b)&&(k=b?0:C,_=a[w])}var I="SM-[A-Z]",S=t.toUpperCase().match(I),D=S&&S.length>0;"WinPhone"===_&&p<9&&(p=Math.floor(e.getVersionFromTrident(t,"trident"+l+u))),!n&&"IE"===h&&p>7&&document.documentMode<p&&(p=document.documentMode),"WinPhone"===_&&(p=Math.max(9,p)),_||(_=r),_!==a["cpu os"]||T||(p=4),e.fillUserAgentInfo(i,h,p,_,D)}catch(M){e.fillUserAgentInfo(i,o,s[o],r)}}else e.fillUserAgentInfo(i,o,s[o],r)},e.GetBrowserVersion=function(t,n,i,o){var r=e.getVersionFromMatches(n);if(o){var s=e.getVersionFromTrident(t,i);if("edge"===o||parseInt(o)===s)return s}return r},e.getIECompatibleVersionString=function(){if(document.compatible)for(var e=0;e<document.compatible.length;e++)if("IE"===document.compatible[e].userAgent&&document.compatible[e].version)return document.compatible[e].version.toLowerCase();return""},e.isTouchEnabled=function(){return"ontouchstart"in window||navigator["maxTouchPoints"]>0||navigator["msMaxTouchPoints"]>0},e.fillUserAgentInfo=function(t,n,i,o,r){void 0===r&&(r=!1);for(var s=0;s<t.length;s++){var a=t[s];e[a]=a===n}e.Version=Math.floor(10*i)/10,e.MajorVersion=Math.floor(e.Version),e.WindowsPlatform="Win"===o||"WinPhone"===o,e.MacOSMobilePlatform="MacMobile"===o||"Mac"===o&&e.isTouchEnabled(),e.MacOSPlatform="Mac"===o&&!e.MacOSMobilePlatform,e.AndroidMobilePlatform="Android"===o,e.WindowsPhonePlatform="WinPhone"===o,e.WebKitFamily=e.Safari||e.Chrome||e.Opera&&e.MajorVersion>=15,e.NetscapeFamily=e.Netscape||e.Mozilla||e.Firefox,e.HardwareAcceleration=e.IE&&e.MajorVersion>=9||e.Firefox&&e.MajorVersion>=4||e.AndroidMobilePlatform&&e.Chrome||e.Chrome&&e.MajorVersion>=37||e.Safari&&!e.WindowsPlatform||e.Edge||e.Opera&&e.MajorVersion>=46,e.WebKitTouchUI=e.MacOSMobilePlatform||e.AndroidMobilePlatform;var l=e.IE&&e.MajorVersion>9&&e.WindowsPlatform&&e.UserAgent.toLowerCase().indexOf("touch")>=0;if(e.MSTouchUI=l||e.Edge&&!!window.navigator.maxTouchPoints,e.TouchUI=e.WebKitTouchUI||e.MSTouchUI,e.MobileUI=e.WebKitTouchUI||e.WindowsPhonePlatform,e.AndroidDefaultBrowser=e.AndroidMobilePlatform&&!e.Chrome,e.AndroidChromeBrowser=e.AndroidMobilePlatform&&e.Chrome,r&&(e.SamsungAndroidDevice=r),e.MSTouchUI){var c=e.UserAgent.toLowerCase().indexOf("arm;")>-1;e.VirtualKeyboardSupported=c||e.WindowsPhonePlatform}else e.VirtualKeyboardSupported=e.WebKitTouchUI;e.fillDocumentElementBrowserTypeClassNames(t)},e.indentPlatformMajorVersion=function(t){var n=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/,i=n.exec(t);i&&(e.PlaformMajorVersion=i[1])},e.getVersionFromMatches=function(e){var t=-1,n="";return e&&(e[1]&&(n+=e[1],e[2]&&(n+="."+e[2])),""!==n&&(t=parseFloat(n),isNaN(t)&&(t=-1))),t},e.getVersionFromTrident=function(t,n){var i=4,o=new RegExp(n,"i").exec(t);return e.getVersionFromMatches(o)+i},e.fillDocumentElementBrowserTypeClassNames=function(t){for(var n="",i=t.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),o=0;o<i.length;o++){var r=i[o];e[r]&&(n+="dx"+r+" ")}n+="dxBrowserVersion-"+e.MajorVersion,"undefined"!==typeof document&&document&&document.documentElement&&(""!==document.documentElement.className&&(n=" "+n),document.documentElement.className+=n,e.Info=n)},e.getUserAgent=function(){return"undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():""},e.UserAgent=e.getUserAgent(),e._foo=e.IdentUserAgent(e.UserAgent),e}();t.Browser=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),r=n(2),s=n(18),a=function(){function e(){}return e.preventEvent=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},e.getEventSource=function(e){return o.isDefined(e)?e.srcElement?e.srcElement:e.target:null},e.getEventSourceByPosition=function(t){return o.isDefined(t)?document.elementFromPoint&&void 0!==e.getEventX(t)&&void 0!==e.getEventY(t)?document.elementFromPoint(e.getEventX(t),e.getEventY(t)):t.srcElement?t.srcElement:t.target:null},e.getMouseWheelEventName=function(){return i.Browser.Safari?"mousewheel":i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},e.isLeftButtonPressed=function(e){return!!s.TouchUtils.isTouchEvent(e)||(e=i.Browser.IE&&o.isDefined(event)?event:e,!!e&&(i.Browser.IE&&i.Browser.Version<11?!!i.Browser.MSTouchUI||e.button%2===1:i.Browser.WebKitFamily?"pointermove"===e.type?1===e.buttons:1===e.which:i.Browser.NetscapeFamily||i.Browser.Edge||i.Browser.IE&&i.Browser.Version>=11?e.type===s.TouchUtils.touchMouseMoveEventName?1===e.buttons:1===e.which:!i.Browser.Opera||0===e.button))},e.preventEventAndBubble=function(t){e.preventEvent(t),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},e.clientEventRequiresDocScrollCorrection=function(){var e=i.Browser.Safari&&i.Browser.Version<3,t=i.Browser.MacOSMobilePlatform&&i.Browser.Version<5.1;return i.Browser.AndroidDefaultBrowser||i.Browser.AndroidChromeBrowser||!(e||t)},e.getEventX=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventX(t):t.clientX+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollLeft():0)},e.getEventY=function(t){return s.TouchUtils.isTouchEvent(t)?s.TouchUtils.getEventY(t):t.clientY+(e.clientEventRequiresDocScrollCorrection()?r.DomUtils.getDocumentScrollTop():0)},e.cancelBubble=function(e){e.cancelBubble=!0},e.getWheelDelta=function(e){var t;return t=i.Browser.NetscapeFamily&&i.Browser.MajorVersion<17?-e.detail:i.Browser.Safari?e.wheelDelta:-e.deltaY,i.Browser.Opera&&i.Browser.Version<9&&(t=-t),t},e}();t.EvtUtils=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleCommandState=t.CommandBase=void 0;var i=function(){function e(e){this.control=e}return Object.defineProperty(e.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.state.enabled)return!1;var n=this.executeInternal.apply(this,e);return n&&this.control.barManager.updateItemsState([]),n},e.prototype.isEnabled=function(){return this.control.settings.editing.enabled},e.prototype.executeInternal=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];throw new Error("Not implemented")},e}();t.CommandBase=i;var o=function(){function e(e,t){this.visible=!0,this.enabled=e,this.value=t}return e}();t.SimpleCommandState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaManager=t.MouseEventSource=void 0;var i=n(5),o=n(3),r=n(2),s=n(6),a=n(18),l=n(14);(function(e){e[e["TaskArea"]=0]="TaskArea",e[e["TaskEdit_Frame"]=1]="TaskEdit_Frame",e[e["TaskEdit_Progress"]=2]="TaskEdit_Progress",e[e["TaskEdit_Start"]=3]="TaskEdit_Start",e[e["TaskEdit_End"]=4]="TaskEdit_End",e[e["TaskEdit_DependencyStart"]=5]="TaskEdit_DependencyStart",e[e["TaskEdit_DependencyFinish"]=6]="TaskEdit_DependencyFinish",e[e["Successor_Wrapper"]=7]="Successor_Wrapper",e[e["Successor_DependencyStart"]=8]="Successor_DependencyStart",e[e["Successor_DependencyFinish"]=9]="Successor_DependencyFinish"})(t.MouseEventSource||(t.MouseEventSource={}));var c=function(){function e(e){this.time=new Date,this.touchTime=new Date,this.ganttView=e,this.eventManager=e.eventManager,this.position=new o.Point(-1,-1),i.Browser.WebKitTouchUI||this.initMouseEvents(),i.Browser.isTouchEnabled()&&this.initTouchEvents()}return e.prototype.initMouseEventHandlers=function(){var e=this;this.onMouseClickHandler=function(t){e.onTaskAreaClick(t)},this.onMouseDblClickHandler=function(t){e.onTaskAreaDblClick(t)},this.onScrollHandler=this.ganttView.updateView.bind(this.ganttView),this.onContextMenuHandler=function(t){e.onContextMenu(t)},this.onMouseWheelHandler=function(t){e.onMouseWheel(t)},this.onMouseDownHandler=function(t){e.onMouseDown(t)},this.onMouseMoveHandler=function(t){e.onDocumentMouseMove(t)},this.onMouseUpHandler=function(t){e.onDocumentMouseUp(t)},this.onKeyDownHandler=function(t){e.onDocumentKeyDown(t)}},e.prototype.initTouchEventHandlers=function(){var e=this;this.onTouchStartHandler=function(t){e.onTouchStart(t)},this.onTouchEndHandler=function(t){e.onTouchEnd(t)},this.onTouchMoveHandler=function(t){e.onTouchMove(t)},this.onPointerDownHandler=function(t){e.onMouseDown(t)},this.onPointerUpHandler=function(t){e.onDocumentMouseUp(t)},this.onPointerMoveHandler=function(t){e.onDocumentMouseMove(t)}},e.prototype.initMouseEvents=function(){this.initMouseEventHandlers(),this.ganttView.taskArea.addEventListener("click",this.onMouseClickHandler),this.ganttView.taskArea.addEventListener("dblclick",this.onMouseDblClickHandler),this.ganttView.taskArea.addEventListener("scroll",this.onScrollHandler),this.ganttView.taskArea.addEventListener("contextmenu",this.onContextMenuHandler),this.ganttView.taskArea.addEventListener(s.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.ganttView.taskArea.addEventListener("mousedown",this.onMouseDownHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler),document.addEventListener("keydown",this.onKeyDownHandler)},e.prototype.detachMouseEvents=function(){this.initTouchEventHandlers(),this.ganttView.taskArea.removeEventListener("click",this.onMouseClickHandler),this.ganttView.taskArea.removeEventListener("dblclick",this.onMouseDblClickHandler),this.ganttView.taskArea.removeEventListener("scroll",this.onScrollHandler),this.ganttView.taskArea.removeEventListener("contextmenu",this.onContextMenuHandler),this.ganttView.taskArea.removeEventListener(s.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.ganttView.taskArea.removeEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},e.prototype.initTouchEvents=function(){i.Browser.WebKitTouchUI||i.Browser.WindowsPlatform&&!i.Browser.Edge&&!i.Browser.IE?(this.ganttView.taskArea.addEventListener("touchstart",this.onTouchStartHandler),this.ganttView.taskArea.addEventListener("touchend",this.onTouchEndHandler),this.ganttView.taskArea.addEventListener("touchmove",this.onTouchMoveHandler)):i.Browser.MSTouchUI&&(this.ganttView.taskArea.classList.add(e.MS_POINTER_ACTIVE_CLASS),this.ganttView.taskArea.addEventListener("pointerdown",this.onPointerDownHandler),this.ganttView.taskArea.addEventListener("pointerup",this.onPointerUpHandler),this.ganttView.taskArea.addEventListener("pointermove",this.onPointerMoveHandler))},e.prototype.detachTouchEvents=function(){this.ganttView.taskArea.removeEventListener("touchstart",this.onTouchStartHandler),this.ganttView.taskArea.removeEventListener("touchend",this.onTouchEndHandler),this.ganttView.taskArea.removeEventListener("touchmove",this.onTouchMoveHandler),this.ganttView.taskArea.removeEventListener("pointerdown",this.onPointerDownHandler),this.ganttView.taskArea.removeEventListener("pointerup",this.onPointerUpHandler),this.ganttView.taskArea.removeEventListener("pointermove",this.onPointerMoveHandler)},e.prototype.attachEventsOnTask=function(e){var t=this;this.onTaskMouseEnterHandler=function(e){i.Browser.MSTouchUI?setTimeout((function(){return t.onTaskElementHover(e)}),0):t.onTaskElementHover(e)},this.onTaskMouseLeaveHandler=function(){t.onTaskElementUnhover()},null===e||void 0===e||e.addEventListener("mouseenter",this.onTaskMouseEnterHandler),null===e||void 0===e||e.addEventListener("mouseleave",this.onTaskMouseLeaveHandler)},e.prototype.detachEventsOnTask=function(e){null===e||void 0===e||e.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),null===e||void 0===e||e.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler)},e.prototype.detachEvents=function(){this.detachMouseEvents(),this.detachTouchEvents()},e.prototype.onMouseDown=function(e){this.eventManager.onMouseDown(e),this.preventSelect=!1,this.position=new o.Point(e.clientX,e.clientY)},e.prototype.onDocumentMouseUp=function(e){this.eventManager.onMouseUp(e)},e.prototype.onChangeTaskSelection=function(e){var t=this,n=this.getClickedTaskIndex(e);this.ganttView.isFocus=r.DomUtils.isItParent(this.ganttView.taskArea,s.EvtUtils.getEventSource(e)),this.ganttView.isFocus&&!this.preventSelect&&this.ganttView.settings.allowSelectTask&&!this.isConnectorLine(e)&&setTimeout((function(){t.changeTaskSelection(n)}),0)},e.prototype.onMouseWheel=function(e){this.eventManager.onMouseWheel(e)},e.prototype.onDocumentKeyDown=function(e){this.eventManager.onKeyDown(e)},e.prototype.onDocumentMouseMove=function(e){this.position.x===e.clientX&&this.position.y===e.clientY||(this.eventManager.onMouseMove(e),this.preventSelect=!0)},e.prototype.onTouchStart=function(t){this.position=new o.Point(a.TouchUtils.getEventX(t),a.TouchUtils.getEventY(t));var n=this.ganttView.viewModel.items[this.getClickedTaskIndex(t)],i=new Date;1===t.touches.length&&i.getTime()-this.touchTime.getTime()<e.DBLCLICK_INTERVAL?(t.preventDefault(),n&&this.ganttView.onTaskDblClick(n.task.id,t)&&this.ganttView.commandManager.showTaskEditDialog.execute(n.task)):this.eventManager.onTouchStart(t),n&&this.ganttView.onTaskClick(n.task.id,t)&&(this.touchTime=i),this.preventSelect=!1},e.prototype.onTouchEnd=function(e){this.eventManager.onTouchEnd(e)},e.prototype.onTouchMove=function(e){this.position.x===a.TouchUtils.getEventX(e)&&this.position.y===a.TouchUtils.getEventY(e)||(this.eventManager.onTouchMove(e),this.preventSelect=!0)},e.prototype.getDependencyKeyFromSource=function(e){return this.ganttView.viewModel.convertInternalToPublicKey("dependency",e.getAttribute("dependency-id"))},e.prototype.onContextMenu=function(e){var t=s.EvtUtils.getEventSource(e),n=this.isConnectorLine(e),r=n?"dependency":"task",a=n?this.getDependencyKeyFromSource(t):this.getClickedTaskKey(this.getClickedTaskIndex(e));if(n||this.onChangeTaskSelection(e),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),i.Browser.WebKitFamily&&(e.returnValue=!1),this.ganttView.ganttOwner.onGanttViewContextMenu(e,a,r)){var l={event:e,type:r,key:a,position:new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e))};this.ganttView.ganttOwner.showPopupMenu(l)}},e.prototype.onTaskElementHover=function(e){e.preventDefault();var t=this.getClickedTaskIndex(e);this.ganttView.taskEditController.show(t),this.ganttView.taskEditController.showTaskInfo(s.EvtUtils.getEventX(e))},e.prototype.onTaskElementUnhover=function(){this.ganttView.taskEditController.cancel()},e.prototype.getClickedTaskIndex=function(e){var t=s.EvtUtils.getEventY(e),n=r.DomUtils.getAbsolutePositionY(this.ganttView.taskArea),i=t-n;return Math.floor(i/this.ganttView.tickSize.height)},e.prototype.getClickedTaskKey=function(e){var t=this.ganttView.viewModel.items[e];return t&&t.task&&t.task.id},e.prototype.changeTaskSelection=function(e){var t=this.ganttView.viewModel.items[e];t&&this.ganttView.ganttOwner.changeGanttTaskSelection(t.task.id,!0)},e.prototype.onTaskAreaClick=function(e){var t=this.getClickedTaskIndex(e);this.onChangeTaskSelection(e);var n=this.ganttView.viewModel.items[t];n&&this.ganttView.onTaskClick(n.task.id,e)},e.prototype.onTaskAreaDblClick=function(e){e.preventDefault();var t=this.getClickedTaskIndex(e),n=this.ganttView.viewModel.items[t];n&&this.ganttView.onTaskDblClick(n.task.id,e)&&this.ganttView.commandManager.showTaskEditDialog.execute(n.task)},e.prototype.isConnectorLine=function(e){var t=s.EvtUtils.getEventSource(e);return r.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||r.DomUtils.hasClassName(t,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},e.DBLCLICK_INTERVAL=300,e.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",e}();t.TaskAreaManager=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.width=e,this.height=t}return e.empty=function(){return new e(0,0)},e.fromNumber=function(t){return new e(t,t)},e.initByCommonAction=function(t){var n=function(e){return e.width},i=function(e){return e.height};return new e(t(n,i),t(i,n))},e.prototype.isEmpty=function(){return 0===this.width&&0===this.height},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},e.prototype.offset=function(e,t){return this.width=this.width+e,this.height=this.height+t,this},e.prototype.multiply=function(e,t){return this.width*=e,this.height*=t,this},e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height},e.prototype.clone=function(){return new e(this.width,this.height)},e.prototype.copyFrom=function(e){this.width=e.width,this.height=e.height},e.prototype.applyConverter=function(e){return this.width=e(this.width),this.height=e(this.height),this},e.equals=function(e,t){return e.width===t.width&&e.height===t.height},e}();t.Size=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var i=function(){function e(e,t){this.start=e,this.end=t}return e}();t.DateRange=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTitlePosition=t.Position=t.ViewType=void 0,function(e){e[e["TenMinutes"]=0]="TenMinutes",e[e["Hours"]=1]="Hours",e[e["SixHours"]=2]="SixHours",e[e["Days"]=3]="Days",e[e["Weeks"]=4]="Weeks",e[e["Months"]=5]="Months",e[e["Quarter"]=6]="Quarter",e[e["Years"]=7]="Years",e[e["FiveYears"]=8]="FiveYears"}(t.ViewType||(t.ViewType={})),function(e){e[e["Left"]=0]="Left",e[e["Top"]=1]="Top",e[e["Right"]=2]="Right",e[e["Bottom"]=3]="Bottom"}(t.Position||(t.Position={})),function(e){e[e["Inside"]=0]="Inside",e[e["Outside"]=1]="Outside",e[e["None"]=2]="None"}(t.TaskTitlePosition||(t.TaskTitlePosition={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataObject=void 0;var i=n(1),o=n(43),r=function(){function e(){this.internalId=o.MathUtils.generateGuid()}return e.prototype.assignFromObject=function(e){i.isDefined(e)&&i.isDefined(e.id)&&(this.id=e.id,this.internalId=String(e.id))},e}();t.DataObject=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dependency=t.DependencyType=void 0;var i,o=n(0),r=n(12),s=n(1);(function(e){e[e["FS"]=0]="FS",e[e["SS"]=1]="SS",e[e["FF"]=2]="FF",e[e["SF"]=3]="SF"})(i=t.DependencyType||(t.DependencyType={}));var a=function(e){function t(){var t=e.call(this)||this;return t.predecessorId="",t.successorId="",t.type=null,t}return o.__extends(t,e),t.prototype.assignFromObject=function(t){s.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.internalId=String(t.id),this.predecessorId=String(t.predecessorId),this.successorId=String(t.successorId),this.type=this.parseType(t.type))},t.prototype.parseType=function(e){if(!s.isDefined(e))return i.FS;var t=e.toString().toUpperCase();switch(t){case"SS":case"1":return i.SS;case"FF":case"2":return i.FF;case"SF":case"3":return i.SF;default:return i.FS}},t}(r.DataObject);t.Dependency=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridLayoutCalculator=void 0;var i=n(9),o=n(10),r=n(11),s=n(51),a=n(33),l=n(3),c=n(13),u=n(52),d=function(){function e(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2}return e.prototype.setSettings=function(e,t,n,o,r,s,l){void 0===l&&(l=0),this.visibleTaskAreaSize=e,this.tickSize=t,this.viewType=s,this.range=o,this.verticalTickCount=r.itemCount,this.viewModel=r,this.elementSizeValues=n,this.taskHeight=n.taskHeight,this.parentTaskHeight=n.parentTaskHeight,this.milestoneWidth=n.milestoneWidth,this.scaleHeight=n.scaleItemHeight,this.arrowSize=new i.Size(n.connectorArrowWidth,n.connectorArrowWidth),this.lineThickness=n.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=a.DateUtils.getTickTimeSpan(s),this.horizontalTickCount=this.getTotalTickCount(),this.scrollBarHeight=l,this.createTileToNonWorkingIntervalsMap()},e.prototype.getTaskAreaBorderInfo=function(e,t){var n=t?this.getVerticalGridLineHeight():this.tickSize.width*this.horizontalTickCount;return this.getGridBorderInfo(e,t,n)},e.prototype.getScaleBorderInfo=function(e,t){var n=this.getGridBorderInfo(e,!0,this.scaleHeight);return n.position.x*=this.getScaleItemColSpan(t),n},e.prototype.getGridBorderInfo=function(e,t,n){var i=new s.GridElementInfo;return i.setPosition(this.getGridBorderPosition(e,t)),n&&i.setSize(this.getGridBorderSize(t,n)),i.className=t?"dx-gantt-vb":"dx-gantt-hb",i},e.prototype.getGridBorderPosition=function(e,t){var n=new l.Point(void 0,void 0),i=(e+1)*(t?this.tickSize.width:this.tickSize.height);return t?n.x=i:n.y=i,n},e.prototype.getGridBorderSize=function(e,t){var n=new i.Size(0,0);return e?n.height=t:n.width=t,n},e.prototype.getScaleElementInfo=function(e,t){var n=new s.GridElementInfo;return n.setPosition(this.getScaleItemPosition(e,t)),n.setSize(this.getScaleItemSize(t)),n.className=this.getScaleItemClassName(t,n,this.getRenderedNoWorkingIntervals(n.position.x)),n},e.prototype.getScaleItemClassName=function(e,t,n){var i="dx-gantt-si";return e.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(t,n)&&(i+=" dx-gantt-holiday-scaleItem"),i},e.prototype.isScaleItemInsideNoWorkingInterval=function(e,t){for(var n=e.position.x,i=e.position.x+e.size.width,o=0;o<t.length;o++){var r=t[o].position.x,s=t[o].position.x+t[o].size.width;if(n>=r&&i<=s)return!0}return!1},e.prototype.getScaleItemPosition=function(e,t){return new l.Point(e*this.tickSize.width*this.getScaleItemColSpan(t),void 0)},e.prototype.getScaleItemSize=function(e){return new i.Size(this.tickSize.width*this.getScaleItemColSpan(e),0)},e.prototype.getScaleItemColSpan=function(e){return e.valueOf()==this.viewType.valueOf()?1:this.viewType===r.ViewType.TenMinutes?6:this.viewType===r.ViewType.Hours?24:this.viewType===r.ViewType.SixHours?4:this.viewType===r.ViewType.Days?7:this.viewType===r.ViewType.Weeks?4.29:this.viewType===r.ViewType.Months?12:this.viewType===r.ViewType.Quarter?4:this.viewType===r.ViewType.Years?5:1},e.prototype.getTaskWrapperElementInfo=function(e){var t=new s.GridElementInfo;return t.className=this.getTaskWrapperClassName(e),t.setPosition(this.getTaskWrapperPoint(e)),t.setAttribute("task-index",e),t},e.prototype.getTaskWrapperClassName=function(e){var t="dx-gantt-taskWrapper",n=this.getViewItem(e);return n.task.isMilestone()&&!n.isCustom&&(t="dx-gantt-milestoneWrapper"),n.selected&&(t+=" dx-gantt-selectedTask"),t},e.prototype.getTaskWrapperPoint=function(e){var t=this.getViewItem(e),n=this.getTaskHeight(e),i=e*this.tickSize.height+(this.tickSize.height-n)/2,o=new l.Point(this.getPosByDate(t.task.start),i);return t.task.isMilestone()&&!t.isCustom&&(o.x-=n/2),o},e.prototype.getTaskElementInfo=function(e,t){void 0===t&&(t=!1);var n=new s.GridElementInfo,i=this.getTask(e),o=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(e);return i.isMilestone()||(n.size.width=this.getTaskWidth(e),t&&(n.size.height=this.getTaskHeight(e))),n.className=this.getTaskClassName(e,n.size.width),i.color&&(n.style.backgroundColor=i.color,o&&(n.style.borderLeftColor=i.color,n.style.borderRightColor=i.color,n.style.borderTopColor=i.color)),n},e.prototype.getTaskClassName=function(t,n){var i=e.taskClassName,o=this.getViewItem(t),r=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(t);return o.task.isMilestone()&&!o.isCustom?i+=" "+e.milestoneClassName:n<=this.elementSizeValues.smallTaskWidth&&(i+=" "+e.smallTaskClassName),r&&(i+=this.getAutoCalcParentTaskClassName(o.task)),i},e.prototype.getAutoCalcParentTaskClassName=function(t){var n=" "+e.parentTaskClassName;return 0==t.progress&&(n+=" dx-gantt-noPrg"),t.progress>=100&&(n+=" dx-gantt-cmpl"),n},e.prototype.getTaskPoint=function(e){var t=this.getTaskWrapperPoint(e);return this.getTask(e).isMilestone()||(t.y+=this.elementSizeValues.taskWrapperTopPadding),t},e.prototype.getTaskSize=function(e){return new i.Size(this.getTaskWidth(e),this.getTaskHeight(e))},e.prototype.getTaskWidth=function(e){var t=this.getViewItem(e);return t.isCustom&&t.size.width?t.size.width:t.task.isMilestone()&&!t.isCustom?this.getTaskHeight(e):Math.max(this.getWidthByDateRange(t.task.start,t.task.end),this.minTaskWidth)},e.prototype.getTaskHeight=function(e){var t=this.getViewItem(e);return t.task.isMilestone()&&!t.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(t.task.id)?this.parentTaskHeight:t.isCustom&&t.size.height?t.size.height:this.taskHeight},e.prototype.getTask=function(e){var t=this.getViewItem(e);return null===t||void 0===t?void 0:t.task},e.prototype.getViewItem=function(e){return this.viewModel.items[e]},e.prototype.getTaskProgressElementInfo=function(t){var n=new s.GridElementInfo;return n.className=e.taskProgressClassName,n.setSize(this.getTaskProgressSize(t)),n},e.prototype.getTaskProgressSize=function(e){return new i.Size(this.getTaskProgressWidth(e),0)},e.prototype.getTaskProgressWidth=function(e){return this.getTaskWidth(e)*this.getTask(e).progress/100},e.prototype.getTaskTextElementInfo=function(e,t){var n=new s.GridElementInfo;if(n.className=this.getTaskTextElementClassName(t),!t){var i=this.getTaskPoint(e).x;i<this.elementSizeValues.outsideTaskTextDefaultWidth&&(n.size.width=i,n.margins.left=-i)}return n},e.prototype.getTaskTextElementClassName=function(t){return e.taskTitleClassName.concat(" ",t?e.titleInClassName:e.titleOutClassName)},e.prototype.getTaskResourcesWrapperElementInfo=function(e){var t=new s.GridElementInfo,n=this.getTaskSize(e).width;return t.className="dx-gantt-taskResWrapper",t.setPosition(this.getTaskWrapperPoint(e)),t.position.x=t.position.x+n,t},e.prototype.getTaskResourceElementInfo=function(){var t=new s.GridElementInfo;return t.className=e.taskResourceClassName,t},e.prototype.getSelectionElementInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-sel")},e.prototype.getSelectionPosition=function(e){var t=new l.Point(void 0,void 0);return t.y=e*this.tickSize.height,t},e.prototype.getSelectionSize=function(){return new i.Size(this.tickSize.width*this.horizontalTickCount,this.tickSize.height)},e.prototype.getHighlightRowInfo=function(e){return this.getRowElementInfo(e,"dx-gantt-altRow")},e.prototype.getRowElementInfo=function(e,t){var n=new s.GridElementInfo;return n.className=t,n.setPosition(this.getSelectionPosition(e)),n.setSize(this.getSelectionSize()),n},e.prototype.getNoWorkingIntervalInfo=function(e){var t=new s.GridElementInfo;return t.className="dx-gantt-nwi",t.setPosition(this.getNoWorkingIntervalPosition(e.start)),t.setSize(this.getNoWorkingIntervalSize(e)),t},e.prototype.getNoWorkingIntervalPosition=function(e){var t=new l.Point(void 0,void 0);return t.x=this.getPosByDate(e),t},e.prototype.getNoWorkingIntervalSize=function(e){return new i.Size(this.getWidthByDateRange(e.start,e.end),this.getVerticalGridLineHeight())},e.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},e.prototype.getConnectorInfo=function(e,t,n,i){for(var o=new Array,r=this.getConnectorPoints(t,n,i),s=0;s<r.length-1;s++)o.push(this.getConnectorLineInfo(e,r[s],r[s+1],0==s||s==r.length-2));return o.push(this.getArrowInfo(e,r,o,t,n)),o},e.prototype.getConnectorLineInfo=function(e,t,n,i){var o=new s.GridElementInfo,r=t.x==n.x;return o.className=this.getConnectorClassName(r),o.setPosition(this.getConnectorPosition(t,n)),o.setSize(this.getConnectorSize(t,n,r,i)),o.setAttribute("dependency-id",e),o},e.prototype.getConnectorClassName=function(t){return t?e.CLASSNAMES.CONNECTOR_VERTICAL:e.CLASSNAMES.CONNECTOR_HORIZONTAL},e.prototype.getConnectorPosition=function(e,t){return new l.Point(Math.min(e.x,t.x),Math.min(e.y,t.y))},e.prototype.getConnectorSize=function(e,t,n,o){var r=new i.Size(0,0),s=o?0:1;return n?r.height=Math.abs(t.y-e.y)+s:r.width=Math.abs(t.x-e.x)+s,r},e.prototype.getArrowInfo=function(e,t,n,i,o){var r=new s.GridElementInfo,a=this.findArrowLineInfo(n,i,o),l=this.getArrowPosition(t,i,o);return r.className=this.getArrowClassName(l),r.setPosition(this.getArrowPoint(a,l)),r.setAttribute("dependency-id",e),r},e.prototype.findArrowLineInfo=function(e,t,n){var i=t<n?e.length-1:0;return e[i]},e.prototype.getArrowPosition=function(e,t,n){var i=e[t<n?e.length-2:1],o=e[t<n?e.length-1:0];return i.x==o.x?i.y>o.y?r.Position.Top:r.Position.Bottom:i.x>o.x?r.Position.Left:r.Position.Right},e.prototype.getArrowClassName=function(t){var n=e.arrowClassName;switch(t){case r.Position.Left:n=n.concat(" ",e.leftArrowClassName);break;case r.Position.Top:n=n.concat(" ",e.topArrowClassName);break;case r.Position.Right:n=n.concat(" ",e.rightArrowClassName);break;case r.Position.Bottom:n=n.concat(" ",e.bottomArrowClassName);break}return n},e.prototype.getArrowPositionByClassName=function(t){return t.indexOf(e.leftArrowClassName)>-1?r.Position.Left:t.indexOf(e.topArrowClassName)>-1?r.Position.Top:t.indexOf(e.rightArrowClassName)>-1?r.Position.Right:t.indexOf(e.bottomArrowClassName)>-1?r.Position.Bottom:void 0},e.prototype.getArrowPoint=function(e,t){return new l.Point(this.getArrowX(e,t),this.getArrowY(e,t))},e.prototype.getArrowX=function(e,t){switch(t){case r.Position.Left:return e.position.x-this.arrowSize.width/2;case r.Position.Right:return e.position.x+e.size.width-this.arrowSize.width/2;case r.Position.Top:case r.Position.Bottom:return e.position.x-(this.arrowSize.width-this.lineThickness)/2}},e.prototype.getArrowY=function(e,t){switch(t){case r.Position.Top:return e.position.y-this.arrowSize.height/2;case r.Position.Bottom:return e.position.y+e.size.height-this.arrowSize.height/2;case r.Position.Left:case r.Position.Right:return e.position.y-(this.arrowSize.height-this.lineThickness)/2}},e.prototype.getPosByDate=function(e){return this.getWidthByDateRange(this.range.start,e)},e.prototype.getWidthByDateRange=function(e,t){return this.getRangeTickCount(e,t)*this.tickSize.width},e.prototype.getRangeTickCount=function(e,t){return this.viewType==r.ViewType.Months?this.getRangeTickCountInMonthsViewType(e,t):this.viewType==r.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(e,t):(t.getTime()-e.getTime())/this.tickTimeSpan},e.prototype.getRangeTickCountInMonthsViewType=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),1),i=new Date(t.getFullYear(),t.getMonth(),1),o=a.DateUtils.getOffsetInMonths(n,i),r=t.getTime()-i.getTime(),s=e.getTime()-n.getTime();return o+(r-s)/a.DateUtils.msPerMonth},e.prototype.getRangeTickCountInQuarterViewType=function(e,t){var n=new Date(e.getFullYear(),3*Math.floor(e.getMonth()/3),1),i=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),o=a.DateUtils.getOffsetInQuarters(n,i),r=t.getTime()-i.getTime(),s=e.getTime()-n.getTime();return o+(r-s)/(3*a.DateUtils.msPerMonth)},e.prototype.getDateByPos=function(e){var t=e/this.tickSize.width,n=new Date(this.range.start);if(this.viewType==r.ViewType.Months||this.viewType==r.ViewType.Quarter){var i=Math.floor(t);n=new Date(n.setMonth(n.getMonth()+(this.viewType==r.ViewType.Months?i:3*i))),t=(e-this.getPosByDate(n))/this.tickSize.width}var o=t*this.tickTimeSpan+n.getTime(),s=new Date;return s.setTime(o),s},e.prototype.getTotalTickCount=function(){return this.getRangeTickCount(this.range.start,this.range.end)},e.prototype.getConnectorPoints=function(e,t,n){switch(n){case c.DependencyType.FS:return this.getFinishToStartConnectorPoints(e,t);case c.DependencyType.SF:return this.getStartToFinishConnectorPoints(e,t);case c.DependencyType.SS:return this.getStartToStartConnectorPoints(e,t);case c.DependencyType.FF:return this.getFinishToFinishConnectorPoints(e,t);default:return new Array}},e.prototype.getFinishToStartConnectorPoints=function(e,t){return e<t?this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(e,t,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(e,t,!1):this.getTask(e).end<=this.getTask(t).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(t,e,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(t,e,!0)},e.prototype.getFinishToFinishConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(e,t):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(t,e)},e.prototype.getStartToStartConnectorPoints=function(e,t){return e<t?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(e,t):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(t,e)},e.prototype.getStartToFinishConnectorPoints=function(e,t){return e<t?this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(e,t,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(e,t,!1):this.getTask(e).start>=this.getTask(t).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(t,e,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(t,e,!0)},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(o,e),a=this.getTask(t).isMilestone(),c=this.getTaskTopCenter(r,t),u=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new l.Point(Math.floor(a?c.x:r.x+u),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskRightCenter(i,e),s=this.getTaskRightCenter(o,t);return n.push(new l.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new l.Point(Math.floor(Math.max(r.x,s.x)+this.minLineLength),Math.floor(n[0].y))),n.push(new l.Point(Math.floor(n[1].x),Math.floor(s.y))),n.push(new l.Point(Math.floor(s.x),Math.floor(s.y))),n},e.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskRightCenter(o,e),a=this.getTaskBottomCenter(o,e),c=this.getTaskLeftCenter(r,t),u=this.getTaskTopCenter(r,t),d=n?this.getViewItem(e):this.getViewItem(t),h=d.isCustom?(this.tickSize.height-d.size.height)/2:this.minConnectorSpaceFromTask;return i.push(new l.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new l.Point(Math.floor(i[0].x+this.minLineLength),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(n?a.y+h:u.y-h))),i.push(new l.Point(Math.floor(c.x-this.minLineLength),Math.floor(i[2].y))),i.push(new l.Point(Math.floor(i[3].x),Math.floor(c.y))),i.push(new l.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(o,e),a=this.getTask(e).isMilestone(),c=this.getTaskRightCenter(r,t),u=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(a?s.x:o.x+u),Math.floor(s.y))),i.push(new l.Point(Math.floor(i[0].x),Math.floor(c.y))),i.push(new l.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskBottomCenter(o,e),a=this.getTask(e).isMilestone(),c=this.getTaskLeftCenter(r,t),u=n?this.getTaskWidth(e)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(a?s.x:o.x+u),Math.floor(s.y))),i.push(new l.Point(Math.floor(i[0].x),Math.floor(c.y))),i.push(new l.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(o,e),a=this.getTaskTopCenter(r,t),c=this.getTask(t).isMilestone(),u=n?this.getTaskWidth(t)-this.minLineLength:this.minLineLength;return i.push(new l.Point(Math.floor(s.x),Math.floor(s.y))),i.push(new l.Point(Math.floor(c?a.x:r.x+u),Math.floor(i[0].y))),i.push(new l.Point(Math.floor(i[1].x),Math.floor(a.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(e,t,n){var i=new Array,o=this.getTaskPoint(e),r=this.getTaskPoint(t),s=this.getTaskLeftCenter(o,e),a=this.getTaskBottomCenter(o,e),c=this.getTaskRightCenter(r,t),u=this.getTaskTopCenter(r,t),d=n?this.getViewItem(e):this.getViewItem(t),h=d.isCustom?(this.tickSize.height-d.size.height)/2:this.minConnectorSpaceFromTask;return i.push(new l.Point(Math.floor(s.x),s.y)),i.push(new l.Point(Math.floor(i[0].x-this.minLineLength),i[0].y)),i.push(new l.Point(Math.floor(i[1].x),Math.floor(n?a.y+h:u.y-h))),i.push(new l.Point(Math.floor(c.x+this.minLineLength),Math.floor(i[2].y))),i.push(new l.Point(Math.floor(i[3].x),Math.floor(c.y))),i.push(new l.Point(Math.floor(c.x),Math.floor(c.y))),i},e.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(e,t){var n=new Array,i=this.getTaskPoint(e),o=this.getTaskPoint(t),r=this.getTaskLeftCenter(i,e),s=this.getTaskLeftCenter(o,t);return n.push(new l.Point(Math.floor(r.x),Math.floor(r.y))),n.push(new l.Point(Math.floor(Math.min(r.x,s.x)-this.minLineLength),Math.floor(n[0].y))),n.push(new l.Point(Math.floor(n[1].x),Math.floor(s.y))),n.push(new l.Point(Math.floor(s.x),Math.floor(s.y))),n},e.prototype.getTaskSidePoints=function(e){var t=this.getTaskPoint(e);return[this.getTaskLeftCenter(t,e),this.getTaskTopCenter(t,e),this.getTaskRightCenter(t,e),this.getTaskBottomCenter(t,e)]},e.prototype.getTaskLeftCenter=function(e,t){return new l.Point(e.x-this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskRightCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)+this.getTaskEdgeCorrection(t),e.y+this.getTaskHeight(t)/2)},e.prototype.getTaskTopCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)/2,e.y-this.getTaskEdgeCorrection(t))},e.prototype.getTaskBottomCenter=function(e,t){return new l.Point(e.x+this.getTaskWidth(t)/2,e.y+this.getTaskHeight(t)+this.getTaskEdgeCorrection(t))},e.prototype.getTaskEdgeCorrection=function(e){var t=this.getViewItem(e),n=t.task.isMilestone()&&!t.isCustom;return n?this.getTaskHeight(e)*(Math.sqrt(2)-1)/2:0},e.prototype.getRenderedRowColumnIndices=function(e,t){for(var n=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,i=t?this.tickSize.height:this.tickSize.width,o=t?this.verticalTickCount:this.horizontalTickCount,r=this.getFirstVisibleGridCellIndex(e,i),s=this.getLastVisibleGridCellIndex(e,i,n,o),a=new Array,l=r;l<=s;l++)a.push(l);return a},e.prototype.getRenderedScaleItemIndices=function(e,t){for(var n=this.getScaleItemColSpan(e),i=Math.floor(t[0]/n),o=Math.floor(t[t.length-1]/n),r=new Array,s=i;s<=o;s++)r.push(s);return r},e.prototype.getFirstVisibleGridCellIndex=function(e,t){var n=Math.floor(e/t);return n=Math.max(n-10,0),n},e.prototype.getLastVisibleGridCellIndex=function(e,t,n,i){var o=Math.floor((e+n)/t);return o=Math.min(o+10,i-1),o},e.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var e=0;e<this.viewModel.items.length;e++)for(var t=0;t<this.viewModel.items[e].dependencies.length;t++)this.createConnecotInfo(this.viewModel.items[e].dependencies[t],this.viewModel.items[e].visibleIndex)},e.prototype.updateTileToConnectorLinesMap=function(e){this.tileToDependencyMap.forEach((function(t,n,i){i[n]=t.filter((function(t){return t.attr["dependency-id"]!=e}))}));var t=[],n=this.viewModel.items.filter((function(t){return t.dependencies.filter((function(t){return t.id==e})).length>0}))[0];if(n){var i=n.dependencies.filter((function(t){return t.id===e}))[0];t=this.createConnecotInfo(i,n.visibleIndex)}return t},e.prototype.createConnecotInfo=function(e,t){var n=this,i=e.predecessor.visibleIndex,o=e.type,r=e.id,s=this.getConnectorInfo(r,i,t,o);return s.forEach((function(e){n.addElementInfoToTileMap(e,n.tileToDependencyMap,!0)})),s},e.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var e=0;e<this.viewModel.noWorkingIntervals.length;e++){var t=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[e]);if(t){var n=this.getNoWorkingIntervalInfo(t);this.addElementInfoToTileMap(n,this.tileToNoWorkingIntervalsMap,!1)}}},e.prototype.getAdjustedNoWorkingInterval=function(e){return e.end.getTime()-e.start.getTime()<this.tickTimeSpan-1?null:new o.DateRange(a.DateUtils.getNearestScaleTickDate(e.start,this.range,this.tickTimeSpan,this.viewType),a.DateUtils.getNearestScaleTickDate(e.end,this.range,this.tickTimeSpan,this.viewType))},e.prototype.addElementInfoToTileMap=function(e,t,n){for(var i=n?e.position.y:e.position.x,o=n?e.size.height:e.size.width,r=2*(n?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width),s=Math.floor(i/r),a=Math.floor((i+o)/r),l=s;l<=a;l++)t[l]||(t[l]=new Array),t[l].push(e)},e.prototype.getRenderedConnectorLines=function(e){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,e)},e.prototype.getRenderedNoWorkingIntervals=function(e){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,e)},e.prototype.getRenderedStripLines=function(e){var t=new Array,n=e.stripLines.map((function(e){return e.clone()}));e.showCurrentTime&&n.push(new u.StripLine(new Date,null,e.currentTimeTitle,e.currentTimeCssClass,!0));for(var i=0,o=void 0;o=n[i];i++){var r=a.DateUtils.parse(o.start),l=o.end?a.DateUtils.parse(o.end):null;if(r>=this.range.start&&r<=this.range.end||l&&l>=this.range.start&&l<=this.range.end){var c=r>this.range.start?r:this.range.start,d=new s.GridElementInfo;d.size.height=this.getVerticalGridLineHeight(),d.position.x=this.getPosByDate(c),d.size.width=l?this.getWidthByDateRange(c,l<this.range.end?l:this.range.end):0,d.className=o.isCurrent?"dx-gantt-tc":l?"dx-gantt-ti":"dx-gantt-tm",d.className+=o.cssClass?" "+o.cssClass:"",d.attr.title=o.title,t.push(d)}}return t},e.prototype.getElementsInRenderedTiles=function(e,t,n){var i=new Array,o=t?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(o>0)for(var r=Math.floor(n/(2*o)),s=Math.floor((n+o)/(2*o)),a=r;a<=s;a++)e[a]&&e[a].forEach((function(e){-1==i.indexOf(e)&&i.push(e)}));return i},e.dxGanttPrefix="dx-gantt-",e.taskClassName=e.dxGanttPrefix+"task",e.milestoneClassName=e.dxGanttPrefix+"milestone",e.smallTaskClassName=e.dxGanttPrefix+"smallTask",e.parentTaskClassName=e.dxGanttPrefix+"parent",e.taskProgressClassName=e.dxGanttPrefix+"tPrg",e.taskTitleClassName=e.dxGanttPrefix+"taskTitle",e.titleInClassName=e.dxGanttPrefix+"titleIn",e.titleOutClassName=e.dxGanttPrefix+"titleOut",e.taskResourceClassName=e.dxGanttPrefix+"taskRes",e.arrowClassName=e.dxGanttPrefix+"arrow",e.leftArrowClassName=e.dxGanttPrefix+"LA",e.topArrowClassName=e.dxGanttPrefix+"TA",e.rightArrowClassName=e.dxGanttPrefix+"RA",e.bottomArrowClassName=e.dxGanttPrefix+"BA",e.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},e}();t.GridLayoutCalculator=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHistoryItem=t.HistoryItem=void 0;var i=n(0),o=function(){function e(e){this.modelManipulator=e}return e}();t.HistoryItem=o;var r=function(e){function t(){var t=e.call(this,null)||this;return t.historyItems=[],t}return i.__extends(t,e),t.prototype.redo=function(){for(var e,t=0;e=this.historyItems[t];t++)e.redo()},t.prototype.undo=function(){for(var e,t=this.historyItems.length-1;e=this.historyItems[t];t--)e.undo()},t.prototype.add=function(e){if(null==e)throw new Error("Can't add null HistoryItem");this.historyItems.push(e)},t.prototype.undoItemsQuery=function(){this.undo()},t}(o);t.CompositionHistoryItem=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Color=void 0;var i=n(1),o=function(){function e(e){this._num=null,this._opacity=1,this._rgb=null,this.assign(e)}return Object.defineProperty(e.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),e.prototype.hasValue=function(){return i.isDefined(this._num)||!!this._rgb||0===this._opacity},e.prototype.getValue=function(){return!(0===this._opacity&&!this._rgb)&&(i.isDefined(this._num)?this._num:this._rgb?this.getRBGColor():null)},e.prototype.assign=function(t){this.reset(),"string"===typeof t&&this.assignFromString(t),"number"===typeof t&&(this._num=t),t instanceof Array&&this.assignFromRgbArray(t),t instanceof e&&this.assignFromColor(t)},e.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},e.prototype.assignFromString=function(e){e&&("transparent"===e&&(this._opacity=0),0===e.indexOf("#")&&this.assignFromHexString(e),"rgb"===e.substr(0,3).toLowerCase()&&this.assignFromRgbString(e))},e.prototype.assignFromHexString=function(e){if(4===e.length&&(e="#"+e[1].repeat(2)+e[2].repeat(2)+e[3].repeat(2)),e.length>6){var t=parseInt(e.substr(1,2),16),n=parseInt(e.substr(3,2),16),i=parseInt(e.substr(5,2),16);this._rgb=[t,n,i]}},e.prototype.assignFromRgbString=function(t){var n="rgba"===t.substr(0,4).toLowerCase(),i=t.toLowerCase().match(n?e.rgbaRegexp:e.rgbRegexp);if(i){var o=parseInt(i[1]),r=parseInt(i[2]),s=parseInt(i[3]);this._rgb=[o,r,s],n&&(this._opacity=parseFloat(i[4]))}},e.prototype.assignFromRgbArray=function(e){e&&e.length>2&&(this._rgb=[e[0],e[1],e[2]],i.isDefined(e[3])&&(this._opacity=e[3]))},e.prototype.assignFromColor=function(e){this._opacity=e._opacity,this._num=e._num,this._rgb=e._rgb},e.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},e.prototype.applyOpacityToBackground=function(t){if(1!==this._opacity){var n=t instanceof e?t:new e(t),i=n.getValue();if(i instanceof Array){var o=this.opacity,r=Math.round((1-o)*i[0]+o*this._rgb[0]),s=Math.round((1-o)*i[1]+o*this._rgb[1]),a=Math.round((1-o)*i[2]+o*this._rgb[2]);this._rgb=[r,s,a]}}},e.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,e.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,e}();t.Color=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionBase=void 0;var i=n(1),o=n(70),r=function(){function e(){this._items=new Array,this._isGanttCollection=!0}return e.prototype.add=function(e){if(i.isDefined(e)){if(this.getItemById(e.internalId))throw"The collection item with id ='"+e.internalId+"' already exists.";this._addItem(e)}},e.prototype.addRange=function(e){for(var t=0;t<e.length;t++)this.add(e[t])},e.prototype.remove=function(e){var t=this._items.indexOf(e);t>-1&&t<this._items.length&&this._removeItems(t,1)},e.prototype.clear=function(){this._removeItems(0,this._items.length)},e.prototype._addItem=function(e){this._items.push(e),delete this._invertedItems},e.prototype._removeItems=function(e,t){this._items.splice(e,t),delete this._invertedItems},Object.defineProperty(e.prototype,"items",{get:function(){return this._items.slice()},set:function(e){e&&(this._items=e.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),e.prototype.getItem=function(e){return e>-1&&e<this._items.length?this._items[e]:null},Object.defineProperty(e.prototype,"invertedItems",{get:function(){var e;return null!==(e=this._invertedItems)&&void 0!==e||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),e.prototype._createInvertedItems=function(){for(var e={},t=0;t<this._items.length;t++){var n=this._items[t];e[n.internalId]=n}return e},e.prototype.getItemById=function(e){return this.invertedItems[e]},e.prototype.getItemByPublicId=function(e){return this._items.filter((function(t){return t.id===e||t.id.toString()===e}))[0]},e.prototype.assign=function(e){i.isDefined(e)&&(this.items=e.items)},e.prototype.importFromObject=function(e){i.isDefined(e)&&(this.clear(),e._isGanttCollection?this.assign(e):e instanceof Array?this.importFromArray(e):this.createItemFromObjectAndAdd(e))},e.prototype.createItemFromObjectAndAdd=function(e){if(i.isDefined(e)){var t=this.createItem();t.assignFromObject(e),this.add(t)}},e.prototype.importFromArray=function(e){for(var t=0;t<e.length;t++)this.createItemFromObjectAndAdd(e[t])},e.prototype.importFromJSON=function(e){this.importFromObject(o.GanttJsonUtils.parseJson(e))},e}();t.CollectionBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),r=function(){function e(){}return e.onEventAttachingToDocument=function(t,n){return!i.Browser.MacOSMobilePlatform||!e.isTouchEventName(t)||(e.documentTouchHandlers[t]||(e.documentTouchHandlers[t]=[]),e.documentTouchHandlers[t].push(n),e.documentEventAttachingAllowed)},e.isTouchEventName=function(e){return i.Browser.WebKitTouchUI&&(e.indexOf("touch")>-1||e.indexOf("gesture")>-1)},e.isTouchEvent=function(e){return i.Browser.WebKitTouchUI&&o.isDefined(e.changedTouches)},e.getEventX=function(e){return i.Browser.IE?e.pageX:e.changedTouches[0].pageX},e.getEventY=function(e){return i.Browser.IE?e.pageY:e.changedTouches[0].pageY},e.touchMouseDownEventName=i.Browser.WebKitTouchUI?"touchstart":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",e.touchMouseUpEventName=i.Browser.WebKitTouchUI?"touchend":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",e.touchMouseMoveEventName=i.Browser.WebKitTouchUI?"touchmove":i.Browser.Edge&&i.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",e.msTouchDraggableClassName="dxMSTouchDraggable",e.documentTouchHandlers={},e.documentEventAttachingAllowed=!0,e}();t.TouchUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StyleDef=void 0;var i=n(1),o=n(2),r=n(16),s=n(39),a=n(29),l=n(63),c=function(){function e(e){this._fillColor=new r.Color,this._textColor=new r.Color,this._lineColor=new r.Color,this._cellWidth=new l.Width,this._cellPadding=new a.Margin,e&&this.assign(e)}return Object.defineProperty(e.prototype,"font",{get:function(){return this._fontFamily},set:function(e){this._fontFamily=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.fontFamilies)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overflow",{get:function(){return this._overflow},set:function(e){this._overflow=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(e){this._horizontalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valign",{get:function(){return this._verticalAlign},set:function(e){this._verticalAlign=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(e){this._lineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(e){this._minCellWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(e){this._minCellHeight=e},enumerable:!1,configurable:!0}),e.prototype.assign=function(t){t&&(t instanceof e?(i.isDefined(t["font"])&&(this.font=t["font"]),i.isDefined(t["fontStyle"])&&(this.fontStyle=t["fontStyle"]),i.isDefined(t["overflow"])&&(this.overflow=t["overflow"]),i.isDefined(t["halign"])&&(this.halign=t["halign"]),i.isDefined(t["valign"])&&(this.valign=t["valign"]),i.isDefined(t["fontSize"])&&(this.fontSize=t["fontSize"]),i.isDefined(t["lineWidth"])&&(this.lineWidth=t["lineWidth"]),i.isDefined(t["minCellWidth"])&&(this.minCellWidth=t["minCellWidth"]),i.isDefined(t["minCellHeight"])&&(this.minCellHeight=t["minCellHeight"]),i.isDefined(t["fillColor"])&&this.fillColor.assign(t["fillColor"]),i.isDefined(t["textColor"])&&this.textColor.assign(t["textColor"]),i.isDefined(t["lineColor"])&&this.lineColor.assign(t["lineColor"]),i.isDefined(t["cellWidth"])&&this.cellWidth.assign(t["cellWidth"]),i.isDefined(t["cellPadding"])&&this.cellPadding.assign(t["cellPadding"])):this.assignFromCssStyle(t))},e.prototype.assignFromCssStyle=function(e){if(e.fontFamily&&(this.font=this.getPdfFontFamily(e)),this.fontStyle=this.getPdfFontStyle(e),i.isDefined(e.fontSize)&&(this.fontSize=this.getPfrFontSize(e.fontSize)),e.textAlign&&(this.halign=e.textAlign),e.verticalAlign&&(this.valign=e.verticalAlign),i.isDefined(e.borderWidth)&&(this.lineWidth=e.borderWidth),i.isDefined(e.cellWidth)&&this.cellWidth.assign(e.cellWidth),i.isDefined(e.width)&&(this.minCellWidth="number"===typeof e.width?e.width:o.DomUtils.pxToInt(e.width)),i.isDefined(e.height)&&(this.minCellHeight="number"===typeof e.height?e.height:o.DomUtils.pxToInt(e.height)),e.backgroundColor&&this.fillColor.assign(e.backgroundColor),e.color&&this.textColor.assign(e.color),e.borderColor&&this.lineColor.assign(e.borderColor),i.isDefined(e.width)&&this.cellWidth.assign(e.width),this.assignPaddingFromCss(e),i.isDefined(e.extraLeftPadding)){var t=this._cellPadding.left;this._cellPadding.left=t?t+e.extraLeftPadding:e.extraLeftPadding}},e.prototype.getPdfFontStyle=function(e){var t=e.fontWeight,n=parseInt(t),i="bold"===t||!isNaN(n)&&n>500,o="italic"===e.fontStyle,r=i?"bold":"normal";return o&&(r=i?"bolditalic":"italic"),r},e.prototype.getPdfFontFamily=function(e){var t=e.fontFamily&&e.fontFamily.toLowerCase(),n="helvetica";return t.indexOf("times")>-1&&(n="times"),t.indexOf("courier")>-1&&(n="courier"),n},e.prototype.getPfrFontSize=function(e){var t=o.DomUtils.pxToInt(e);if(!isNaN(t))return Math.ceil(t/96*72)},e.prototype.assignPaddingFromCss=function(e){if(e.padding)this._cellPadding.assign(e.padding);else{var t={};e.paddingLeft&&(t["left"]=o.DomUtils.pxToInt(e.paddingLeft)),e.paddingTop&&(t["top"]=o.DomUtils.pxToInt(e.paddingTop)),e.paddingRight&&(t["right"]=o.DomUtils.pxToInt(e.paddingRight)),e.paddingBottom&&(t["bottom"]=o.DomUtils.pxToInt(e.paddingBottom)),this._cellPadding.assign(t)}},e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e=this,t={};return i.isDefined(this.font)&&(t["font"]=this.font),i.isDefined(this.fontStyle)&&(t["fontStyle"]=this.fontStyle),i.isDefined(this.fontSize)&&(t["fontSize"]=this.fontSize),i.isDefined(this.overflow)&&(t["overflow"]=this.overflow),i.isDefined(this.halign)&&(t["halign"]=this.halign),i.isDefined(this.valign)&&(t["valign"]=this.valign),i.isDefined(this.lineWidth)&&(t["lineWidth"]=this.lineWidth),i.isDefined(this.minCellWidth)&&(t["minCellWidth"]=this.minCellWidth),i.isDefined(this.minCellHeight)&&(t["minCellHeight"]=this.minCellHeight),this.getJsPdfProviderProps().forEach((function(n){var i=e[n];i&&i.hasValue()&&(t[n]=i.getValue())})),t},e.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},e}();t.StyleDef=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceBase=void 0;var i=n(0),o=n(12),r=n(84),s=n(48),a=n(85),l=n(1),c=n(4),u=n(49),d=function(e){function t(t,n,i,o){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=1),void 0===o&&(o=0);var r=e.call(this)||this;return r._start=null,r._end=null,r._interval=1,r._occurrenceCount=0,r._dayOfWeek=0,r._day=1,r._dayOfWeekOccurrence=0,r._month=0,r._calculateByDayOfWeek=!1,r.start=t,r.end=n,r.interval=i,r.occurrenceCount=o,r}return i.__extends(t,e),t.prototype.assignFromObject=function(t){l.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.start=c.DateTimeUtils.convertToDate(t.start),this.end=c.DateTimeUtils.convertToDate(t.end),l.isDefined(t.interval)&&(this.interval=t.interval),l.isDefined(t.occurrenceCount)&&(this.occurrenceCount=t.occurrenceCount),l.isDefined(t.dayOfWeek)&&(this.dayOfWeekInternal=u.RecurrenceFactory.getEnumValue(r.DayOfWeek,t.dayOfWeek)),l.isDefined(t.day)&&(this.dayInternal=t.day),l.isDefined(t.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=u.RecurrenceFactory.getEnumValue(s.DayOfWeekMonthlyOccurrence,t.dayOfWeekOccurrence)),l.isDefined(t.month)&&(this.monthInternal=u.RecurrenceFactory.getEnumValue(a.Month,t.month)),l.isDefined(t.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!t.calculateByDayOfWeek))},t.prototype.calculatePoints=function(e,t){if(!e||!t)return new Array;var n=c.DateTimeUtils.getMaxDate(e,this._start),i=c.DateTimeUtils.getMinDate(t,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(n,i):this.calculatePointsByDateRange(n,i)},t.prototype.calculatePointsByOccurrenceCount=function(e,t){var n=new Array,i=this.getFirstPoint(e);while(i&&n.length<this._occurrenceCount&&c.DateTimeUtils.compareDates(i,t)>=0)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.calculatePointsByDateRange=function(e,t){var n=new Array,i=this.getFirstPoint(e);while(i&&c.DateTimeUtils.compareDates(i,t)>=0)this.isRecurrencePoint(i)&&n.push(i),i=this.getNextPoint(i);return n},t.prototype.getFirstPoint=function(e){return this.isRecurrencePoint(e)?e:this.getNextPoint(e)},t.prototype.isRecurrencePoint=function(e){return this.isDateInRange(e)&&this.checkDate(e)&&(!this.useIntervalInCalc()||this.checkInterval(e))},t.prototype.isDateInRange=function(e){return!!e&&(!(this._start&&c.DateTimeUtils.compareDates(this.start,e)<0)&&!(0==this._occurrenceCount&&this.end&&c.DateTimeUtils.compareDates(e,this.end)<0))},t.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},t.prototype.getNextPoint=function(e){return this.isDateInRange(e)?this.useIntervalInCalc()?this.calculatePointByInterval(e):this.calculateNearestPoint(e):null},t.prototype.getSpecDayInMonth=function(e,t){var n;return n=this._calculateByDayOfWeek?c.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,e,t,this.dayOfWeekOccurrenceInternal):new Date(e,t,this.dayInternal),n},Object.defineProperty(t.prototype,"dayInternal",{get:function(){return this._day},set:function(e){e>0&&e<=31&&(this._day=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(e){e>=r.DayOfWeek.Sunday&&e<=r.DayOfWeek.Saturday&&(this._dayOfWeek=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(e){e>=s.DayOfWeekMonthlyOccurrence.First&&e<=s.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"monthInternal",{get:function(){return this._month},set:function(e){e>=a.Month.January&&e<=a.Month.December&&(this._month=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){e&&(this._start=e,this._end&&e>this._end&&(this._end=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._end},set:function(e){e&&(this._end=e,this._start&&e<this._start&&(this._start=e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(e){e<0&&(e=0),this._occurrenceCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(e){e>0&&(this._interval=e)},enumerable:!1,configurable:!0}),t}(o.DataObject);t.RecurrenceBase=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskPropertyManipulator=t.TaskPropertiesManipulator=t.BaseManipulator=void 0;var i=n(0),o=n(54),r=n(10),s=function(){function e(e,t){this.viewModel=e,this.dispatcher=t}return e.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},e}();t.BaseManipulator=s;var a=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.title=new c(t,n),i.description=new u(t,n),i.progress=new d(t,n),i.start=new h(t,n),i.end=new p(t,n),i.move=new g(t,n),i.color=new f(t,n),i}return i.__extends(t,e),t}(s);t.TaskPropertiesManipulator=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.setValue=function(e,t){var n=this.viewModel.tasks.getItemById(e),i=new o.HistoryItemState(e,this.getPropertyValue(n));this.setPropertyValue(n,t);var r=this.viewModel.findItem(e);return r&&this.viewModel.owner.recreateTaskElement(r.visibleIndex),i},t.prototype.restoreValue=function(e){if(e){var t=this.viewModel.tasks.getItemById(e.id);this.setPropertyValue(t,e.value);var n=this.viewModel.findItem(e.id);n&&this.viewModel.owner.recreateTaskElement(n.visibleIndex)}},t}(s);t.TaskPropertyManipulator=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.title},t.prototype.setPropertyValue=function(e,t){e.title=t,this.dispatcher.notifyTaskTitleChanged(e.id,t,this.getErrorCallback())},t}(l),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.description},t.prototype.setPropertyValue=function(e,t){e.description=t,this.dispatcher.notifyTaskDescriptionChanged(e.id,t,this.getErrorCallback())},t}(l),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.progress},t.prototype.setPropertyValue=function(e,t){t=t<0?0:t>100?100:t,e.progress=t,this.dispatcher.notifyTaskProgressChanged(e.id,t,this.getErrorCallback())},t}(l),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.start},t.prototype.setPropertyValue=function(e,t){e.start=t,this.dispatcher.notifyTaskStartChanged(e.id,t,this.getErrorCallback())},t}(l),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.end},t.prototype.setPropertyValue=function(e,t){e.end=t,this.dispatcher.notifyTaskEndChanged(e.id,t,this.getErrorCallback())},t}(l),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return new r.DateRange(e.start,e.end)},t.prototype.setPropertyValue=function(e,t){e.start=t.start,e.end=t.end,this.dispatcher.notifyTaskStartChanged(e.id,t.start,this.getErrorCallback()),this.dispatcher.notifyTaskEndChanged(e.id,t.end,this.getErrorCallback())},t}(l),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.color},t.prototype.setPropertyValue=function(e,t){e.color=t,this.dispatcher.notifyTaskColorChanged(e.id,t,this.getErrorCallback())},t}(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerStateBase=void 0;var i=n(3),o=n(2),r=function(){function e(e){this.handler=e}return e.prototype.start=function(){},e.prototype.finish=function(){},e.prototype.getRelativePos=function(e){var t=o.DomUtils.getAbsolutePositionX(this.handler.control.taskArea),n=o.DomUtils.getAbsolutePositionY(this.handler.control.taskArea);return new i.Point(e.x-t,e.y-n)},e}();t.HandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseArguments=void 0;var i=function(){function e(e){this.cancel=!1,this.values={},this.key=e}return e}();t.BaseArguments=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyHistoryItem=t.InsertDependencyHistoryItem=void 0;var i=n(0),o=n(15),r=function(e){function t(t,n,i,o){var r=e.call(this,t)||this;return r.predecessorId=n,r.successorId=i,r.type=o,r}return i.__extends(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.dependency?this.dependency.internalId:null)},t.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.dependency.internalId)},t}(o.HistoryItem);t.InsertDependencyHistoryItem=r;var s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.dependencyId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},t}(o.HistoryItem);t.RemoveDependencyHistoryItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceHistoryItem=t.AssignResourceHistoryItem=t.RemoveResourceHistoryItem=t.CreateResourceHistoryItem=void 0;var i=n(0),o=n(15),r=function(e){function t(t,n,i,o){void 0===i&&(i="");var r=e.call(this,t)||this;return r.text=n,r.color=i,r.createCallback=o,r}return i.__extends(t,e),t.prototype.redo=function(){this.resource=this.modelManipulator.resource.create(this.text,this.color,this.resource?this.resource.internalId:null,this.createCallback)},t.prototype.undo=function(){this.modelManipulator.resource.remove(this.resource.internalId)},t}(o.HistoryItem);t.CreateResourceHistoryItem=r;var s=function(e){function t(t,n){var i=e.call(this)||this;return i.modelManipulator=t,i.resourceId=n,i}return i.__extends(t,e),t.prototype.redo=function(){e.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},t.prototype.undo=function(){var t=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){t.resource.color&&t.modelManipulator.resource.properties.color.setValue(t.resource.internalId,t.resource.color),e.prototype.undo.call(t)}))},t.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,(function(){})),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),e.prototype.undo.call(this)},t}(o.CompositionHistoryItem);t.RemoveResourceHistoryItem=s;var a=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.taskId=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.assignment?this.assignment.internalId:null)},t.prototype.undo=function(){this.modelManipulator.resource.deassig(this.assignment.internalId)},t}(o.HistoryItem);t.AssignResourceHistoryItem=a;var l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.assignmentId=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},t.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},t}(o.HistoryItem);t.DeassignResourceHistoryItem=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmationDialogParameters=t.ConfirmationDialog=t.ConfirmationType=void 0;var i=n(0),o=n(27);(function(e){e[e["TaskDelete"]=0]="TaskDelete",e[e["DependencyDelete"]=1]="DependencyDelete",e[e["ResourcesDelete"]=2]="ResourcesDelete"})(t.ConfirmationType||(t.ConfirmationType={}));var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.applyParameters=function(e,t){return this.history.beginTransaction(),t.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},t.prototype.createParameters=function(e){return e},t.prototype.getDialogName=function(){return"Confirmation"},t}(o.DialogBase);t.ConfirmationDialog=r;var s=function(e){function t(t,n){var i=e.call(this)||this;return i.type=t,i.callback=n,i}return i.__extends(t,e),t.prototype.clone=function(){var e=new t(this.type,this.callback);return e.message=this.message,e},t}(o.DialogParametersBase);t.ConfirmationDialogParameters=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogParametersBase=t.DialogBase=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.executeInternal=function(e){var t=this,n=this.createParameters(e),i=n.clone();return!!this.onBeforeDialogShow(n)&&(this.control.ganttOwner.showDialog(this.getDialogName(),n,(function(e){e&&t.applyParameters(e,i)}),(function(){t.afterClosing()})),!0)},t.prototype.onBeforeDialogShow=function(e){return!0},t.prototype.applyParameters=function(e,t){return!1},t.prototype.afterClosing=function(){},t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.DialogBase=r;var s=function(){function e(){}return e}();t.DialogParametersBase=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskColorHistoryItem=t.TaskMoveHistoryItem=t.TaskEndHistoryItem=t.TaskStartHistoryItem=t.TaskProgressHistoryItem=t.TaskDescriptionHistoryItem=t.TaskTitleHistoryItem=t.TaskPropertiesHistoryItemBase=void 0;var i=n(0),o=n(15),r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.taskId=n,o.newValue=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.taskId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},t}(o.HistoryItem);t.TaskPropertiesHistoryItemBase=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.title},t}(r);t.TaskTitleHistoryItem=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.description},t}(r);t.TaskDescriptionHistoryItem=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.progress},t}(r);t.TaskProgressHistoryItem=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.start},t}(r);t.TaskStartHistoryItem=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.end},t}(r);t.TaskEndHistoryItem=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.move},t}(r);t.TaskMoveHistoryItem=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.task.properties.color},t}(r);t.TaskColorHistoryItem=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Margin=void 0;var i=n(1),o=n(2),r=function(){function e(e){this.assign(e)}return e.prototype.assign=function(e){if(i.isDefined(e))if("string"===typeof e)this.assignFromString(e);else if("number"===typeof e||e instanceof Array)this.assignWithValues(e);else{var t=e||e;this.assignWithMargin(t)}},e.prototype.assignFromString=function(e){var t=e.split(" ").map((function(e){return o.DomUtils.pxToInt(e)}));this.assignWithValues(t)},e.prototype.assignWithMargin=function(e){i.isDefined(e.top)&&(this.top=e.top),i.isDefined(e.right)&&(this.right=e.right),i.isDefined(e.bottom)&&(this.bottom=e.bottom),i.isDefined(e.left)&&(this.left=e.left)},e.prototype.assignWithValues=function(e){var t=this.getCorrectedValues(e);this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]},e.prototype.getCorrectedValues=function(e){var t=[this.top,this.right,this.bottom,this.left];if("number"===typeof e){var n=e;t=[n,n,n,n]}else{var i=e;switch(i.length){case 1:t=[i[0],i[0],i[0],i[0]];break;case 2:t=[i[0],i[1],i[0],i[1]];break;case 3:t=[i[0],i[1],i[2],i[1]];break;default:i.forEach((function(e,n){return t[n]=e}));break}}return t},e.prototype.hasValue=function(){return i.isDefined(this.top)||i.isDefined(this.left)||i.isDefined(this.right)||i.isDefined(this.bottom)},e.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var e={};return i.isDefined(this.top)&&(e["top"]=this.top),i.isDefined(this.left)&&(e["left"]=this.left),i.isDefined(this.right)&&(e["right"]=this.right),i.isDefined(this.bottom)&&(e["bottom"]=this.bottom),e},e}();t.Margin=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfPageTableNames=void 0;var i=function(){function e(){}return e.treeListHeader="treeListHeader",e.treeListMain="treeListMain",e.chartMain="chartMain",e.chartScaleTop="chartScaleTop",e.chartScaleBottom="chartScaleBottom",e}();t.PdfPageTableNames=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceCollection=void 0;var i=n(0),o=n(17),r=n(42),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Resource},t}(o.CollectionBase);t.ResourceCollection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isAlpha=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.isDigit=function(e){return e>="0"&&e<="9"},e.stringHashCode=function(e){var t=0;if(0===e.length)return t;for(var n=e.length,i=0;i<n;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t},e.endsAt=function(e,t){var n=e.length-1,i=t.length-1,o=n-i;if(o<0)return!1;for(;n>=o;n--,i--)if(e[n]!==t[i])return!1;return!0},e.startsAt=function(e,t){return e.substr(0,t.length)===t},e.stringInLowerCase=function(e){return e.toLowerCase()===e},e.stringInUpperCase=function(e){return e.toUpperCase()===e},e.atLeastOneSymbolInUpperCase=function(t){for(var n=0,i=void 0;i=t[n];n++)if(e.stringInUpperCase(i)&&!e.stringInLowerCase(i))return!0;return!1},e.getSymbolFromEnd=function(e,t){return e[e.length-t]},e.trim=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!0);var i=n.join("");return t.replace(new RegExp("(^["+i+"]*)|(["+i+"]*$)","g"),"")},e.trimStart=function(t,n){if(void 0===n)return e.trimInternal(t,!0,!1);var i=n.join("");return t.replace(new RegExp("^["+i+"]*","g"),"")},e.trimEnd=function(t,n){if(void 0===n)return e.trimInternal(t,!1,!0);var i=n.join("");return t.replace(new RegExp("["+i+"]*$","g"),"")},e.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},e.repeat=function(e,t){return new Array(t<=0?0:t+1).join(e)},e.isNullOrEmpty=function(e){return!e||!e.length},e.padLeft=function(t,n,i){return e.repeat(i,Math.max(0,n-t.length))+t},e.trimInternal=function(e,t,n){var i=e.length;if(!i)return e;if(i<764833){var o=e;return t&&(o=o.replace(/^\s+/,"")),n&&(o=o.replace(/\s+$/,"")),o}var r=0;if(n)while(i>0&&/\s/.test(e[i-1]))i--;if(t&&i>0)while(r<i&&/\s/.test(e[r]))r++;return e.substring(r,i)},e}();t.StringUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElementTextHelperCultureInfo=t.ElementTextHelper=t.DateUtils=void 0;var i=n(11),o=n(2),r=function(){function e(){}return e.getDaysInMonth=function(e,t){var n=new Date(t,e+1,0);return n.getDate()},e.getOffsetInMonths=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},e.getOffsetInQuarters=function(e,t){return 4*(t.getFullYear()-e.getFullYear())+Math.floor(t.getMonth()/3)-Math.floor(e.getMonth()/3)},e.getNearestScaleTickDate=function(e,t,n,i){var o=new Date,r=t.start.getTime(),s=t.end.getTime();if(o.setTime(e.getTime()),e.getTime()<r)o.setTime(r);else if(e.getTime()>s)o.setTime(s);else if(this.needCorrectDate(e,r,n,i)){var a=this.getNearestLeftTickTime(e,r,n,i),l=this.getNextTickTime(a,n,i);Math.abs(e.getTime()-a)>Math.abs(e.getTime()-l)?o.setTime(l):o.setTime(a)}return o},e.needCorrectDate=function(e,t,n,o){return o==i.ViewType.Months?e.getTime()!==new Date(e.getFullYear(),e.getMonth(),1).getTime():(e.getTime()-t)%n!==0},e.getNearestLeftTickTime=function(e,t,n,o){if(o==i.ViewType.Months)return new Date(e.getFullYear(),e.getMonth(),1).getTime();var r=Math.floor((e.getTime()-t)/n);return t+r*n},e.getNextTickTime=function(e,t,n){if(n==i.ViewType.Months){var o=new Date;return o.setTime(e),o.setMonth(o.getMonth()+1),o.getTime()}return e+t},e.adjustStartDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate());case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear(),0,1);default:return new Date}},e.adjustEndDateByViewType=function(e,t,n){switch(void 0===n&&(n=0),t){case i.ViewType.TenMinutes:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+1);case i.ViewType.SixHours:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);case i.ViewType.Days:case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()+7-e.getDay()+n);case i.ViewType.Months:case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()+1,0,1);default:return new Date}},e.roundStartDate=function(e,t){switch(t){case i.ViewType.TenMinutes:case i.ViewType.Hours:return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()-1);case i.ViewType.SixHours:case i.ViewType.Days:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);case i.ViewType.Weeks:return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case i.ViewType.Months:return new Date(e.getFullYear(),e.getMonth()-1);case i.ViewType.Quarter:case i.ViewType.Years:return new Date(e.getFullYear()-1,0,1);default:return new Date}},e.getTickTimeSpan=function(t){switch(t){case i.ViewType.TenMinutes:return e.msPerHour/6;case i.ViewType.Hours:return e.msPerHour;case i.ViewType.SixHours:return 6*e.msPerHour;case i.ViewType.Days:return e.msPerDay;case i.ViewType.Weeks:return e.msPerWeek;case i.ViewType.Months:return e.msPerMonth;case i.ViewType.Quarter:return 3*e.msPerMonth;case i.ViewType.Years:return e.msPerYear}},e.parse=function(e){return"function"===typeof e?new Date(e()):new Date(e)},e.getTimezoneOffsetDiff=function(e,t){return t.getTimezoneOffset()-e.getTimezoneOffset()},e.getOrCreateUTCDate=function(e){var t=e.getTimezoneOffset();return t?new Date(e.valueOf()+6e4*t):e},e.msPerHour=36e5,e.msPerDay=24*e.msPerHour,e.msPerWeek=7*e.msPerDay,e.msPerMonth=30*e.msPerDay,e.msPerYear=365*e.msPerDay,e.ViewTypeToScaleMap=l(),e}();t.DateUtils=r;var s=function(){function e(e){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var t=document.createElement("canvas");this.textMeasureContext=t.getContext("2d"),this.cultureInfo=e}return e.prototype.setFont=function(e){var t=o.DomUtils.getCurrentStyle(e),n=t.font?t.font:t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" / "+t.lineHeight+" "+t.fontFamily;this.textMeasureContext.font=n},e.prototype.setSettings=function(e,t,n){this.startTime=e,this.viewType=t,this.modelItems=n},e.prototype.getScaleItemStartDate=function(e,t){var n=new Date(this.startTime);switch(t){case i.ViewType.TenMinutes:n.setTime(this.startTime+e*r.msPerHour/6);break;case i.ViewType.Hours:n.setTime(this.startTime+e*r.msPerHour);break;case i.ViewType.SixHours:n.setTime(this.startTime+e*r.msPerHour*6);break;case i.ViewType.Days:n.setTime(this.startTime+e*r.msPerDay);break;case i.ViewType.Weeks:n.setTime(this.startTime+e*r.msPerWeek);break;case i.ViewType.Months:n.setMonth(n.getMonth()+e);break;case i.ViewType.Quarter:n.setMonth(n.getMonth()+3*e);break;case i.ViewType.Years:n.setFullYear(n.getFullYear()+e);break;case i.ViewType.FiveYears:n.setFullYear(n.getFullYear()+5*e);break}return n=this.getScaleStartDateCorrectedWithDST(n),n},e.prototype.getScaleStartDateCorrectedWithDST=function(e){var t=r.getTimezoneOffsetDiff(new Date(this.startTime),e);return t>0?new Date(e.getTime()+6e4*t):e},e.prototype.getScaleItemText=function(e,t){var n=this.getScaleItemStartDate(e,t),o=this.viewType.valueOf()==t.valueOf();switch(t){case i.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case i.ViewType.Hours:case i.ViewType.SixHours:return this.getHoursScaleItemText(n);case i.ViewType.Days:return this.getDaysScaleItemText(n,o);case i.ViewType.Weeks:return this.getWeeksScaleItemText(n,o);case i.ViewType.Months:return this.getMonthsScaleItemText(n,o);case i.ViewType.Quarter:return this.getQuarterScaleItemText(n,o);case i.ViewType.Years:return this.getYearsScaleItemText(n);case i.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},e.prototype.getTenMinutesScaleItemText=function(e){var t=e.getMinutes()+1;return(10*Math.ceil(t/10)).toString()},e.prototype.getThirtyMinutesScaleItemText=function(e){var t=e.getMinutes();return t<30?"30":"60"},e.prototype.getHoursScaleItemText=function(e){var t=e.getHours(),n=this.getHourDisplayText(t),i=t<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(n,i)},e.prototype.getDaysScaleItemText=function(e,t){return this.getDayTotalText(e,!0,t,t,!t)},e.prototype.getWeeksScaleItemText=function(e,t){var n=new Date(e.getTime()+r.msPerWeek-r.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(e,t,!0,t,!t),this.getDayTotalText(n,t,!0,t,!t))},e.prototype.getMonthsScaleItemText=function(e,t){var n=this.getMonthNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[e.getMonth()],i)},e.prototype.getQuarterScaleItemText=function(e,t){var n=this.getQuarterNames(),i=t?"":e.getFullYear().toString();return this.getMonthsScaleItemTextCore(n[Math.floor(e.getMonth()/3)],i)},e.prototype.getYearsScaleItemText=function(e){return e.getFullYear().toString()},e.prototype.getFiveYearsScaleItemText=function(e){return e.getFullYear().toString()+" - "+(e.getFullYear()+4).toString()},e.prototype.getHourDisplayText=function(e){return this.hasAmPm()?(0==e?12:e<=12?e:e-12).toString():e<10?"0"+e:e.toString()},e.prototype.getDayTotalText=function(e,t,n,i,o){var r=i?this.getAbbrMonthNames():this.getMonthNames(),s=n?this.getAbbrDayNames():this.getDayNames(),a=t?s[e.getDay()]:"",l=e.getDate(),c=r[e.getMonth()],u=o?e.getFullYear().toString():"";return this.getDayTotalTextCore(a,l.toString(),c,u)},e.prototype.getTaskText=function(e){var t=this.modelItems[e];return t?t.task.title:""},e.prototype.getTaskVisibility=function(e){var t=this.modelItems[e];return!!t&&t.getVisible()},e.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},e.prototype.getScaleItemTextTemplate=function(e){switch(e){case i.ViewType.TenMinutes:return"00";case i.ViewType.Hours:case i.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case i.ViewType.Days:return this.getDayTextTemplate();case i.ViewType.Weeks:return this.getWeekTextTemplate();case i.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case i.ViewType.Quarter:return"Q4";case i.ViewType.Years:return"0000"}},e.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},e.prototype.getWeekTextTemplate=function(){var e=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(e,e)},e.prototype.getHoursScaleItemTextCore=function(e,t){return e+":00"+(this.hasAmPm()?" "+t:"")},e.prototype.getDayTotalTextCore=function(e,t,n,i){var o=e.length>0?e+", ":"";return o+=t+" "+n,o+=i.length>0?" "+i:"",o},e.prototype.getWeeksScaleItemTextCore=function(e,t){return e+" - "+t},e.prototype.getMonthsScaleItemTextCore=function(e,t){var n=e;return t.length>0&&(n+=" "+t),n},e.prototype.getLongestAbbrMonthName=function(){return null==this.longestAbbrMonthName&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},e.prototype.getLongestMonthName=function(){return null==this.longestMonthName&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},e.prototype.getLongestAbbrDayName=function(){return null==this.longestAbbrDayName&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},e.prototype.getLongestText=function(e){var t=this,n="",i=0;return e.forEach((function(e){var o=t.getTextWidth(e);o>i&&(i=o,n=e)})),n},e.prototype.getTextWidth=function(e){return Math.round(this.textMeasureContext.measureText(e).width)},e.prototype.getAmText=function(){return this.cultureInfo.amText},e.prototype.getPmText=function(){return this.cultureInfo.pmText},e.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},e.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},e.prototype.getDayNames=function(){return this.cultureInfo.dayNames},e.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},e.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},e}();t.ElementTextHelper=s;var a=function(){function e(){}return e}();function l(){var e={};return e[i.ViewType.TenMinutes]=i.ViewType.Hours,e[i.ViewType.Hours]=i.ViewType.Days,e[i.ViewType.SixHours]=i.ViewType.Days,e[i.ViewType.Days]=i.ViewType.Weeks,e[i.ViewType.Weeks]=i.ViewType.Months,e[i.ViewType.Months]=i.ViewType.Years,e[i.ViewType.Quarter]=i.ViewType.Years,e[i.ViewType.Years]=i.ViewType.FiveYears,e}t.ElementTextHelperCultureInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerStateBase=void 0;var i=n(0),o=n(22),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDoubleClick=function(e){},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseMove=function(e){},t.prototype.onMouseWheel=function(e){},t}(o.HandlerStateBase);t.MouseHandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerDragBaseState=void 0;var i=n(0),o=n(3),r=n(6),s=n(34),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDown=function(e){this.currentPosition=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e)),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onMouseUp=function(e){this.onMouseUpInternal(e),this.handler.switchToDefaultState()},t.prototype.onMouseMove=function(e){e.preventDefault();var t=new o.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e));this.onMouseMoveInternal(t),this.currentPosition=t},t.prototype.onMouseUpInternal=function(e){},t.prototype.onMouseMoveInternal=function(e){},t}(s.MouseHandlerStateBase);t.MouseHandlerDragBaseState=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDragBaseState=void 0;var i=n(0),o=n(57),r=n(3),s=n(18),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){this.currentPosition=new r.Point(s.TouchUtils.getEventX(e),s.TouchUtils.getEventY(e)),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onTouchEnd=function(e){this.onTouchEndInternal(e),this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){e.preventDefault();var t=new r.Point(s.TouchUtils.getEventX(e),s.TouchUtils.getEventY(e));this.onTouchMoveInternal(t),this.currentPosition=t},t.prototype.onTouchEndInternal=function(e){},t.prototype.onTouchMoveInternal=function(e){},t}(o.TouchHandlerStateBase);t.TouchHandlerDragBaseState=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceUnassigningArguments=t.ResourceAssigningArguments=void 0;var i=n(0),o=n(23),r=function(e){function t(t,n){var i=e.call(this,null)||this;return i.values={resourceId:t,taskId:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.ResourceAssigningArguments=r;var s=function(e){function t(t){var n=e.call(this,t.internalId)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.ResourceUnassigningArguments=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfTaskInfo=void 0;var i=n(3),o=n(16),r=n(19),s=function(){function e(){}return Object.defineProperty(e.prototype,"left",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){var e;return(null===(e=this.sidePoints)||void 0===e?void 0:e.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=this.bottom-this.top;return this.isParent&&(t-=e.defaultParentHeightCorrection),t},enumerable:!1,configurable:!0}),e.prototype.assign=function(e){var t,n,i;this.isMilestone=e.isMilestone,this._copyPoints(e.sidePoints),this.progressWidth=e.progressWidth,this.isSmallTask=e.isSmallTask,this.text=e.text,this.textPosition=e.textPosition,null!==(t=this.progressColor)&&void 0!==t||(this.progressColor=new o.Color),this.progressColor.assign(e.progressColor),null!==(n=this.taskColor)&&void 0!==n||(this.taskColor=new o.Color),this.taskColor.assign(e.taskColor),null!==(i=this.textStyle)&&void 0!==i||(this.textStyle=new r.StyleDef),this.textStyle.assign(e.textStyle),this.isParent=e.isParent},e.prototype._copyPoints=function(e){var t=this;this.sidePoints=new Array,null===e||void 0===e||e.forEach((function(e){return t.sidePoints.push(new i.Point(e.x,e.y))}))},e.defaultParentHeightCorrection=4,e}();t.PdfTaskInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PredefinedStyles=void 0;var i=function(){function e(){}return e.getPredefinedStringOrUndefined=function(e,t){var n=e&&t&&e.toLowerCase()||void 0;return n&&(t.filter((function(e){return e.toLowerCase()===n}))[0]||t.filter((function(e){return n.indexOf(e.toLowerCase())>-1}))[0])},e.fontFamilies=["helvetica","times","courier"],e.fontStyles=["normal","bold","italic","bolditalic"],e.headerFooterVisibility=["everyPage","firstPage","never"],e.horizontalAlign=["left","center","right"],e.overflow=["linebreak","ellipsize","visible","hidden"],e.pageBreak=["auto","avoid","always"],e.rowPageBreak=["auto","avoid"],e.verticalAlign=["top","middle","bottom"],e.width=["auto","wrap"],e}();t.PredefinedStyles=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttPdfExportProps=t.PdfDataRange=t.DataExportMode=t.ExportMode=void 0;var i,o,r=n(9),s=n(1),a=n(29);(function(e){e[e["all"]=0]="all",e[e["treeList"]=1]="treeList",e[e["chart"]=2]="chart"})(i=t.ExportMode||(t.ExportMode={})),function(e){e[e["all"]=0]="all",e[e["visible"]=1]="visible"}(o=t.DataExportMode||(t.DataExportMode={}));var l=function(){function e(e,t,n,i){var o=!e||e instanceof Date?{startDate:e,endDate:t,startIndex:n,endIndex:i}:e;o&&this.assign(o)}return e.prototype.assign=function(e){s.isDefined(e.startDate)&&(this.startDate=e.startDate instanceof Date?e.startDate:new Date(e.startDate)),s.isDefined(e.endDate)&&(this.endDate=e.endDate instanceof Date?e.endDate:new Date(e.endDate)),s.isDefined(e.startIndex)&&(this.startIndex=parseInt(e.startIndex)),s.isDefined(e.endIndex)&&(this.endIndex=parseInt(e.endIndex))},e}();t.PdfDataRange=l;var c=function(){function e(e){this.landscape=!1,this.margins=null,this.exportMode=i.all,this.exportDataMode=o.visible,e&&this.assign(e)}return e.prototype.assign=function(e){if(e){if(s.isDefined(e["pdfDocument"])&&(this.pdfDoc=e["pdfDocument"]),s.isDefined(e.pdfDoc)&&(this.pdfDoc=e.pdfDoc),this.docCreateMethod=e.docCreateMethod,s.isDefined(e.fileName)&&(this.fileName=e.fileName),this.landscape=!!e.landscape,s.isDefined(e.margins)&&(this.margins=new a.Margin(e.margins)),s.isDefined(e.format)){var t=e.format;if("string"===typeof t)this.format=t;else{var n=parseInt(t.width),c=parseInt(t.height);this.pageSize=new r.Size(n,c)}}if(s.isDefined(e.exportMode)&&(this.exportMode=this.getEnumValue(i,e.exportMode)),s.isDefined(e.dateRange)){var u=e.dateRange,d="number"===typeof u||"string"===typeof u;d?this.exportDataMode=this.getEnumValue(o,u):this.dateRange=new l(u)}}},e.prototype.getEnumValue=function(e,t){if(!s.isDefined(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e}();t.GanttPdfExportProps=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellDef=void 0;var i=n(1),o=n(19),r=function(){function e(e,t,n){this.content="","string"===typeof e?(this.content=e,this.colSpan=t,n&&this.appendStyles(n)):e&&this.assign(e)}return Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles||(this._styles=new o.StyleDef),this._styles},enumerable:!1,configurable:!0}),e.prototype.assign=function(e){i.isDefined(e["content"])&&(this.content=e["content"]),i.isDefined(e["colSpan"])&&(this.colSpan=e["colSpan"]),e["styles"]&&this.appendStyles(e["styles"])},e.prototype.appendStyles=function(e){e&&this.styles.assign(e)},e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e={};return e["content"]=this.content,this.colSpan>1&&(e["colSpan"]=this.colSpan),this._styles&&(e["styles"]=this._styles.getValue()),e},e}();t.CellDef=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var i=n(0),o=n(1),r=n(12),s=function(e){function t(){var t=e.call(this)||this;return t.text="",t.color="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){o.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.text=t.text,o.isDefined(t.color)&&(this.color=t.color))},t}(r.DataObject);t.Resource=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(72),o=function(){function e(){}return e.round=function(t,n){void 0===n&&(n=0);var i=e.powFactor[n];return Math.round(t*i)/i},e.numberCloseTo=function(e,t,n){return void 0===n&&(n=1e-5),Math.abs(e-t)<n},e.restrictValue=function(e,t,n){return n<t&&(n=t),e>n?n:e<t?t:e},e.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)}))},e.powFactor=i.ListUtils.initByCallback(20,(function(e){return Math.pow(10,e)})),e.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],e}();t.MathUtils=o},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return o})),n.d(t,"__assign",(function(){return r})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return g})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return T})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return k})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return I})),n.d(t,"__classPrivateFieldGet",(function(){return S})),n.d(t,"__classPrivateFieldSet",(function(){return D}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function s(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function a(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,i){t(n,i,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}}var h=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function g(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(i=r.next()).done)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(o)throw o.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(e,t||[]),r=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){o[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||a(e,t)}))})}function a(e,t){try{l(o[e](t))}catch(n){d(r[0][3],n)}}function l(e){e.value instanceof v?Promise.resolve(e.value.v).then(c,u):d(r[0][2],e)}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),r.shift(),r.length&&a(r[0][0],r[0][1])}}function _(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,o){t[i]=e[i]?function(t){return(n=!n)?{value:v(e[i](t)),done:"return"===i}:o?o(t):t}:o}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof g?g(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,r){t=e[n](t),o(i,r,t.done,t.value)}))}}function o(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var b=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return b(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function D(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignment=void 0;var i=n(0),o=n(12),r=n(1),s=function(e){function t(){var t=e.call(this)||this;return t.taskId="",t.resourceId="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){r.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.taskId=String(t.taskId),this.resourceId=String(t.resourceId))},t}(o.DataObject);t.ResourceAssignment=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var i=function(){function e(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=e,this.min=t,this.sec=n,this.msec=i}return Object.defineProperty(e.prototype,"hour",{get:function(){return this._hour},set:function(e){e>=0&&e<24&&(this._hour=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(e){e>=0&&e<60&&(this._min=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sec",{get:function(){return this._sec},set:function(e){e>=0&&e<60&&(this._sec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"msec",{get:function(){return this._msec},set:function(e){e>=0&&e<1e3&&(this._msec=e,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),e.prototype.updateFullMilleconds=function(){var e=60*this._hour+this._min,t=60*e+this._sec;this._fullmsec=1e3*t+this._msec},e.prototype.getTimeInMilleconds=function(){return this._fullmsec},e}();t.Time=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeRange=void 0;var i=n(4),o=function(){function e(e,t){var n=i.DateTimeUtils.caclTimeDifference(e,t);n>=0?(this._start=e,this._end=t):(this._start=t,this._end=e)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0&&(this._start=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},set:function(e){e&&i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&(this._end=e)},enumerable:!1,configurable:!0}),e.prototype.isTimeInRange=function(e){return i.DateTimeUtils.caclTimeDifference(this._start,e)>=0&&i.DateTimeUtils.caclTimeDifference(e,this._end)>=0},e.prototype.hasIntersect=function(e){return this.isTimeInRange(e.start)||this.isTimeInRange(e.end)||e.isTimeInRange(this.start)||e.isTimeInRange(this.end)},e.prototype.concatWith=function(e){return!!this.hasIntersect(e)&&(this.start=i.DateTimeUtils.getMinTime(this.start,e.start),this.end=i.DateTimeUtils.getMaxTime(this.end,e.end),!0)},e}();t.TimeRange=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeekMonthlyOccurrence=void 0,function(e){e[e["First"]=0]="First",e[e["Second"]=1]="Second",e[e["Third"]=2]="Third",e[e["Forth"]=3]="Forth",e[e["Last"]=4]="Last"}(t.DayOfWeekMonthlyOccurrence||(t.DayOfWeekMonthlyOccurrence={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecurrenceFactory=void 0;var i=n(1),o=n(50),r=n(86),s=n(87),a=n(89),l=function(){function e(){}return e.createRecurrenceByType=function(e){if(!e)return null;var t=e.toLowerCase();switch(t){case"daily":return new o.Daily;case"weekly":return new r.Weekly;case"monthly":return new s.Monthly;case"yearly":return new a.Yearly}return null},e.createRecurrenceFromObject=function(e){if(!e)return null;var t=this.createRecurrenceByType(e.type);return t&&t.assignFromObject(e),t},e.getEnumValue=function(e,t){if(!i.isDefined(e[t]))return null;var n=parseInt(t);return isNaN(n)?e[t]:n},e}();t.RecurrenceFactory=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Daily=void 0;var i=n(0),o=n(20),r=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!0},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.interval;return this.isRecurrencePoint(e)||(t-=r.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),r.DateTimeUtils.addDays(e,t)},t.prototype.calculateNearestPoint=function(e){return r.DateTimeUtils.addDays(e,1)},t}(o.RecurrenceBase);t.Daily=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridElementInfo=void 0;var i=n(3),o=n(9),r=n(91),s=function(){function e(t,n,s){this.id=e.id++,this.position=new i.Point(void 0,void 0),this.size=new o.Size(0,0),this.margins=new r.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},t&&(this.className=t),n&&this.setPosition(n),s&&this.setSize(s)}return e.prototype.setSize=function(e){this.size.width=e.width,this.size.height=e.height},e.prototype.setPosition=function(e){this.position.x=e.x,this.position.y=e.y},e.prototype.assignToElement=function(e){this.assignPosition(e),this.assignSize(e),this.assignMargins(e),this.className&&(e.className=this.className)},e.prototype.assignPosition=function(e){null!=this.position.x&&(e.style.left=this.position.x+"px"),null!=this.position.y&&(e.style.top=this.position.y+"px")},e.prototype.assignSize=function(e){this.size.width&&(e.style.width=this.size.width+"px"),this.size.height&&(e.style.height=this.size.height+"px")},e.prototype.assignMargins=function(e){this.margins.left&&(e.style.marginLeft=this.margins.left+"px"),this.margins.top&&(e.style.marginTop=this.margins.top+"px"),this.margins.right&&(e.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(e.style.marginBottom=this.margins.bottom+"px")},e.prototype.setAttribute=function(e,t){this.attr[e]=t},e.id=0,e}();t.GridElementInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSettings=t.StripLine=t.StripLineSettings=t.EditingSettings=t.Settings=void 0;var i=n(11),o=n(1),r=function(){function e(){this.viewType=void 0,this.taskTitlePosition=i.TaskTitlePosition.Inside,this.showResources=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new s,this.validation=new c,this.stripLines=new a}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.viewType)&&(n.viewType=t.viewType),o.isDefined(t.taskTitlePosition)&&(n.taskTitlePosition=t.taskTitlePosition),o.isDefined(t.showResources)&&(n.showResources=t.showResources),o.isDefined(t.areHorizontalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),o.isDefined(t.areVerticalBordersEnabled)&&(n.areHorizontalBordersEnabled=t.areHorizontalBordersEnabled),o.isDefined(t.areAlternateRowsEnabled)&&(n.areAlternateRowsEnabled=t.areAlternateRowsEnabled),o.isDefined(t.allowSelectTask)&&(n.allowSelectTask=t.allowSelectTask),o.isDefined(t.firstDayOfWeek)&&(n.firstDayOfWeek=t.firstDayOfWeek),o.isDefined(t.editing)&&(n.editing=s.parse(t.editing)),o.isDefined(t.validation)&&(n.validation=c.parse(t.validation)),o.isDefined(t.stripLines)&&(n.stripLines=a.parse(t.stripLines)),o.isDefined(t.taskTooltipContentTemplate)&&(n.taskTooltipContentTemplate=t.taskTooltipContentTemplate),o.isDefined(t.taskProgressTooltipContentTemplate)&&(n.taskProgressTooltipContentTemplate=t.taskProgressTooltipContentTemplate),o.isDefined(t.taskTimeTooltipContentTemplate)&&(n.taskTimeTooltipContentTemplate=t.taskTimeTooltipContentTemplate),o.isDefined(t.taskContentTemplate)&&(n.taskContentTemplate=t.taskContentTemplate)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.viewType===e.viewType,t=t&&this.taskTitlePosition===e.taskTitlePosition,t=t&&this.showResources===e.showResources,t=t&&this.areHorizontalBordersEnabled===e.areHorizontalBordersEnabled,t=t&&this.areAlternateRowsEnabled===e.areAlternateRowsEnabled,t=t&&this.allowSelectTask===e.allowSelectTask,t=t&&this.editing.equal(e.editing),t=t&&this.validation.equal(e.validation),t=t&&this.stripLines.equal(e.stripLines),t},e}();t.Settings=r;var s=function(){function e(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.enabled)&&(n.enabled=t.enabled),o.isDefined(t.allowDependencyDelete)&&(n.allowDependencyDelete=t.allowDependencyDelete),o.isDefined(t.allowDependencyInsert)&&(n.allowDependencyInsert=t.allowDependencyInsert),o.isDefined(t.allowTaskDelete)&&(n.allowTaskDelete=t.allowTaskDelete),o.isDefined(t.allowTaskInsert)&&(n.allowTaskInsert=t.allowTaskInsert),o.isDefined(t.allowTaskUpdate)&&(n.allowTaskUpdate=t.allowTaskUpdate),o.isDefined(t.allowResourceDelete)&&(n.allowResourceDelete=t.allowResourceDelete),o.isDefined(t.allowResourceInsert)&&(n.allowResourceInsert=t.allowResourceInsert),o.isDefined(t.allowResourceUpdate)&&(n.allowResourceUpdate=t.allowResourceUpdate),o.isDefined(t.allowTaskResourceUpdate)&&(n.allowTaskResourceUpdate=t.allowTaskResourceUpdate)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.enabled===e.enabled,t=t&&this.allowDependencyDelete===e.allowDependencyDelete,t=t&&this.allowDependencyInsert===e.allowDependencyInsert,t=t&&this.allowTaskDelete===e.allowTaskDelete,t=t&&this.allowTaskInsert===e.allowTaskInsert,t=t&&this.allowTaskUpdate===e.allowTaskUpdate,t=t&&this.allowResourceDelete===e.allowResourceDelete,t=t&&this.allowResourceInsert===e.allowResourceInsert,t=t&&this.allowResourceUpdate===e.allowResourceUpdate,t=t&&this.allowTaskResourceUpdate===e.allowTaskResourceUpdate,t},e}();t.EditingSettings=s;var a=function(){function e(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return e.parse=function(t){var n=new e;if(t&&(o.isDefined(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),o.isDefined(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),o.isDefined(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),o.isDefined(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),o.isDefined(t.stripLines)))for(var i=0;i<t.stripLines.length;i++)n.stripLines.push(l.parse(t.stripLines[i]));return n},e.prototype.equal=function(e){var t=!0;if(t=t&&this.showCurrentTime==e.showCurrentTime,t=t&&this.currentTimeUpdateInterval==e.currentTimeUpdateInterval,t=t&&this.currentTimeTitle==e.currentTimeTitle,t=t&&this.currentTimeCssClass==e.currentTimeCssClass,t=t&&this.stripLines.length===e.stripLines.length,t)for(var n=0;n<e.stripLines.length;n++)t=t&&this.stripLines[n].equal(e.stripLines[n]);return t},e}();t.StripLineSettings=a;var l=function(){function e(e,t,n,i,o){this.isCurrent=!1,this.start=e,this.end=t,this.title=n,this.cssClass=i,this.isCurrent=o}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.start)&&(n.start=t.start),o.isDefined(t.end)&&(n.end=t.end),o.isDefined(t.title)&&(n.title=t.title),o.isDefined(t.cssClass)&&(n.cssClass=t.cssClass)),n},e.prototype.clone=function(){return new e(this.start,this.end,this.title,this.cssClass,this.isCurrent)},e.prototype.equal=function(e){var t=!0;return t=t&&this.start==e.start,t=t&&this.end==e.end,t=t&&this.title==e.title,t=t&&this.cssClass==e.cssClass,t},e}();t.StripLine=l;var c=function(){function e(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1}return e.parse=function(t){var n=new e;return t&&(o.isDefined(t.validateDependencies)&&(n.validateDependencies=t.validateDependencies),o.isDefined(t.autoUpdateParentTasks)&&(n.autoUpdateParentTasks=t.autoUpdateParentTasks)),n},e.prototype.equal=function(e){var t=!0;return t=t&&this.validateDependencies==e.validateDependencies,t=t&&this.autoUpdateParentTasks==e.autoUpdateParentTasks,t},e}();t.ValidationSettings=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditController=void 0;var i=n(11),o=n(10),r=n(2),s=n(5),a=n(94),l=function(){function e(e){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.gantt=e,this.createElements()}return Object.defineProperty(e.prototype,"taskId",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"successorId",{get:function(){return this.gantt.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"task",{get:function(){return this.gantt.viewModel.items[this.taskIndex].task},enumerable:!1,configurable:!0}),e.prototype.show=function(t,n){if(void 0===n&&(n=0),!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=t,this.hide(),this.changeWrapInfo();var i=this.gantt.viewModel.items[t];if(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!i.isCustom)this.baseElement.className=this.baseElement.className+" milestone";else{var r=!this.gantt.settings.editing.enabled||!this.gantt.settings.editing.allowTaskUpdate;r&&(this.baseElement.className=this.baseElement.className+" hide-updating"),i.isCustom&&(this.baseElement.classList.add(e.CLASSNAMES.TASK_EDIT_BOX_CUSTOM),n=this.showInfoDelay)}this.taskDateRange=new o.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(n),this.displayProgressEdit(i)}},e.prototype.displayProgressEdit=function(e){!e.isCustom&&this.canUpdateTask()?this.progressEdit.style.left=this.task.progress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px":this.progressEdit.style.display="none"},e.prototype.displayDependency=function(){this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency")},e.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},e.prototype.displayTaskEditBox=function(e){var t=this;void 0===e&&(e=0);var n=function(){t.gantt.taskArea.appendChild(t.baseElement)};e?this.timerId=setTimeout(n,e):n()},e.prototype.hide=function(){var e=this.baseElement.parentNode;e&&e.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},e.prototype.cancel=function(){clearTimeout(this.timerId)},e.prototype.showTaskInfo=function(e,t){void 0===t&&(t=500),this.timerId&&(t=this.showInfoDelay),this.tooltip.showInfo(this.task,e,t,this.gantt.settings.taskTooltipContentTemplate)},e.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},e.prototype.showDependencySuccessor=function(e){if(this.successorIndex!==e&&this.taskIndex!==e){this.successorIndex=e;var t=this.getTaskWrapperElementInfo(e);t.assignPosition(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorBaseElement),t.assignSize(this.dependencySuccessorFrame),this.gantt.taskArea.appendChild(this.dependencySuccessorBaseElement)}},e.prototype.hideDependencySuccessor=function(){var e=this.dependencySuccessorBaseElement.parentNode;e&&e.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},e.prototype.processProgress=function(e){this.isEditingInProgress=!0;var t=e.x-this.wrapInfo.position.x,n=0;e.x>this.wrapInfo.position.x&&(n=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(t/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=n/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(n,r.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)},e.prototype.confirmProgress=function(){this.isEditingInProgress=!1;var e=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.gantt.commandManager.changeTaskProgressCommand.execute(this.taskId,e)},e.prototype.processEnd=function(e){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var t=e.x>this.wrapInfo.position.x?e.x:this.wrapInfo.position.x,n=t-this.wrapInfo.position.x;this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.start,o=this.gantt.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o<i||n<1?this.taskDateRange.end.setTime(i.getTime()):this.taskDateRange.end=this.getNewDate(this.task.end,o),this.tooltip.showTime(i,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)},e.prototype.confirmEnd=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.gantt.commandManager.changeTaskEndCommand.execute(this.taskId,this.taskDateRange.end),this.hide(),this.updateWrapInfo()},e.prototype.processStart=function(e){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var t=e.x<this.wrapInfo.position.x+this.wrapInfo.size.width?e.x:this.wrapInfo.position.x+this.wrapInfo.size.width,n=this.wrapInfo.size.width-(t-this.wrapInfo.position.x);this.baseElement.style.left=t+"px",this.baseElement.style.width=(n<1?0:n)+"px";var i=this.task.end,o=this.gantt.gridLayoutCalculator.getDateByPos(t);o.setSeconds(0),o>i||n<1?this.taskDateRange.start.setTime(i.getTime()):this.taskDateRange.start=this.getNewDate(this.task.start,o),this.tooltip.showTime(this.taskDateRange.start,i,r.DomUtils.getAbsolutePositionX(this.baseElement))},e.prototype.confirmStart=function(){this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.gantt.commandManager.changeTaskStartCommand.execute(this.taskId,this.taskDateRange.start),this.hide(),this.updateWrapInfo()},e.prototype.processMove=function(e){if(this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowTaskUpdate){this.baseElement.className=this.baseElement.className+" move";var t=this.baseElement.offsetLeft+e;this.baseElement.style.left=t+"px";var n=this.gantt.gridLayoutCalculator.getDateByPos(t);this.taskDateRange.start=this.getNewDate(this.task.start,n);var i=this.task.start.getTime()-this.taskDateRange.start.getTime(),o=new Date(this.task.end.getTime()-i);return this.taskDateRange.end=this.getNewDate(this.task.end,o),this.isEditingInProgress=this.gantt.modelManipulator.dispatcher.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,r.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},e.prototype.onTaskMovingCallback=function(e,t){if(this.taskDateRange.start!==e||this.taskDateRange.end!==t){var n=this.gantt.gridLayoutCalculator,i=n.getPosByDate(e),o=n.getPosByDate(t)-i;this.baseElement.style.left=i+"px",this.baseElement.style.width=(o<1?0:o)+"px",this.taskDateRange.start=e,this.taskDateRange.end=t}},e.prototype.confirmMove=function(){this.gantt.settings.editing.enabled&&this.gantt.settings.editing.allowTaskUpdate&&(this.gantt.settings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=e.CLASSNAMES.TASK_EDIT_BOX,this.gantt.commandManager.taskMoveCommand.execute(this.taskId,this.taskDateRange.start,this.taskDateRange.end),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},e.prototype.getNewDate=function(e,t){if(this.gantt.settings.viewType>i.ViewType.SixHours){var n=t.getFullYear(),o=t.getMonth(),r=t.getDate(),s=this.gantt.settings.viewType===i.ViewType.Days?t.getHours():e.getHours(),a=e.getMinutes(),l=e.getSeconds(),c=e.getMilliseconds();return new Date(n,o,r,s,a,l,c)}return t},e.prototype.startDependency=function(t){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.gantt.taskArea.appendChild(this.dependencyLine),this.startPosition=t},e.prototype.processDependency=function(e){this.isEditingInProgress=!0,this.drawline(this.startPosition,e)},e.prototype.endDependency=function(e){this.isEditingInProgress=!1,null!=e&&this.gantt.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,e);var t=this.dependencyLine.parentNode;t&&t.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},e.prototype.selectDependency=function(e){this.gantt.settings.editing.allowDependencyDelete&&(this.dependencyId=e)},e.prototype.isDependencySelected=function(e){return this.dependencyId&&this.dependencyId===e},e.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.gantt.commandManager.removeDependencyCommand.execute(this.dependencyId)},e.prototype.getTaskWrapperElementInfo=function(e){var t=this.gantt.gridLayoutCalculator,n=t.getTaskWrapperElementInfo(e);return n.size.width=t.getTaskWidth(e),n.size.height=t.getTaskHeight(e),n},e.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=e.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencyFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencyStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=e.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=e.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=e.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=e.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),s.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),s.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(e.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this.tooltip=new a.TaskEditTooltip(this.baseElement,this.gantt,this.gantt.elementTextHelper.cultureInfo),this.attachEvents()},e.prototype.attachEvents=function(){this.onMouseLeaveHandler=function(){this.isEditingInProgress||this.hide()}.bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},e.prototype.drawline=function(e,t){if(e.x>t.x){var n=t;t=e,e=n}var i=Math.atan((e.y-t.y)/(t.x-e.x));i=180*i/Math.PI,i=-i;var o=Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y));this.dependencyLine.style.left=e.x+"px",this.dependencyLine.style.top=e.y+"px",this.dependencyLine.style.width=o+"px",this.dependencyLine.style.transform="rotate("+i+"deg)"},e.prototype.canUpdateTask=function(){return!this.gantt.viewModel.isTaskToCalculateByChildren(this.task.internalId)},e.prototype.detachEvents=function(){var e;null===(e=this.baseElement)||void 0===e||e.removeEventListener("mouseleave",this.onMouseLeaveHandler)},e.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch"},e}();t.TaskEditController=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemState=void 0;var i=function(){function e(e,t){this.id=e,this.value=t}return e}();t.HistoryItemState=i},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerBase=void 0;var o=n(8),r=n(53),s=function(){function e(e){this.control=e,this.switchToDefaultState()}return e.prototype.switchState=function(e){this.state&&this.state.finish(),this.state=e,this.state.start()},e.prototype.switchToDefaultState=function(){throw new Error("Not implemented")},e.prototype.getEventSource=function(t){var n=t.nodeType===Node.ELEMENT_NODE?t:t.parentNode,i=n.classList[0];return e.classToSource[i]||o.MouseEventSource.TaskArea},e.classToSource=(i={},i[r.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=o.MouseEventSource.TaskEdit_Progress,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_START]=o.MouseEventSource.TaskEdit_Start,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_END]=o.MouseEventSource.TaskEdit_End,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=o.MouseEventSource.TaskEdit_Frame,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=o.MouseEventSource.TaskEdit_DependencyStart,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=o.MouseEventSource.TaskEdit_DependencyFinish,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=o.MouseEventSource.Successor_DependencyStart,i[r.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=o.MouseEventSource.Successor_DependencyFinish,i),e}();t.HandlerBase=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerDependencyState=t.dependencyMap=void 0;var i=n(0),o=n(3),r=n(2),s=n(6),a=n(34),l=n(8),c=n(13);t.dependencyMap=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart]=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish]=[],t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart][l.MouseEventSource.Successor_DependencyStart]=c.DependencyType.SS,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyStart][l.MouseEventSource.Successor_DependencyFinish]=c.DependencyType.SF,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish][l.MouseEventSource.Successor_DependencyStart]=c.DependencyType.FS,t.dependencyMap[l.MouseEventSource.TaskEdit_DependencyFinish][l.MouseEventSource.Successor_DependencyFinish]=c.DependencyType.FF;var u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(n,e),n.prototype.onMouseDown=function(e){var t=s.EvtUtils.getEventSource(e);this.source=this.handler.getEventSource(t);var n=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,r.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},n.prototype.onMouseUp=function(e){if(e instanceof PointerEvent){var n=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientHeight/2)),i=this.getRelativePos(new o.Point(r.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth/2,r.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight/2)),a=this.getRelativePos(new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e))),c=this.isTouchNearby(a,n)?l.MouseEventSource.Successor_DependencyStart:this.isTouchNearby(a,i)?l.MouseEventSource.Successor_DependencyFinish:null,u=c===l.MouseEventSource.Successor_DependencyStart||c==l.MouseEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][c]:null;this.handler.control.taskEditController.endDependency(u)}else{c=this.handler.getEventSource(s.EvtUtils.getEventSource(e)),u=c===l.MouseEventSource.Successor_DependencyStart||c==l.MouseEventSource.Successor_DependencyFinish?t.dependencyMap[this.source][c]:null;this.handler.control.taskEditController.endDependency(u)}this.handler.switchToDefaultState()},n.prototype.onMouseMove=function(e){e.preventDefault();var t=this.getRelativePos(new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e))),n=Math.floor(t.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(t),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},n.prototype.isTouchNearby=function(e,t){return Math.abs(t.x-e.x)<=10&&Math.abs(t.y-e.y)<=10},n}(a.MouseHandlerStateBase);t.MouseHandlerDependencyState=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerStateBase=void 0;var i=n(0),o=n(22),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){},t.prototype.onTouchMove=function(e){},t}(o.HandlerStateBase);t.TouchHandlerStateBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditDialogShowingArguments=t.TaskUpdatingArguments=t.TaskRemovingArguments=t.TaskInsertingArguments=void 0;var i=n(0),o=n(23),r=function(e){function t(t,n){var i=e.call(this,t)||this;return i.values=null!==n&&void 0!==n?n:{},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.TaskInsertingArguments=r;var s=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.TaskRemovingArguments=s;var a=function(e){function t(t,n,i){var o=e.call(this,t.id)||this;return o.values=t,o.createNewValues(n,i),o}return i.__extends(t,e),t.prototype.createNewValues=function(e,t){var n=this;this.newValues={};for(var i=function(i){var r=e[i];o.newValues[r]=t[i],Object.defineProperty(o,r,{get:function(){return n.newValues[r]}})},o=this,r=0;r<e.length;r++)i(r)},t}(o.BaseArguments);t.TaskUpdatingArguments=a;var l=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return i.__extends(t,e),t}(o.BaseArguments);t.TaskEditDialogShowingArguments=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceManagerDialogShowingArguments=t.ResourceRemovingArguments=t.ResourceInsertingArguments=void 0;var i=n(0),o=n(23),r=function(e){function t(t,n){void 0===n&&(n="");var i=e.call(this,null)||this;return i.values={text:t,color:n},i}return i.__extends(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.ResourceInsertingArguments=r;var s=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.ResourceRemovingArguments=s;var a=function(e){function t(t){var n=e.call(this,void 0)||this;return n.values.resources=t.resources,n}return i.__extends(t,e),t}(o.BaseArguments);t.ResourceManagerDialogShowingArguments=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveTaskHistoryItem=t.CreateTaskHistoryItem=void 0;var i=n(0),o=n(15),r=n(24),s=function(e){function t(t,n){var i=e.call(this,t)||this;return i.data=n,i}return i.__extends(t,e),t.prototype.redo=function(){this.taskId=this.modelManipulator.task.create(this.data,this.taskId?this.taskId:null).internalId},t.prototype.undo=function(){this.modelManipulator.task.remove(this.taskId)},t}(o.HistoryItem);t.CreateTaskHistoryItem=s;var a=function(e){function t(t){var n=e.call(this)||this;return n.taskIds=[],n.tasks=[],n.modelManipulator=t,n}return i.__extends(t,e),t.prototype.redo=function(){var t=this;e.prototype.redo.call(this),this.taskIds.forEach((function(e){t.tasks.push(t.modelManipulator.task.remove(e))}))},t.prototype.undo=function(){var t=this;if(this.tasks.length){var n=this.tasks.shift();this.modelManipulator.task.create(n,n.internalId,(function(){t.modelManipulator.task.properties.progress.setValue(n.internalId,n.progress),n.color&&t.modelManipulator.task.properties.color.setValue(n.internalId,n.color),t.tasks.length?t.undo():e.prototype.undo.call(t)}))}},t.prototype.undoItemsQuery=function(){while(this.tasks.length){var t=this.tasks.shift();this.modelManipulator.task.create(t,t.internalId,(function(){})),this.modelManipulator.task.properties.progress.setValue(t.internalId,t.progress),t.color&&this.modelManipulator.task.properties.color.setValue(t.internalId,t.color)}e.prototype.undo.call(this)},t.prototype.addTask=function(e){this.taskIds.push(e)},t.prototype.add=function(t){if(t instanceof r.RemoveDependencyHistoryItem){var n=t;this.historyItems.filter((function(e){return e instanceof r.RemoveDependencyHistoryItem&&e.dependencyId==n.dependencyId})).length||this.historyItems.push(n)}else e.prototype.add.call(this,t)},t}(o.CompositionHistoryItem);t.RemoveTaskHistoryItem=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintViolationDialogParameters=t.ConstraintViolationDialogCommand=t.ConstraintViolationOption=void 0;var i,o=n(0),r=n(27),s=n(24);(function(e){e[e["DoNothing"]=0]="DoNothing",e[e["RemoveDependency"]=1]="RemoveDependency",e[e["KeepDependency"]=2]="KeepDependency"})(i=t.ConstraintViolationOption||(t.ConstraintViolationOption={}));var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.applyParameters=function(e,t){return e.option!==i.DoNothing&&(e.option===i.RemoveDependency&&(this.history.beginTransaction(),this.history.addAndRedo(new s.RemoveDependencyHistoryItem(this.modelManipulator,t.validationError.dependencyId)),t.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([])),e.option===i.KeepDependency&&(t.callback(),this.control.barManager.updateItemsState([])),!0)},t.prototype.createParameters=function(e){var t=this.control.viewModel.dependencies.getItemById(e.validationError.dependencyId),n=this.control.viewModel.tasks.getItemById(t.successorId),i=this.control.viewModel.tasks.getItemById(t.predecessorId);return e.successorTaskTitle=n.title,e.predecessorTaskTitle=i.title,e},t.prototype.getDialogName=function(){return"ConstraintViolation"},t}(r.DialogBase);t.ConstraintViolationDialogCommand=a;var l=function(e){function t(t,n){var i=e.call(this)||this;return i.validationError=t,i.callback=n,i}return o.__extends(t,e),t.prototype.clone=function(){var e=new t(this.validationError,this.callback);return e.option=this.option,e},t}(r.DialogParametersBase);t.ConstraintViolationDialogParameters=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EllipsisHelper=void 0;var i=function(){function e(){}return e.limitPdfTextWithEllipsis=function(t,n,i){if(!(null===n||void 0===n?void 0:n.getTextWidth)||!i)return t;var o=n.getTextWidth(t);if(o>i){var r=e.ellipsis,s=0;while(n.getTextWidth(r)<i){var a=t[s];r=r.substr(0,s)+a+r.substr(s),s++}return r}return t},e.ellipsis="...",e}();t.EllipsisHelper=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Width=void 0;var i=n(39),o=n(2),r=function(){function e(e){this.assign(e)}return e.prototype.assign=function(t){if(t instanceof e)this._widthInternal=t._widthInternal;else{var n="number"===typeof t?t:parseInt(t);isNaN(n)?this.assignFromString(t):this._widthInternal=n}},e.prototype.assignFromString=function(e){if(e){var t=o.DomUtils.pxToInt(e);this._widthInternal=t||i.PredefinedStyles.getPredefinedStringOrUndefined(e,i.PredefinedStyles.width)}},e.prototype.hasValue=function(){return!!this._widthInternal},e.prototype.getValue=function(){return this._widthInternal},e}();t.Width=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfDependencyLineInfo=void 0;var i=n(3),o=n(16),r=function(){function e(){}return e.prototype.assign=function(e){var t;this._copyPoints(e.points),this.arrowInfo=e.arrowInfo,null!==(t=this.fillColor)&&void 0!==t||(this.fillColor=new o.Color),this.fillColor.assign(e.fillColor)},e.prototype._copyPoints=function(e){var t=this;this.points=new Array,null===e||void 0===e||e.forEach((function(e){return t.points.push(new i.Point(e.x,e.y))}))},e}();t.PdfDependencyLineInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfTaskResourcesInfo=void 0;var i=n(1),o=n(19),r=function(){function e(e,t,n,r){e&&(this.text=e),t&&(this.style=new o.StyleDef(t)),i.isDefined(n)&&(this.x=n),i.isDefined(r)&&(this.y=r)}return e.prototype.assign=function(e){this.text=e.text,this.style=new o.StyleDef(e.style),this.x=e.x,this.y=e.y},e}();t.PdfTaskResourcesInfo=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttView=t.default=void 0,n(67);var i=n(68);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.GanttView}}),Object.defineProperty(t,"GanttView",{enumerable:!0,get:function(){return i.GanttView}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttView=void 0;var i=n(69),o=n(11),r=n(33),s=n(2),a=n(10),l=n(9),c=n(3),u=n(51),d=n(14),h=n(93),p=n(53),g=n(8),f=n(95),m=n(100),y=n(102),v=n(117),T=n(52),_=n(118),k=n(120),w=n(135),b=n(5),C=n(136),I=n(4),S=n(137),D=n(60),M=n(1),E=n(25),x=n(139),P=n(144),A=function(){function e(e,t,n){var i=this;this.timeScaleAreas=new Array,this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.resourcesElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedScaleItemIndices=[],this.dependencyMap=[],this.invalidTaskDependencies=[],this.renderedConnectorLines=[],this.connectorLinesToElementsMap={},this.noWorkingIntervalsToElementsMap={},this.renderedNoWorkingIntervals=[],this.renderedStripLines=[],this.stripLinesMap=[],this.gridLayoutCalculator=new d.GridLayoutCalculator,this.etalonSizeValues=new h.EtalonSizeValues,this.tickSize=new l.Size(0,0),this.scaleCount=2,this.isFocus=!1,this.currentZoom=1,this.maxZoom=3,this.stripLinesUpdaterId=null,this.currentSelectedTaskID="",this.ganttOwner=t,this.settings=T.Settings.parse(n),this.elementTextHelper=new r.ElementTextHelper(n.cultureInfo),this.validationController=new C.ValidationController(this),this.createMainElement(e),this.createHeader(),this.calculateEtalonSizeValues(),this.createTaskAreaContainer(),this.loadOptionsFromGanttOwner(),this.elementTextHelper.setFont(this.mainElement),this.setupHelpers(),this.setSizeForTaskArea(),this.createTimeScaleContainer(),this.createTimeScaleAreas(),this.commandManager=new k.CommandManager(this),this.barManager=new w.BarManager(this,t.bars),this.eventManager=new y.EventManager(this),this.taskEditController=new p.TaskEditController(this),this.history=new m.History,this.taskAreaManager=new g.TaskAreaManager(this),this.fullScreenModeHelper=new S.FullScreenModeHelper(this),this.onWindowResizelHandler=this.onBrowserWindowResize.bind(this),window.addEventListener("resize",this.onWindowResizelHandler),this.updateView(),setTimeout((function(){i.scrollLeftByViewType()}),0),this.initializeStripLinesUpdater()}return e.prototype.reset=function(){this.timeScaleContainer.innerHTML="",this.taskArea.innerHTML="",this.horTaskAreaBorders=[],this.vertTaskAreaBorders=[],this.scaleBorders=[],this.scaleElements=[],this.taskElements=[],this.selectionElements=[],this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this.renderedConnectorLines=[],this.timeScaleAreas=[],this.renderedScaleItemIndices=[],this.connectorLinesToElementsMap={},this.renderedNoWorkingIntervals=[],this.renderedStripLines=[],this.noWorkingIntervalsToElementsMap={},this.invalidTaskDependencies=[]},e.prototype.setupHelpers=function(){var e=new l.Size(this.taskAreaContainer.getWidth(),this.taskAreaContainer.getHeight()),t=this.taskAreaContainer.getHeight()-this.taskAreaContainer.getElement().clientHeight;this.gridLayoutCalculator.setSettings(e,this.tickSize,this.etalonSizeValues,this.range,this.viewModel,this.settings.viewType,t),this.elementTextHelper.setSettings(this.range.start.getTime(),this.settings.viewType,this.viewModel.items)},e.prototype.getDateRange=function(e,t){var n=new Date(e.getTime()-this.getVisibleAreaTime());n=r.DateUtils.adjustStartDateByViewType(n,this.settings.viewType,this.settings.firstDayOfWeek);var i=new Date(t.getTime()+this.getVisibleAreaTime());return i=r.DateUtils.adjustEndDateByViewType(i,this.settings.viewType,this.settings.firstDayOfWeek),new a.DateRange(n,i)},e.prototype.getVisibleAreaTime=function(){var e=Math.ceil(this.taskAreaContainer.getWidth()/this.tickSize.width);return e*r.DateUtils.getTickTimeSpan(this.settings.viewType)},e.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),t=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(t),this.mainElement.removeChild(e)},e.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=s.DomUtils.pxToInt(s.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=s.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=s.DomUtils.getHorizontalBordersWidth(e[3]);for(var t=0;t<=o.ViewType.Years;t++)e[4].innerText=this.elementTextHelper.getScaleItemTextTemplate(t),this.etalonSizeValues.scaleItemWidths[t]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(s.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=s.DomUtils.pxToFloat(s.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.ganttOwner.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},e.prototype.getSmallTaskWidth=function(e){var t=0;if(null!=e&&""!=e){var n=e.indexOf("rem");if(n>-1)try{var i=parseFloat(e.substr(0,n));t=i*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch(o){}else t=s.DomUtils.pxToInt(e)}return 2*t},e.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},e.prototype.createEtalonElements=function(e){var t=[],n=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),i=this.createElement(new u.GridElementInfo("dx-gantt-task"),null,n),o=this.createElement(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,i);o.innerText="WWW",t.push(n);var r=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e);this.createElement(new u.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,r),t.push(r);for(var s=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],a=0;a<s.length;a++){var l=new u.GridElementInfo(s[a]);t.push(this.createElement(l,null,e))}var c=this.createElement(new u.GridElementInfo("dx-gantt-taskWrapper"),null,e),d=this.createElement(new u.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,c),h=this.createElement(new u.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,d);return h.innerText="WWW",t.push(c),t},e.prototype.zoomIn=function(e){void 0===e&&(e=this.taskAreaContainer.getWidth()/2);var t=this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft+e);this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>o.ViewType.TenMinutes&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(t,-e)},e.prototype.zoomOut=function(e){void 0===e&&(e=this.taskAreaContainer.getWidth()/2);var t=this.gridLayoutCalculator.getDateByPos(this.taskAreaContainer.scrollLeft+e);this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<o.ViewType.Years&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(t,-e)},e.prototype.scrollToDate=function(e){if(e){var t=e instanceof Date?r.DateUtils.getOrCreateUTCDate(e):r.DateUtils.parse(e);this.scrollToDateCore(t,0)}},e.prototype.scrollLeftByViewType=function(){var e=r.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(e,1)},e.prototype.scrollToDateCore=function(e,t){this.taskAreaContainer.scrollLeft=Math.round(this.gridLayoutCalculator.getPosByDate(e))+t},e.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},e.prototype.initializeStripLinesUpdater=function(){var e=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval((function(){e.recreateStripLines&&e.recreateStripLines()}),Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},e.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},e.prototype.getGanttViewStartDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"===typeof e.start?new Date(e.start):e.start})).filter((function(e){return M.isDefined(e)}));return t.length>0?t.reduce((function(e,t){return t<e?t:e}),t[0]):new Date},e.prototype.getGanttViewEndDate=function(e){if(!e)return new Date;var t=e.map((function(e){return"string"===typeof e.end?new Date(e.end):e.end})).filter((function(e){return M.isDefined(e)}));return t.length>0?t.reduce((function(e,t){return t>e?t:e}),t[0]):new Date},e.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.horizontalTickCount*this.tickSize.width},e.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},e.prototype.getTask=function(e){var t=this.getViewItem(e);return null===t||void 0===t?void 0:t.task},e.prototype.getViewItem=function(e){var t;return null===(t=this.viewModel)||void 0===t?void 0:t.items[e]},e.prototype.createMainElement=function(e){this.mainElement=document.createElement("DIV"),this.mainElement.style.width=e.offsetWidth+"px",this.mainElement.style.height=e.offsetHeight+"px",e.appendChild(this.mainElement)},e.prototype.createHeader=function(){this.header=document.createElement("DIV"),this.header.className="dx-gantt-header",this.mainElement.appendChild(this.header)},e.prototype.createTimeScaleContainer=function(){this.timeScaleContainer=document.createElement("DIV"),this.timeScaleContainer.className="dx-gantt-tsac",this.timeScaleContainer.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this.header.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var e=document.createElement("DIV");return e.className="dx-gantt-tsa",e.style.width=this.getTaskAreaWidth()+"px",e.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(e),this.timeScaleAreas.unshift(e),e},e.prototype.createTimeScaleAreas=function(){for(var e=0;e<this.scaleCount;e++){var t=this.createTimeScaleArea();0===e&&this.settings.viewType==o.ViewType.Weeks&&this.createMonthsScale(t)}},e.prototype.createTaskAreaContainer=function(){var e=document.createElement("DIV");e.className="dx-gantt-tac",this.mainElement.appendChild(e),this.createTaskArea(e),this.taskAreaContainer=this.ganttOwner.getExternalTaskAreaContainer(e),null==this.taskAreaContainer&&(this.taskAreaContainer=new v.TaskAreaContainer(e,this)),this.prepareTaskAreaContainer()},e.prototype.prepareTaskAreaContainer=function(){var e="dx-gantt-tac-hb",t=this.taskAreaContainer.getElement();this.settings.areHorizontalBordersEnabled?s.DomUtils.addClassName(t,e):s.DomUtils.removeClassName(t,e);var n=parseInt(getComputedStyle(t).getPropertyValue("margin-top"))||0;t.style.height="calc(100% - "+(this.etalonSizeValues.scaleItemHeight*this.scaleCount+n)+"px)"},e.prototype.createTaskArea=function(e){this.taskArea=document.createElement("DIV"),this.taskArea.id="dx-gantt-ta",e.appendChild(this.taskArea)},e.prototype.setSizeForTaskArea=function(){this.taskArea.style.width=this.getTaskAreaWidth()+"px",this.taskArea.style.height=this.getTaskAreaHeight()+"px"},e.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.etalonSizeValues.scaleItemWidths[this.settings.viewType]*this.currentZoom},e.prototype.createMonthsScale=function(e){var t=new Date;t.setTime(this.range.start.getTime());var n=0,i=0;while(t.getTime()<this.range.end.getTime()){var s=r.DateUtils.getDaysInMonth(t.getMonth(),t.getFullYear()),a=s-t.getDate()+1,d=new Date;d.setTime(t.getTime()+Math.min(a*r.DateUtils.msPerDay,this.range.end.getTime()-t.getTime()));var h=this.gridLayoutCalculator.getWidthByDateRange(t,d),p=new u.GridElementInfo("dx-gantt-si",new c.Point(n,void 0),new l.Size(h,this.etalonSizeValues.scaleItemHeight)),g=this.createElement(p,null,e);g.innerText=this.elementTextHelper.getScaleItemText(i,o.ViewType.Months),g.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px";var f=new u.GridElementInfo("dx-gantt-vb",new c.Point(n+h,void 0),new l.Size(0,this.etalonSizeValues.scaleItemHeight));this.createElement(f,null,e),n+=h,i++,t=d}},e.prototype.updateView=function(){this.onBeginUpdateView(),this.timeScaleContainer.scrollLeft=this.taskAreaContainerScrollLeft,this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},e.prototype.onBeginUpdateView=function(){this[e.taskAreaScrollTopKey]=this.taskAreaContainer.scrollTop,this[e.taskAreaScrollLeftKey]=this.taskAreaContainer.scrollLeft},e.prototype.onEndUpdateView=function(){delete this[e.taskAreaScrollTopKey],delete this[e.taskAreaScrollLeftKey],delete this[e.taskTextHeightKey]},e.prototype.getTaskTextHeight=function(e){e.innerText="WWW";var t=getComputedStyle(e).height;return e.innerText="",t},Object.defineProperty(e.prototype,"taskAreaContainerScrollTop",{get:function(){var t;return null!==(t=this[e.taskAreaScrollTopKey])&&void 0!==t?t:this.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaContainerScrollLeft",{get:function(){var t;return null!==(t=this[e.taskAreaScrollLeftKey])&&void 0!==t?t:this.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),e.prototype.processScroll=function(e){this.taskEditController.tooltip.hide(),this.recreateTaskAreaBordersAndTaskElements(e),e?this.recreateConnectorLineElements():(this.recreateNoWorkingIntervalElements(),this.recreateStripLines(),this.recreateScalesElements())},e.prototype.recreateTaskAreaBordersAndTaskElements=function(e){var t=this,n=e?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,i=this.gridLayoutCalculator.getRenderedRowColumnIndices(n,e),o=e?this.renderedRowIndices:this.renderedColIndices;this.recreateElements(o,i,(function(n){t.removeTaskAreaBorderAndTaskElement(n,e)}),(function(n){t.createTaskAreaBorderAndTaskElement(n,e)})),e?this.renderedRowIndices=i:this.renderedColIndices=i,this.gridLayoutCalculator.createTileToConnectorLinesMap()},e.prototype.recreateNoWorkingIntervalElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);this.recreateElements(this.renderedNoWorkingIntervals,t,(function(t){e.removeNoWorkingIntervalElement(t)}),(function(t){e.createNoWorkingIntervalElement(t)})),this.renderedNoWorkingIntervals=t},e.prototype.recreateStripLines=function(){var e=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.settings.stripLines);this.recreateElements(this.renderedStripLines,t,(function(t){e.removeElement(t,null,e.taskArea,e.stripLinesMap)}),(function(t){return e.createElement(t,null,e.taskArea,e.stripLinesMap)})),this.renderedStripLines=t},e.prototype.recreateConnectorLineElements=function(){var e=this,t=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);this.recreateElements(this.renderedConnectorLines,t,(function(t){e.removeConnectorLineElement(t)}),(function(t){e.createConnectorLineElement(t)})),this.renderedConnectorLines=t},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.settings.viewType,0),this.settings.viewType!=o.ViewType.Weeks&&this.recreateScaleElements(r.DateUtils.ViewTypeToScaleMap[this.settings.viewType],1)},e.prototype.recreateScaleElements=function(e,t){var n=this,i=this.gridLayoutCalculator.getRenderedScaleItemIndices(e,this.renderedColIndices),o=this.renderedScaleItemIndices[e-this.settings.viewType]||[];this.recreateElements(o,i,(function(e){n.removeScaleElementAndBorder(e,t)}),(function(i){n.createScaleElementAndBorder(i,t,e)})),this.renderedScaleItemIndices[e-this.settings.viewType]=i},e.prototype.recreateElements=function(e,t,n,i){e.filter((function(e){return-1===t.indexOf(e)})).forEach((function(e){n(e)})),t.filter((function(t){return-1===e.indexOf(t)})).forEach((function(e){i(e)}))},e.prototype.recreateTaskElement=function(e){var t=this,n=this.renderedRowIndices.filter((function(t){return t===e})).length>0,i=this.getTask(e);if(i){n&&(this.removeTaskElement(e),this.createTaskElement(e,this.settings.taskContentTemplate));var o=this.getTaskDependencies(i.id);o.length&&o.forEach((function(e){return t.recreateConnectorLineElement(e.internalId)}))}},e.prototype.recreateConnectorLineElement=function(e,t){var n=this;void 0===t&&(t=!1);var i=[];this.renderedConnectorLines=this.renderedConnectorLines.filter((function(t){return t.attr["dependency-id"]!=e||(i.push(t),!1)}));var o=i.length>0;i.forEach((function(e){n.removeConnectorLineElement(e)})),i=this.gridLayoutCalculator.updateTileToConnectorLinesMap(e),(o||t)&&i.forEach((function(e){n.createConnectorLineElement(e),n.renderedConnectorLines.push(e)}))},e.prototype.allowTaskAreaBorders=function(e){return e?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},e.prototype.createTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.createTaskAreaBorder(e,!t),t&&this.createTaskElement(e,this.settings.taskContentTemplate)},e.prototype.removeTaskAreaBorderAndTaskElement=function(e,t){this.allowTaskAreaBorders(t)&&this.removeTaskAreaBorder(e,!t),t&&this.removeTaskElement(e)},e.prototype.getTaskAreaBordersDictionary=function(e){return e?this.vertTaskAreaBorders:this.horTaskAreaBorders},e.prototype.createTaskAreaBorder=function(e,t){var n=this.gridLayoutCalculator.getTaskAreaBorderInfo(e,t);this.createElement(n,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.removeTaskAreaBorder=function(e,t){this.removeElement(null,e,this.taskArea,this.getTaskAreaBordersDictionary(t))},e.prototype.createScaleElementAndBorder=function(e,t,n){this.createScaleElement(e,t,n),this.createScaleBorder(e,t,n)},e.prototype.createScaleElement=function(e,t,n){var i=this.gridLayoutCalculator.getScaleElementInfo(e,n),r=this.createScaleElementCore(e,i,t,this.scaleElements);r.innerText=this.elementTextHelper.getScaleItemText(e,n),r.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",n===o.ViewType.Quarter&&(r.style.padding="0")},e.prototype.getScaleItemText=function(e,t){return this.elementTextHelper.getScaleItemText(e,t)},e.prototype.getTaskText=function(e){return this.elementTextHelper.getTaskText(e)},e.prototype.rowHasChildren=function(e){var t=this.getViewItem(e);return(null===t||void 0===t?void 0:t.children.length)>0},e.prototype.rowHasSelection=function(e){var t=this.getViewItem(e);return null===t||void 0===t?void 0:t.selected},e.prototype.getAllVisibleTaskIndices=function(){return this.viewModel.getAllVisibleTaskIndices()},e.prototype.getVisibleDependencyKeysByTaskRange=function(e){var t=this.viewModel,n=e.map((function(e){return t.tasks.items[e].internalId})),i=t.dependencies.items;return i.filter((function(e){return n.indexOf(e.successorId)>-1||n.indexOf(e.predecessorId)>-1})).map((function(e){return e.internalId}))},e.prototype.getTreeListTableStyle=function(){var e,t;return null===(t=(e=this.ganttOwner).getTreeListTableStyle)||void 0===t?void 0:t.call(e)},e.prototype.getTreeListColCount=function(){var e,t;return null===(t=(e=this.ganttOwner).getTreeListColCount)||void 0===t?void 0:t.call(e)},e.prototype.getTreeListHeaderInfo=function(e){var t,n;return null===(n=(t=this.ganttOwner).getTreeListHeaderInfo)||void 0===n?void 0:n.call(t,e)},e.prototype.getTreeListCellInfo=function(e,t){var n,i;return null===(i=(n=this.ganttOwner).getTreeListCellInfo)||void 0===i?void 0:i.call(n,e,t)},e.prototype.exportToPdf=function(e){var t;null!==(t=e["docCreateMethod"])&&void 0!==t||(e["docCreateMethod"]=this.getDefaultPdfDocCreateMethod());var n=new x.PdfGanttExporter(new P.GanttExportCalculator(this,e));return n.export()},e.prototype.getDefaultPdfDocCreateMethod=function(){var e;return null===(e=window["jspdf"])||void 0===e?void 0:e["jsPDF"]},e.prototype.createScaleBorder=function(e,t,n){var i=this.gridLayoutCalculator.getScaleBorderInfo(e,n);this.createScaleElementCore(e,i,t,this.scaleBorders)},e.prototype.createScaleElementCore=function(e,t,n,i){return i[n]||(i[n]=[]),this.createElement(t,e,this.timeScaleAreas[n],i[n])},e.prototype.removeScaleElementAndBorder=function(e,t){this.removeElement(null,e,this.timeScaleAreas[t],this.scaleElements[t]),this.removeElement(null,e,this.timeScaleAreas[t],this.scaleBorders[t])},e.prototype.createCustomTaskWrapperElement=function(e,t){this.createElement(t,e,this.taskArea,this.taskElements)},e.prototype.createCustomTaskVisualElement=function(e,t){var n=this.createElement(t,e,this.taskElements[e]);return n},e.prototype.createCustomTaskInformation=function(e){var t=this.getTask(e),n=this.gridLayoutCalculator.getTaskWrapperElementInfo(e),i=this.gridLayoutCalculator.getTaskElementInfo(e,this.settings.taskTitlePosition!==o.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(e,n);var r=this.createCustomTaskVisualElement(e,i);this.createTaskTextElement(e,r);var s=this.getTaskResources(t.id),a={cellSize:this.tickSize,isMilestone:t.isMilestone(),taskData:t,taskHTML:r,taskPosition:n.position,taskResources:s,taskSize:i.size};return a},e.prototype.createCustomTaskElement=function(e,t){var n=this,i=this.getViewItem(e);i.isCustom=!1;var o=document.createElement("DIV"),r=this.createCustomTaskInformation(e);i.isCustom=!0,t(o,r,(function(e,t){n.drawCustomTask(e,t)}),e)},e.prototype.drawCustomTask=function(e,t){var n=this,i=this.getViewItem(t);if(i.visible=!!e.innerHTML,this.taskElements[t].innerHTML=e.innerHTML,i.size.height=this.taskElements[t].offsetHeight,i.size.width=this.taskElements[t].offsetWidth,this.destroyTemplate(this.taskElements[t]),this.removeTaskElement(t),i.visible){var o=this.gridLayoutCalculator.getTaskWrapperElementInfo(t);this.createCustomTaskWrapperElement(t,o),this.taskElements[t].appendChild(e),this.taskAreaManager.attachEventsOnTask(this.taskElements[t])}else{var r=this.getTaskDependencies(i.task.id);r.length&&(this.addInvalidTaskDependencies(r),r.forEach((function(e){return n.recreateConnectorLineElement(e.internalId,!0)})))}},e.prototype.createDefaultTaskElement=function(e){var t=this.getViewItem(e);this.createTaskWrapperElement(e),this.settings.taskTitlePosition===o.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var n=this.createTaskVisualElement(e);t.task.isMilestone()||(this.settings.taskTitlePosition===o.TaskTitlePosition.Inside&&this.createTaskTextElement(e,n),this.createTaskProgressElement(e,n)),this.settings.showResources&&(this.createResourcesWrapperElement(e),this.createResources(e))},Object.defineProperty(e.prototype,"fakeTaskWrapper",{get:function(){var e;return null!==(e=this._fakeTaskWrapper)&&void 0!==e||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),e.prototype.createFakeTaskWrapper=function(){var e,t,n=null!==(t=null===(e=this.viewModel.items.filter((function(e){return e.task&&!e.task.isMilestone}))[0])||void 0===e?void 0:e.visibleIndex)&&void 0!==t?t:0,i=this.gridLayoutCalculator,o=this.createElement(i.getTaskWrapperElementInfo(n),null,this.taskArea),r=this.createElement(i.getTaskElementInfo(n),null,o);return this.createTaskTextElement(n,r),this.createTaskProgressElement(n,r),o.style.display="none",o},e.prototype.createTaskElement=function(e,t){var n=this.getViewItem(e);if(this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e),t&&this.createCustomTaskElement(e,t),n.selected&&this.createTaskSelectionElement(e),n.task.isValid()&&n.visible)n.isCustom||this.createDefaultTaskElement(e);else{var i=this.getTaskDependencies(n.task.id);this.addInvalidTaskDependencies(i)}},e.prototype.getTaskDependencies=function(e){return this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}))},e.prototype.addInvalidTaskDependencies=function(e){this.invalidTaskDependencies=this.invalidTaskDependencies.concat(e)},e.prototype.isHighlightRowElementAllowed=function(e){var t=this.getViewItem(e);return e%2!==0&&this.settings.areAlternateRowsEnabled||t.children.length>0},e.prototype.createResourcesWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(e);this.createElement(t,e,this.taskArea,this.resourcesElements),this.resourcesElements[e].style.display=this.elementTextHelper.getTaskVisibility(e)?"":"none"},e.prototype.createResources=function(e){for(var t=this.getViewItem(e),n=t.resources.items,i=0;i<n.length;i++)this.createResourceElement(e,n[i])},e.prototype.createTaskWrapperElement=function(e){var t=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);this.createElement(t,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.elementTextHelper.getTaskVisibility(e)?"":"none"},e.prototype.createTaskVisualElement=function(e){var t=this.gridLayoutCalculator.getTaskElementInfo(e,this.settings.taskTitlePosition!==o.TaskTitlePosition.Inside),n=this.createElement(t,e,this.taskElements[e]);return this.taskAreaManager.attachEventsOnTask(n),n},e.prototype.createTaskProgressElement=function(e,t){var n=this.gridLayoutCalculator.getTaskProgressElementInfo(e);this.createElement(n,e,t)},e.prototype.createTaskTextElement=function(t,n){var i,r,s=this.gridLayoutCalculator.getTaskTextElementInfo(t,this.settings.taskTitlePosition==o.TaskTitlePosition.Inside),a=this.createElement(s,t,n),l=this.elementTextHelper.getTaskText(t);l||(null!==(i=this[r=e.taskTextHeightKey])&&void 0!==i||(this[r]=this.getTaskTextHeight(a)),a.style.height=this[e.taskTextHeightKey]),a.innerText=l},e.prototype.createResourceElement=function(e,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var i=this.createElement(n,e,this.resourcesElements[e]);i.innerText=t.text},e.prototype.createTaskSelectionElement=function(e){var t=this.gridLayoutCalculator.getSelectionElementInfo(e);this.taskAreaContainer.isExternal&&!this.settings.areHorizontalBordersEnabled&&t.size.height++,this.createElement(t,e,this.taskArea,this.selectionElements)},e.prototype.createHighlightRowElement=function(e){var t=this.gridLayoutCalculator.getHighlightRowInfo(e);this.createElement(t,e,this.taskArea,this.hlRowElements)},e.prototype.removeTaskElement=function(e){var t=this.getTask(e);this.invalidTaskDependencies=this.invalidTaskDependencies.filter((function(e){return e.predecessorId!=t.id||e.successorId!=t.id})),this.taskAreaManager.detachEventsOnTask(this.taskElements[e]),this.removeElement(null,e,this.taskArea,this.taskElements),this.removeElement(null,e,this.taskArea,this.resourcesElements),this.removeElement(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&this.removeElement(null,e,this.taskArea,this.hlRowElements)},e.prototype.createConnectorLineElement=function(e){var t=e.attr["dependency-id"],n=this.invalidTaskDependencies.some((function(e){return e.id==t}));if(!n)return this.taskEditController.isDependencySelected(t)&&(e.className=e.className+" active"),this.createElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.removeConnectorLineElement=function(e){this.removeElement(e,null,this.taskArea,this.connectorLinesToElementsMap)},e.prototype.createNoWorkingIntervalElement=function(e){return this.createElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.removeNoWorkingIntervalElement=function(e){this.removeElement(e,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},e.prototype.createElement=function(e,t,n,i){var o=document.createElement("DIV");for(var r in e.assignToElement(o),n.appendChild(o),i&&(i instanceof Array&&null!==t?i[t]=o:i[e.id]=o),e.attr)Object.prototype.hasOwnProperty.call(e.attr,r)&&o.setAttribute(r,e.attr[r]);for(var r in e.style)Object.prototype.hasOwnProperty.call(e.style,r)&&(o.style[r]=e.style[r]);return o},e.prototype.removeElement=function(e,t,n,i){var o;i instanceof Array&&null!==t?(o=i[t],delete i[t]):(o=i[e.id],delete i[e.id]),o&&o.parentNode==n&&n.removeChild(o)},e.prototype.calculateAutoViewType=function(e,t){var n=(t.getTime()-e.getTime())/36e5;return n>8760?o.ViewType.Years:n>720?o.ViewType.Months:n>168?o.ViewType.Weeks:n>24?o.ViewType.Days:n>6?o.ViewType.SixHours:n>1?o.ViewType.Hours:o.ViewType.TenMinutes},e.prototype.changeTaskExpanded=function(e,t){var n=this.getTaskByPublicId(e);n&&this.viewModel.changeTaskExpanded(n.internalId,t)},e.prototype.expandTask=function(e){this.viewModel.changeTaskExpanded(e,!0)},e.prototype.collapseTask=function(e){this.viewModel.changeTaskExpanded(e,!1)},e.prototype.showTask=function(e){this.viewModel.changeTaskVisibility(e,!0)},e.prototype.hideTask=function(e){this.viewModel.changeTaskVisibility(e,!1)},e.prototype.getTaskVisibility=function(e){return this.viewModel.getTaskVisibility(e)},e.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},e.prototype.getTaskSelected=function(e){return this.viewModel.getTaskSelected(e)},e.prototype.setViewType=function(e,t){void 0===t&&(t=!0),void 0==e&&(e=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==e&&(this.settings.viewType=e,this.updateTickSizeWidth(),this.resetAndUpdate(),t&&this.scrollLeftByViewType(),this.ganttOwner.UpdateGanttViewType&&this.ganttOwner.UpdateGanttViewType(e))},e.prototype.setTaskTitlePosition=function(e){this.settings.taskTitlePosition!==e&&(this.settings.taskTitlePosition=e,this.resetAndUpdate())},e.prototype.setShowResources=function(e){this.settings.showResources!==e&&(this.settings.showResources=e,this.resetAndUpdate())},e.prototype.setFirstDayOfWeek=function(e){this.settings.firstDayOfWeek!==e&&(this.settings.firstDayOfWeek=e,this.resetAndUpdate())},e.prototype.loadOptionsFromGanttOwner=function(){this.tickSize.height=this.ganttOwner.getRowHeight();var e=this.ganttOwner.getGanttTasksData();this.dataRange=new a.DateRange(this.getGanttViewStartDate(e),this.getGanttViewEndDate(e)),void 0==this.settings.viewType&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new _.ModelChangesDispatcher;var t=this.ganttOwner.getModelChangesListener();t&&this.dispatcher.onModelChanged.add(t),this.viewModel=new i.ViewVisualModel(this,e,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new f.ModelManipulator(this.viewModel,this.dispatcher)},e.prototype.resetAndUpdate=function(){this.reset(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.setupHelpers(),this.createTimeScaleAreas(),this.setSizeForTaskArea(),b.Browser.IE&&this.taskEditController.createElements(),this.updateView()},e.prototype.cleanMarkup=function(){this.taskAreaManager.detachEvents(),this.taskEditController.detachEvents(),window.removeEventListener("resize",this.onWindowResizelHandler),this.clearStripLinesUpdater(),this.reset()},e.prototype.updateRowHeights=function(e){if(this.tickSize.height!==e){this.tickSize.height=e;var t=this.taskAreaContainer.scrollLeft;this.resetAndUpdate(),this.taskAreaContainer.scrollLeft=t}},e.prototype.selectTask=function(e){this.selectDependency(null),this.viewModel.changeTaskSelected(e,!0),this.currentSelectedTaskID=e,this.updateBarManager()},e.prototype.unselectTask=function(e){this.viewModel.changeTaskSelected(e,!1),this.updateBarManager()},e.prototype.selectTaskById=function(e){this.unselectCurrentSelectedTask();var t=this.getTaskByPublicId(e);t&&this.selectTask(t.internalId)},e.prototype.selectDependency=function(e){this.taskEditController.selectDependency(e),this.gridLayoutCalculator.createTileToConnectorLinesMap(),this.recreateConnectorLineElements()},e.prototype.getTaskAreaContainer=function(){return this.taskAreaContainer},e.prototype.setWidth=function(e){this.mainElement.style.width=e+"px"},e.prototype.setHeight=function(e){this.mainElement.style.height=e+"px"},e.prototype.setAllowSelection=function(e){this.settings.allowSelectTask=e},e.prototype.setEditingSettings=function(e){this.settings.editing=e,this.updateBarManager()},e.prototype.setValidationSettings=function(e){this.settings.validation=e},e.prototype.setRowLinesVisible=function(e){this.settings.areHorizontalBordersEnabled=e,this.prepareTaskAreaContainer(),this.resetAndUpdate()},e.prototype.setStripLines=function(e){this.settings.stripLines=T.StripLineSettings.parse(e),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.recreateStripLines()},e.prototype.deleteTask=function(e){var t=this.getTaskByPublicId(e.toString());t&&this.commandManager.removeTaskCommand.execute(t.internalId,!1,!0)},e.prototype.insertTask=function(e){if(e){var t=null!=e.parentId?String(e.parentId):null,n=this.getTaskByPublicId(t),i=this.viewModel.getRootTaskId(),o="string"===typeof e.start?new Date(e.start):e.start,r="string"===typeof e.end?new Date(e.end):e.end,s={parentId:i&&t===i?t:null===n||void 0===n?void 0:n.internalId,title:e.title,start:o,end:r,progress:parseInt(e.progress)||0,color:e.color};if(this.commandManager.createTaskCommand.execute(s))return this.getLastInsertedTaskId()}return""},e.prototype.updateTask=function(e,t){var n=this.getTaskByPublicId(e.toString());n&&t&&this.commandManager.updateTaskCommand.execute(n.internalId,t)},e.prototype.getTaskData=function(e){var t=this.getTaskByPublicId(e.toString());if(t)return this.viewModel.getTaskObjectForDataSource(t)},e.prototype.insertDependency=function(e){if(e){var t=String(e.predecessorId),n=String(e.successorId),i=e.type;this.commandManager.createDependencyCommand.execute(t,n,i)}},e.prototype.deleteDependency=function(e){var t=this.viewModel.convertPublicToInternalKey("dependency",e);M.isDefined(t)&&this.commandManager.removeDependencyCommand.execute(t)},e.prototype.getDependencyData=function(e){return this.viewModel.getDependencyObjectForDataSource(e)},e.prototype.insertResource=function(e,t){var n=this;if(e){var i=function(e){if(M.isDefined(t))for(var i=0;i<t.length;i++)n.assignResourceToTask(e,t[i])};this.commandManager.createResourceCommand.execute(String(e.text),e.color&&String(e.color),i)}},e.prototype.deleteResource=function(e){var t=this.viewModel.convertPublicToInternalKey("resource",e);M.isDefined(t)&&this.commandManager.removeResourceCommand.execute(t)},e.prototype.assignResourceToTask=function(e,t){var n=this.viewModel.convertPublicToInternalKey("resource",e),i=this.viewModel.convertPublicToInternalKey("task",t);M.isDefined(n)&&M.isDefined(i)&&this.commandManager.assignResourceCommand.execute(n,i)},e.prototype.unassignResourceFromTask=function(e,t){var n=this.viewModel.findAssignment(e,t);n&&this.commandManager.deassignResourceCommand.execute(n.internalId)},e.prototype.getResourceData=function(e){return this.viewModel.getResourceObjectForDataSource(e)},e.prototype.getResourceAssignmentData=function(e){return this.viewModel.getResourceAssignmentObjectForDataSource(e)},e.prototype.getTaskResources=function(e){var t=this.viewModel,n=t.getItemByPublicId("task",e);return n&&t.getAssignedResources(n).items},e.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map((function(e){return e.id}))},e.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map((function(e){return e.id}))},e.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map((function(e){return e.id}))},e.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map((function(e){return e.id}))},e.prototype.setTaskValue=function(e,t,n){var i=this.commandManager,o=this.getTaskByPublicId(e);if(o){if("title"===t){var r=n||"";return i.changeTaskTitleCommand.execute(o.internalId,r)}if("progress"===t){var s=Math.max(n,0);return s=Math.min(n,100),i.changeTaskProgressCommand.execute(o.internalId,s)}if("start"===t)return i.changeTaskStartCommand.execute(o.internalId,I.DateTimeUtils.getMinDate(n,o.end));if("end"===t)return i.changeTaskEndCommand.execute(o.internalId,I.DateTimeUtils.getMaxDate(n,o.start))}return!1},e.prototype.getLastInsertedTaskId=function(){var e=this.history.historyItems.filter((function(e){return e instanceof D.CreateTaskHistoryItem})),t=e[e.length-1];return t&&t.taskId},e.prototype.getLastInsertedResource=function(){var e=this.history.historyItems.filter((function(e){return e instanceof E.CreateResourceHistoryItem})),t=e[e.length-1];return t&&t.resource},e.prototype.getTaskByPublicId=function(e){return this.viewModel.tasks.getItemByPublicId(e)},e.prototype.getPrevTask=function(e){var t=this.viewModel.findItem(e),n=t.parent||this.viewModel.root,i=n.children.indexOf(t)-1;return i>-1?t.parent.children[i].task:t.parent.task},e.prototype.updateCreatedTaskIdAfterServerUpdate=function(e,t){var n=this.viewModel.findItem(e),i=n&&n.task;i&&(i.id=t)},e.prototype.getTaskIdByInternalId=function(e){var t=this.viewModel.findItem(e),n=t&&t.task;return n?n.id:null},e.prototype.isTaskHasChildren=function(e){var t=this.viewModel.findItem(e);return t&&t.children.length>0},e.prototype.requireFirstLoadParentAutoCalc=function(){var e=this.ganttOwner;return e.getRequireFirstLoadParentAutoCalc&&e.getRequireFirstLoadParentAutoCalc()},e.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},e.prototype.getOwnerControlMainElement=function(){var e=this.ganttOwner;return e.getMainElement&&e.getMainElement()},e.prototype.adjustOwnerControl=function(){var e=this.ganttOwner;e.adjustControl&&e.adjustControl()},e.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},e.prototype.applySettings=function(e,t){void 0===t&&(t=!1);var n=T.Settings.parse(e),i=t||this.settings.equal(n);this.settings=n,i||this.resetAndUpdate()},e.prototype.getDataUpdateErrorCallback=function(){var e=this,t=this.history,n=t.getCurrentProcessingItemInfo();return function(){e.dispatcher.lock(),t.rollBackAndRemove(n),e.dispatcher.unlock(),e.updateBarManager()}},e.prototype.setTaskTooltipContentTemplate=function(e){this.settings.taskTooltipContentTemplate=e},e.prototype.setTaskProgressTooltipContentTemplate=function(e){this.settings.taskProgressTooltipContentTemplate=e},e.prototype.setTaskTimeTooltipContentTemplate=function(e){this.settings.taskTimeTooltipContentTemplate=e},e.prototype.setTaskContentTemplate=function(e){this.settings.taskContentTemplate=e},e.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},e.prototype.onTaskClick=function(e,t){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(e,t)},e.prototype.onTaskDblClick=function(e,t){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(e,t)},e.prototype.getDateFormat=function(e){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(e):this.getDefaultDateFormat(e)},e.prototype.getDefaultDateFormat=function(e){return("0"+e.getDate()).slice(-2)+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)},e.prototype.destroyTemplate=function(e){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(e):e.innerHTML=""},e.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},e.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},e.prototype.getCommandByKey=function(e){return this.commandManager.getCommand(e)},e.cachedPrefix="cached_",e.taskAreaScrollTopKey=e.cachedPrefix+"taskAreaScrollTop",e.taskAreaScrollLeftKey=e.cachedPrefix+"taskAreaScrollLeft",e.taskTextHeightKey=e.cachedPrefix+"taskTextHeight",e}();t.GanttView=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModel=void 0;var i=n(31),o=n(75),r=n(77),s=n(78),a=n(79),l=n(80),c=n(81),u=n(1),d=n(13),h=n(42),p=n(45),g=function(){function e(e,t,n,a,l,u,d){this._fLockCount=0,this.owner=e,this.tasks=new o.TaskCollection,this.tasks.importFromObject(t),this.dependencies=new r.DependencyCollection,this.dependencies.importFromObject(n),this.resources=new i.ResourceCollection,this.resources.importFromObject(a),this.assignments=new s.ResourceAssignmentCollection,this.assignments.importFromObject(l),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new c.WorkingTimeCalculator(u,d),this.updateModel()}return e.prototype.updateModel=function(){this._itemList.splice(0,this._itemList.length);for(var e=this.tasks.items,t=0;t<e.length;t++){var n=e[t];n&&this._itemList.push(new a.ViewVisualModelItem(n,this.getAssignedResources(n)))}this.createHierarchy(),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},e.prototype.createHierarchy=function(){var e=this;this.root=new a.ViewVisualModelItem(null,null);for(var t=this._itemList,n=t.reduce((function(e,t){var n,i=null===(n=t.task)||void 0===n?void 0:n.internalId;return u.isDefined(i)&&(e[i]=t),e}),{}),i=this.requireFirstLoadParentAutoCalc,o=0;o<t.length;o++){var r=t[o],s=r.task.parentId,l=n[s]||this.root;r.parent=l,l.addChild(r),i&&this.owner.validationController.recalculateParents(r,(function(t){if(u.isDefined(t.id)){var n=e.tasks.getItemById(t.id);u.isDefined(t.start)&&(n.start=t.start),u.isDefined(t.end)&&(n.end=t.end),u.isDefined(t.progress)&&(n.progress=t.progress)}}))}i&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},e.prototype.getCurrentTaskData=function(){var e=this;return this.tasks.items.map((function(t){return e.getTaskObjectForDataSource(t)}))},e.prototype.getTaskObjectForDataSource=function(e){var t=e.parentId&&this.tasks.getItemById(e.parentId),n=this.getRootTaskId(),i=n&&e.parentId===n?e.parentId:null===t||void 0===t?void 0:t.id,o={id:e.id,start:e.start,end:e.end,duration:e.duration,description:e.description,parentId:i,progress:e.progress,color:e.color,taskType:e.taskType,title:e.title,customFields:e.customFields,expanded:e.expanded};return o},e.prototype.getDependencyObjectForDataSource=function(e){var t=e instanceof d.Dependency?e:this.getItemByPublicId("dependency",e);if(t){var n=this.convertInternalToPublicKey("task",t.predecessorId),i=this.convertInternalToPublicKey("task",t.successorId);return{id:t.id,predecessorId:u.isDefined(n)?n:t.predecessorId,successorId:u.isDefined(i)?i:t.successorId,type:t.type}}return null},e.prototype.getResourceObjectForDataSource=function(e){var t=e instanceof h.Resource?e:this.getItemByPublicId("resource",e);return t?{id:t.id,text:t.text,color:t.color}:null},e.prototype.getResourceAssignmentObjectForDataSource=function(e){var t=e instanceof p.ResourceAssignment?e:this.getItemByPublicId("assignment",e);if(t){var n=this.convertInternalToPublicKey("task",t.taskId),i=this.convertInternalToPublicKey("resource",t.resourceId);return{id:t.id,taskId:u.isDefined(n)?n:t.taskId,resourceId:u.isDefined(i)?i:t.resourceId}}return null},e.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},e.prototype.populateVisibleItems=function(e){var t=this,n=e===this.root;e&&(e.task||n)&&(n||(this._viewItemList.push(e),e.visibleIndex=this._viewItemList.length-1),(e.getExpanded()||e===this.root)&&e.children.forEach((function(e){return t.populateVisibleItems(e)})))},e.prototype.updateVisibleItemDependencies=function(){for(var e=this._viewItemList,t=0;t<e.length;t++){var n=e[t],i=this.getTasVisibleDependencies(n.task);n.setDependencies(i)}},e.prototype.getAssignedResources=function(e){var t=this,n=new i.ResourceCollection,o=this.assignments.items.filter((function(t){return t.taskId==e.internalId}));return o.forEach((function(e){n.add(t.resources.getItemById(e.resourceId))})),n},e.prototype.getTasVisibleDependencies=function(e){for(var t=new Array,n=e.internalId,i=this.dependencies.items.filter((function(e){return e.successorId==n})),o=0;o<i.length;o++){var r=i[o],s=this.findItem(r.predecessorId);s&&s.getVisible()&&t.push(new l.ViewVisualModelDependencyInfo(r.internalId,s,r.type))}return t},e.prototype.changeTaskExpanded=function(e,t){var n=this.tasks.getItemById(String(e));n&&(n.expanded=t,this.changed())},e.prototype.changeTaskVisibility=function(e,t){var n=this.findItem(e);n&&(n.visible=t,this.changed())},e.prototype.changeTaskSelected=function(e,t){var n=this._itemList.filter((function(t){return t.task&&t.task.internalId===e}))[0];if(n){n.selected=t;var i=this.findItem(e),o=i&&i.visibleIndex;o>-1&&this.owner.recreateTaskElement(o)}},e.prototype.beginUpdate=function(){this._fLockCount++},e.prototype.endUpdate=function(){this._fLockCount--,0==this._fLockCount&&this.changed()},e.prototype.changed=function(){0===this._fLockCount&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},e.prototype.findItem=function(e){return this._viewItemList.filter((function(t){return t.task&&t.task.internalId===e}))[0]},Object.defineProperty(e.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),e.prototype.getTaskVisibility=function(e){var t=this.findItem(e);return!!t&&t.getVisible()},e.prototype.getTaskSelected=function(e){var t=this.findItem(e);return!!t&&t.selected},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._workTimeCalculator.updateRange(e)},e.prototype.taskHasChildrenByIndex=function(e){return this._viewItemList[e].children.length>0},e.prototype.taskHasChildren=function(e){var t=this.findItem(e);return t&&t.children.length>0},Object.defineProperty(e.prototype,"parentAutoCalc",{get:function(){var e=this.owner&&this.owner.settings;return e&&e.validation&&e.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),e.prototype.isTaskToCalculateByChildren=function(e){return this.parentAutoCalc&&this.taskHasChildren(e)},e.prototype.hasTasks=function(){return this.tasks.length>0},e.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},e.prototype.convertPublicToInternalKey=function(e,t){var n=this.getItemByPublicId(e,t);return n&&n.internalId},e.prototype.convertInternalToPublicKey=function(e,t){var n=this.getItemByInternalId(e,t);return n&&n.id},e.prototype.getItemByPublicId=function(e,t){var n=t.toString();switch(e){case"task":return this.tasks.getItemByPublicId(n);case"dependency":return this.dependencies.getItemByPublicId(n);case"resource":return this.resources.getItemByPublicId(n);case"assignment":return this.assignments.getItemByPublicId(n)}return null},e.prototype.getItemByInternalId=function(e,t){switch(e){case"task":return this.tasks.getItemById(t);case"dependency":return this.dependencies.getItemById(t);case"resource":return this.resources.getItemById(t);case"assignment":return this.assignments.getItemById(t)}return null},e.prototype.findAssignment=function(e,t){var n=this.convertPublicToInternalKey("resource",e),i=this.convertPublicToInternalKey("task",t);return this.assignments.items.filter((function(e){return e.resourceId===n&&e.taskId===i}))[0]},e.prototype.getAllVisibleTaskIndices=function(){var e=this,t=[];return this.tasks.items.forEach((function(n,i){n&&e.getTaskVisibility(n.internalId)&&n.isValid()&&t.push(i)})),t},e.prototype.getVisibleTasks=function(){var e=this;return this.tasks.items.filter((function(t){return t&&e.getTaskVisibility(t.internalId)&&t.isValid()}))},e.prototype.getVisibleDependencies=function(){var e=this.getVisibleTasks().map((function(e){return e.internalId}));return this.dependencies.items.filter((function(t){return t&&e.indexOf(t.successorId)>-1&&e.indexOf(t.predecessorId)>-1}))},e.prototype.getVisibleResourceAssignments=function(){var e=this.getVisibleTasks().map((function(e){return e.internalId}));return this.assignments.items.filter((function(t){return t&&e.indexOf(t.taskId)>-1}))},e.prototype.getVisibleResources=function(){for(var e=[],t=this.getVisibleResourceAssignments(),n=0;n<t.length;n++){var i=this.getItemByInternalId("resource",t[n].resourceId);i&&-1===e.indexOf(i)&&e.push(i)}return e},e.prototype.getRootTaskId=function(){var e;return null!==(e=this.rootTaskId)&&void 0!==e||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},e.prototype.calculateRootTaskId=function(){var e=this.items[0];if(!e)return null;while(e.parent&&e.task)e=e.parent;return e.children[0].task.parentId},e}();t.ViewVisualModel=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttJsonUtils=void 0;var i=n(71),o=function(){function e(){}return e.parseJson=function(e){return i.JsonUtils.isValid(e)?JSON.parse(e):null},e}();t.GanttJsonUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isValid=function(e){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(e.replace(/"(\\.|[^"\\])*"/g,""))},e}();t.JsonUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(73),o=n(74),r=function(){function e(){}return e.remove=function(e,t){var n=e.indexOf(t,0);n>=0&&e.splice(n,1)},e.removeBy=function(e,t){for(var n=e.length,i=0;i<n;i++)if(t(e[i],i))return e.splice(i,1)[0];return null},e.shallowCopy=function(e){return e.slice()},e.deepCopy=function(t){return e.map(t,(function(e){return e.clone()}))},e.initByValue=function(e,t){for(var n=[];e>0;e--)n.push(t);return n},e.initByCallback=function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},e.forEachOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)t(i)},e.reverseForEachOnInterval=function(e,t){for(var n=e.start,i=e.end-1;i>=n;i--)t(i)},e.reducedMap=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var s=t(e[r],r);null!==s&&o.push(s)}return o},e.filter=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++){var s=e[r];t(s,r)&&o.push(s)}return o},e.map=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=[],r=n;r<i;r++)o.push(t(e[r],r));return o},e.indexBy=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return o;return-1},e.reverseIndexBy=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return o;return-1},e.elementBy=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.indexBy(t,n,i,o);return r<0?null:t[r]},e.reverseElementBy=function(t,n,i,o){void 0===i&&(i=t.length-1),void 0===o&&(o=0);var r=e.reverseIndexBy(t,n,i,o);return r<0?null:t[r]},e.last=function(e){return e[e.length-1]},e.setLast=function(e,t){return e[e.length-1]=t},e.incLast=function(e){return++e[e.length-1]},e.decLast=function(e){return--e[e.length-1]},e.equals=function(t,n){return t.length===n.length&&e.allOf2(t,n,(function(e,t){return e.equals(t)}))},e.equalsByReference=function(e,t){var n=e.length,i=e.length;if(n!==i)return!1;for(var o=0;o<n;o++)if(e[o]!==t[o])return!1;return!0},e.unique=function(t,n,i,o){void 0===i&&(i=n),void 0===o&&(o=function(){});var r=t.length;if(0===r)return[];t=t.sort(n);var s=t[0],a=e.reducedMap(t,(function(e){return 0!==i(s,e)?(s=e,e):(o(e),null)}),1,r);return a.unshift(t[0]),a},e.uniqueNumber=function(e){e=e.sort(o.Comparers.number);for(var t=Number.NaN,n=e.length-1;n>=0;n--)t===e[n]?e.splice(n,1):t=e[n];return e},e.forEach=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)t(e[o],o)},e.forEach2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)n(e[r],t[r],r)},e.reverseForEach=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)t(e[o],o)},e.reverseIndexOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(e[o]===t)return o;return-1},e.accumulate=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=t,s=i;s<o;s++)r=n(r,e[s],s);return r},e.accumulateNumber=function(e,t,n,i,o){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=n,s=i;s<o;s++)r+=t(e[s],s,r);return r},e.anyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(t(e[o],o))return!0;return!1},e.unsafeAnyOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++){var r=t(e[o],o);if(r)return r}return null},e.reverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--)if(t(e[o],o))return!0;return!1},e.unsafeReverseAnyOf=function(e,t,n,i){void 0===n&&(n=e.length-1),void 0===i&&(i=0);for(var o=n;o>=i;o--){var r=t(e[o],o);if(r)return r}return null},e.anyOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(n(e[r],t[r],r))return!0;return!1},e.allOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var o=n;o<i;o++)if(!t(e[o],o))return!1;return!0},e.allOf2=function(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=e.length);for(var r=i;r<o;r++)if(!n(e[r],t[r],r))return!1;return!0},e.allOfOnInterval=function(e,t){for(var n=e.end,i=e.start;i<n;i++)if(!t(i))return!1;return!0},e.addListOnTail=function(e,t){for(var n=0,i=void 0;i=t[n];n++)e.push(i);return e},e.joinLists=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.accumulate(n,[],(function(n,i){return e.addListOnTail(n,t(i)),n}))},e.push=function(e,t){return e.push(t),e},e.countIf=function(t,n){return e.accumulateNumber(t,(function(e,t){return n(e,t)?1:0}))},e.clear=function(e){e.splice(0)},e.merge=function(e,t,n,i,o,r){if(void 0===o&&(o=0),void 0===r&&(r=e.length),e=e.slice(o,r),r-o<2)return e;e=e.sort(t);for(var s=e[o],a=[s],l=o+1;l<r;l++){var c=e[l];n(s,c)?i(s,c):(s=c,a.push(s))}return a},e.min=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.minExtended(t,n,i,o);return r?r.minElement:null},e.max=function(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=t.length);var r=e.maxExtended(t,n,i,o);return r?r.maxElement:null},e.minMax=function(t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=t.length);var s=e.minMaxExtended(t,n,o,r);return s?new i.MinMax(s.minElement,s.maxElement):null},e.minExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=t(r),a=n+1;a<o;a++){var l=e[a],c=t(l);c<s&&(s=c,r=l)}return new i.ExtendedMin(r,s)},e.maxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=t(r),a=n+1;a<o;a++){var l=e[a],c=t(l);c>s&&(s=c,r=l)}return new i.ExtendedMax(r,s)},e.minMaxExtended=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=r,a=t(r),l=a,c=n+1;c<o;c++){var u=e[c],d=t(u);d<a?(a=d,r=u):d>l&&(l=d,s=u)}return new i.ExtendedMinMax(r,a,s,l)},e.minByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var s=e[r];t(s,o)<0&&(o=s)}return o},e.maxByCmp=function(e,t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=e.length),0===e.length)return null;for(var o=e[n],r=n+1;r<i;r++){var s=e[r];t(s,o)>0&&(o=s)}return o},e.minMaxByCmp=function(e,t,n,o){if(void 0===n&&(n=0),void 0===o&&(o=e.length),0===e.length)return null;for(var r=e[n],s=r,a=n+1;a<o;a++){var l=e[a],c=t(l,r);c>0?s=l:c<0&&(r=l)}return new i.MinMax(r,s)},e}();t.ListUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=function(){function e(e,t){this.minElement=e,this.maxElement=t}return e}();t.MinMax=o;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!0,configurable:!0}),t}(o);t.MinMaxNumber=r;var s=function(){function e(e,t){this.minElement=e,this.minValue=t}return e}();t.ExtendedMin=s;var a=function(){function e(e,t){this.maxElement=e,this.maxValue=t}return e}();t.ExtendedMax=a;var l=function(e){function t(t,n,i,o){var r=e.call(this,t,i)||this;return r.minValue=n,r.maxValue=o,r}return i.__extends(t,e),t}(o);t.ExtendedMinMax=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.number=function(e,t){return e-t},e.string=function(e,t){return e===t?0:e>t?1:-1},e.stringIgnoreCase=function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e===t?0:e>t?1:-1},e}();t.Comparers=i;var o=function(){function e(){}return e.simpleType=function(e,t){return e===t},e.object=function(e,t){return e&&t&&(e===t||e.equals(t))},e}();t.Equals=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskCollection=void 0;var i=n(0),o=n(76),r=n(17),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new o.Task},t}(r.CollectionBase);t.TaskCollection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Task=t.TaskType=void 0;var i=n(0),o=n(1),r=n(12);(function(e){e[e["Regular"]=0]="Regular",e[e["Summary"]=1]="Summary",e[e["Milestone"]=2]="Milestone"})(t.TaskType||(t.TaskType={}));var s=function(e){function t(){var t=e.call(this)||this;return t.start=null,t.end=null,t.duration=null,t.description="",t.parentId=null,t.title="",t.owner=null,t.progress=0,t.taskType=null,t.customFields={},t.expanded=!0,t.color="",t}return i.__extends(t,e),t.prototype.assignFromObject=function(t){o.isDefined(t)&&(e.prototype.assignFromObject.call(this,t),this.owner=t.owner,this.parentId=o.isDefined(t.parentId)?String(t.parentId):null,this.description=t.description,this.title=t.title,this.start="string"===typeof t.start?new Date(t.start):t.start||new Date(0),this.end="string"===typeof t.end?new Date(t.end):t.end||new Date(0),this.duration=t.duration,this.progress=t.progress,this.taskType=t.taskType,o.isDefined(t.expanded)&&(this.expanded=!!t.expanded),o.isDefined(t.color)&&(this.color=t.color),this.assignCustomFields(t.customFields))},t.prototype.assignCustomFields=function(e){if(e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.customFields[t]=e[t])},t.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t.prototype.isValid=function(){return!!this.start.getTime()&&!!this.end.getTime()},t}(r.DataObject);t.Task=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyCollection=void 0;var i=n(0),o=n(17),r=n(13),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.Dependency},t}(o.CollectionBase);t.DependencyCollection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceAssignmentCollection=void 0;var i=n(0),o=n(17),r=n(45),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.ResourceAssignment},t}(o.CollectionBase);t.ResourceAssignmentCollection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelItem=void 0;var i=n(1),o=n(9),r=function(){function e(e,t){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=e,this.resources=t,this.children=new Array,this.isCustom=!1,this.size=new o.Size(0,0)}return Object.defineProperty(e.prototype,"resourceText",{get:function(){var e="";return this.resources.items.forEach((function(t){return e+=t.text+" "})),e},enumerable:!1,configurable:!0}),e.prototype.addChild=function(e){i.isDefined(e)&&this.children.indexOf(e)<0&&this.children.push(e)},e.prototype.removeChild=function(e){var t=this.children.indexOf(e);t>-1&&this.children.splice(t,1)},e.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},e.prototype.getVisible=function(){if(!this.visible)return!1;var e=this.parent;while(e){if(!e.visible)return!1;e=e.parent}return!0},e.prototype.changeVisibility=function(e){this.visible=e},e.prototype.changeSelection=function(e){this.selected=e},e.prototype.setDependencies=function(e){e&&(this.dependencies=e.slice())},e}();t.ViewVisualModelItem=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVisualModelDependencyInfo=void 0;var i=function(){function e(e,t,n){this.id=e,this.predecessor=t,this.type=n}return e}();t.ViewVisualModelDependencyInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeCalculator=void 0;var i=n(82),o=n(90),r=n(4),s=function(){function e(e,t){this._workingRules=new i.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=e,this._workingRules.importFromObject(t)}return e.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var e=this._workingRules.items,t=0;t<e.length;t++)this.processRule(e[t]);this.sortList()}},e.prototype.processRule=function(e){for(var t=e.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),n=function(n){var s=t[n],a=r.DateTimeUtils.getDayNumber(s),l=i._workDayList.filter((function(e){return e.dayNumber==a}))[0];l?(l.isWorkDay=l.isWorkDay&&e.isWorkDay,l.addWorkingIntervals(e.workTimeRanges)):i._workDayList.push(new o.DayWorkingTimeInfo(a,e.isWorkDay,e.workTimeRanges))},i=this,s=0;s<t.length;s++)n(s)},e.prototype.sortList=function(){this._workDayList.sort((function(e,t){return e.dayNumber-t.dayNumber}))},e.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},e.prototype.calculateNoWorkTimeIntervals=function(){var e=this,t=new Array;return 0==this._workDayList.length&&this.calculateWorkDayList(),this._workDayList.forEach((function(n){return t=t.concat(e.getNoWorkTimeRangesFromDay(n))})),this.concatJointedRanges(t)},e.prototype.concatJointedRanges=function(e){for(var t=new Array,n=0;n<e.length;n++){var i=e[n],o=t.length>0&&r.DateTimeUtils.compareDates(t[t.length-1].end,i.start)<2;o?t[t.length-1].end=i.end:t.push(i)}return t},e.prototype.getNoWorkTimeRangesFromDay=function(e){return e.noWorkingIntervals.map((function(t){return r.DateTimeUtils.convertTimeRangeToDateRange(t,e.dayNumber)}))},Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),e.prototype.updateRange=function(e){this._calculationRange=e,this.invalidate()},e.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},e}();t.WorkingTimeCalculator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingDayRuleCollection=void 0;var i=n(0),o=n(17),r=n(83),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.createItem=function(){return new r.WorkingTimeRule},t}(o.CollectionBase);t.WorkingDayRuleCollection=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkingTimeRule=void 0;var i=n(0),o=n(12),r=n(1),s=n(4),a=n(49),l=n(50),c=function(e){function t(t,n,i){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===i&&(i=null);var o=e.call(this)||this;return o.isWorkDay=!0,o.workTimeRanges=new Array,o.recurrence=t,o.isWorkDay=n,i&&o.workTimeRanges.concat(i),o}return i.__extends(t,e),t.prototype.assignFromObject=function(t){if(r.isDefined(t)){e.prototype.assignFromObject.call(this,t),this.recurrence=a.RecurrenceFactory.createRecurrenceByType(t.recurrenceType)||new l.Daily,r.isDefined(t.recurrence)&&this.recurrence.assignFromObject(t.recurrence),r.isDefined(t.isWorkDay)&&(this.isWorkDay=!!t.isWorkDay);var n=s.DateTimeUtils.convertToTimeRanges(t.workTimeRanges);n&&(this.workTimeRanges=n)}},t}(o.DataObject);t.WorkingTimeRule=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayOfWeek=void 0,function(e){e[e["Sunday"]=0]="Sunday",e[e["Monday"]=1]="Monday",e[e["Tuesday"]=2]="Tuesday",e[e["Wednesday"]=3]="Wednesday",e[e["Thursday"]=4]="Thursday",e[e["Friday"]=5]="Friday",e[e["Saturday"]=6]="Saturday"}(t.DayOfWeek||(t.DayOfWeek={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Month=void 0,function(e){e[e["January"]=0]="January",e[e["February"]=1]="February",e[e["March"]=2]="March",e[e["April"]=3]="April",e[e["May"]=4]="May",e[e["June"]=5]="June",e[e["July"]=6]="July",e[e["August"]=7]="August",e[e["September"]=8]="September",e[e["October"]=9]="October",e[e["November"]=10]="November",e[e["December"]=11]="December"}(t.Month||(t.Month={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Weekly=void 0;var i=n(0),o=n(20),r=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return r.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getWeeksBetween(this.start,e),n=Math.floor(t/this.interval),i=t%this.interval,o=i>0||e.getDay()>=this.dayOfWeekInternal;o&&n++;var s=n*this.interval;return this.calcNextPointWithWeekCount(this.start,s)},t.prototype.calculateNearestPoint=function(e){var t=this.dayOfWeekInternal-e.getDay();return t>0?r.DateTimeUtils.addDays(new Date(e),t):this.calcNextPointWithWeekCount(e,1)},t.prototype.calcNextPointWithWeekCount=function(e,t){void 0===t&&(t=1);var n=7*t+this.dayOfWeekInternal-e.getDay();return r.DateTimeUtils.addDays(new Date(e),n)},Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Weekly=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Monthly=void 0;var i=n(0),o=n(20),r=n(4),s=n(88),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e)},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getMonthsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=this.start,n=r.DateTimeUtils.getMonthsDifference(t,e),i=Math.floor(n/this.interval)*this.interval,o=new s.MonthInfo(t.getMonth(),t.getFullYear());o.addMonths(i);var a=this.getSpecDayInMonth(o.year,o.month);return r.DateTimeUtils.compareDates(a,e)>=0&&(o.addMonths(this.interval),a=this.getSpecDayInMonth(o.year,o.month)),a},t.prototype.calculateNearestPoint=function(e){var t=e.getMonth(),n=e.getFullYear(),i=this.getSpecDayInMonth(n,t);if(r.DateTimeUtils.compareDates(i,e)>=0){var o=new s.MonthInfo(t,n);o.addMonths(1),i=this.getSpecDayInMonth(o.year,o.month)}return i},Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Monthly=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonthInfo=void 0;var i=n(4),o=function(){function e(e,t){this.month=e,this.year=t}return e.prototype.addMonths=function(e){var t=i.DateTimeUtils.getNextMonth(this.month,e),n=Math.floor(e/12);t<this.month&&++n,this.month=t,this.year+=n},e}();t.MonthInfo=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Yearly=void 0;var i=n(0),o=n(20),r=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.checkDate=function(e){return!!r.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?r.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):r.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},t.prototype.checkInterval=function(e){return r.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},t.prototype.calculatePointByInterval=function(e){var t=r.DateTimeUtils.getYearsDifference(this.start,e),n=Math.floor(t/this.interval)*this.interval,i=this.start.getFullYear()+n,o=this.getSpecDayInMonth(i,this.monthInternal);return r.DateTimeUtils.compareDates(o,e)>=0&&(i+=this.interval,o=this.getSpecDayInMonth(i,this.monthInternal)),o},t.prototype.calculateNearestPoint=function(e){var t=e.getFullYear(),n=this.getSpecDayInMonth(t,this.monthInternal);return r.DateTimeUtils.compareDates(n,e)>=0&&(n=this.getSpecDayInMonth(++t,this.monthInternal)),n},Object.defineProperty(t.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),t}(o.RecurrenceBase);t.Yearly=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DayWorkingTimeInfo=void 0;var i=n(47),o=n(4),r=n(46),s=function(){function e(e,t,n){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===n&&(n=null),this._workingIntervals=new Array,this.dayNumber=e,this.isWorkDay=t,this.addWorkingIntervals(n)}return e.prototype.addWorkingIntervals=function(e){e&&(this._workingIntervals=this._workingIntervals.concat(e.filter((function(e){return!!e}))),this.rearrangeWorkingIntervals())},e.prototype.rearrangeWorkingIntervals=function(){for(var e=0;e<this._workingIntervals.length;e++)this.concatWithIntersectedRanges(this._workingIntervals[e]);this.sortIntervals()},e.prototype.concatWithIntersectedRanges=function(e){var t=this,n=this.getIntersectedIntervals(e);n.forEach((function(n){e.concatWith(n),t.removeInterval(n)}))},e.prototype.getIntersectedIntervals=function(e){return this._workingIntervals.filter((function(t){return t.hasIntersect(e)&&t!==e}))},e.prototype.sortIntervals=function(){this._workingIntervals.sort((function(e,t){return o.DateTimeUtils.caclTimeDifference(t.start,e.start)}))},e.prototype.removeInterval=function(e){var t=this._workingIntervals.indexOf(e);t>-1&&t<this._workingIntervals.length&&this._workingIntervals.splice(t,1)},e.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(e.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noWorkingIntervals",{get:function(){var e=new Array;if(this.isWorkDay&&0==this._workingIntervals.length)return e;var t=this._workingIntervals.map((function(e){return e.end}));t.splice(0,0,new r.Time);var n=this._workingIntervals.map((function(e){return e.start}));n.push(o.DateTimeUtils.getLastTimeOfDay());for(var s=0;s<t.length;s++){var a=t[s],l=n[s];o.DateTimeUtils.areTimesEqual(a,l)||e.push(new i.TimeRange(a,l))}return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(e){this._isWorkDay=e,e||this.clearIntervals()},enumerable:!1,configurable:!0}),e}();t.DayWorkingTimeInfo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(44),o=n(92),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.empty=function(){return new t(0,0,0,0)},t.prototype.clone=function(){return new t(this.left,this.right,this.top,this.bottom)},t}(o.Offsets);t.Margins=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){this.left=e,this.right=t,this.top=n,this.bottom=i}return e.empty=function(){return new e(0,0,0,0)},Object.defineProperty(e.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!0,configurable:!0}),e.fromNumber=function(t){return new e(t,t,t,t)},e.fromOffsets=function(t){return new e(t.left,t.right,t.top,t.bottom)},e.fromSide=function(t,n){return new e(t,t,n,n)},e.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},e.prototype.toString=function(){return JSON.stringify(this)},e.prototype.isEmpty=function(){return 0===this.left&&0===this.right&&0===this.top&&0===this.bottom},e.prototype.offset=function(e){return this.left+=e.left,this.right+=e.right,this.top+=e.top,this.bottom+=e.bottom,this},e.prototype.multiply=function(e,t,n,i){switch(arguments.length){case 1:return this.left*=e,this.right*=e,this.top*=e,this.bottom*=e,this;case 2:return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this;case 4:return this.left*=e,this.right*=t,this.top*=n,this.bottom*=i,this}return this},e.prototype.clone=function(){return new e(this.left,this.right,this.top,this.bottom)},e.prototype.copyFrom=function(e){this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom},e.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.right===e.right&&this.left===e.left},e.prototype.applyConverter=function(e){return this.left=e(this.left),this.right=e(this.right),this.top=e(this.top),this.bottom=e(this.bottom),this},e}();t.Offsets=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EtalonSizeValues=void 0;var i=function(){function e(){this.scaleItemWidths={}}return e}();t.EtalonSizeValues=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditTooltip=void 0;var i=n(2),o=function(){function e(t,n,i){this.parentElement=t,this.baseElement=document.createElement("DIV"),this.baseElement.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,t.appendChild(this.baseElement),this.owner=n,this.cultureInfo=i}return e.prototype.setDefaultTooltip=function(t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var n=document.createElement("DIV");n.className=e.CLASSNAMES.TASK_EDIT_TASK_TITLE;var i=document.createElement("SPAN");if(n.appendChild(i),this.defaultTooltip.appendChild(n),i.innerText=t.title,this.defaultTooltip.appendChild(this.getTimeContent(t.start,t.end)),!isNaN(t.progress)){var o=document.createElement("DIV");o.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),s=document.createElement("SPAN");o.appendChild(r),o.appendChild(s),this.defaultTooltip.appendChild(o),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",s.innerText=t.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},e.prototype.showInfo=function(e,t,n,i){var o=this;void 0===n&&(n=0);var r=!0;if(this.owner.destroyTemplate(this.baseElement),i?r=i(this.baseElement,e):this.setDefaultTooltip(e),r=r&&!!this.baseElement.innerHTML,r){var s=function(){o.show(t,!1)};n?this.timerId=setTimeout(s,n):s()}},e.prototype.showProgress=function(t,n){var i=this,o=this.owner.settings.taskProgressTooltipContentTemplate;this.owner.destroyTemplate(this.baseElement),o?o(this.baseElement,{progress:t},(function(e){i.showTooltip(e)}),n):(this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=t+"%",this.baseElement.appendChild(this.defaultTooltip),this.show(n))},e.prototype.showTime=function(t,n,i){var o=this,r=this.owner.settings.taskTimeTooltipContentTemplate;this.owner.destroyTemplate(this.baseElement),r?r(this.baseElement,{start:t,end:n},(function(e){o.showTooltip(e)}),i):(this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=e.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(t,n)),this.baseElement.appendChild(this.defaultTooltip),this.show(i))},e.prototype.showTooltip=function(e){this.baseElement&&this.show(e)},e.prototype.show=function(t,n){var o,r,s,a,l=this;void 0===n&&(n=!0);var c=5,u=15;null===(o=this.defaultTooltip)||void 0===o||o.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),null===(r=this.defaultTooltip)||void 0===r||r.classList.remove(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var d=i.DomUtils.getAbsolutePositionY(this.parentElement),h=i.DomUtils.getAbsolutePositionX(this.parentElement),p=t-h-2*c,g=d-this.owner.header.clientHeight-i.DomUtils.getDocumentScrollTop()-u,f=this.baseElement.clientHeight>g||this.baseElement.clientHeight>this.parentElement.offsetTop,m=-this.baseElement.clientHeight-c;f?(m=this.parentElement.clientHeight+c,null===(s=this.defaultTooltip)||void 0===s||s.classList.add(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER)):null===(a=this.defaultTooltip)||void 0===a||a.classList.add(e.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.left=p+"px",this.baseElement.style.top=m+"px",n&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout((function(){l.baseElement.style.display="none"}),1500))},e.prototype.hide=function(){this.baseElement.style.display="none",clearTimeout(this.timerId)},e.prototype.getTimeContent=function(t,n){var i=document.createElement("TABLE");i.className=e.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var o=document.createElement("TBODY");i.appendChild(o);var r=document.createElement("TR"),s=document.createElement("TD"),a=document.createElement("TD"),l=document.createElement("TR"),c=document.createElement("TD"),u=document.createElement("TD");return r.appendChild(s),r.appendChild(a),l.appendChild(c),l.appendChild(u),o.appendChild(r),o.appendChild(l),s.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",a.innerText=this.formatDate(t),c.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",u.innerText=this.formatDate(n),i},e.prototype.formatDate=function(e){return this.owner.getDateFormat(e)},e.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},e}();t.TaskEditTooltip=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelManipulator=void 0;var i=n(96),o=n(97),r=n(99),s=function(){function e(e,t){this.task=new r.TaskManipulator(e,t),this.dependency=new i.TaskDependencyManipulator(e,t),this.resource=new o.ResourcesManipulator(e,t),this.dispatcher=t}return e}();t.ModelManipulator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskDependencyManipulator=void 0;var i=n(0),o=n(21),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.insertDependency=function(e,t,n,i){var o=this.viewModel.dependencies.createItem();return o.predecessorId=e,o.successorId=t,o.type=n,i&&(o.internalId=i),o.id=o.internalId,this.viewModel.dependencies.add(o),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(o),(function(e){return o.id=e}),this.getErrorCallback()),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.recreateConnectorLineElement(o.internalId,!0),o},t.prototype.removeDependency=function(e){var t=this.viewModel.dependencies.getItemById(e);return this.viewModel.dependencies.remove(t),this.dispatcher.notifyDependencyRemoved(t.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(t)),this.viewModel.updateVisibleItemDependencies(),this.viewModel.owner.recreateConnectorLineElement(t.internalId),t},t.prototype.getObjectForDataSource=function(e){return{id:e.id,predecessorId:this.viewModel.tasks.getItemById(e.predecessorId).id,successorId:this.viewModel.tasks.getItemById(e.successorId).id,type:e.type}},t}(o.BaseManipulator);t.TaskDependencyManipulator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesManipulator=void 0;var i=n(0),o=n(21),r=n(98),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.properties=new r.ResourcePropertiesManipulator(t,n),i}return i.__extends(t,e),t.prototype.create=function(e,t,n,i){var o=this.viewModel.resources.createItem();return o.text=e,t&&(o.color=t),n&&(o.internalId=n),o.id=o.internalId,this.viewModel.resources.add(o),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(o),(function(e){o.id=e,i&&i(e)}),this.getErrorCallback()),o},t.prototype.remove=function(e){var t=this.viewModel.resources.getItemById(e);if(!t)throw new Error("Invalid resource id");var n=this.viewModel.assignments.items.filter((function(t){return t.resourceId==e}));if(n.length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(t),this.dispatcher.notifyResourceRemoved(t.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(t)),t},t.prototype.assign=function(e,t,n){var i=this.viewModel.assignments.createItem();return i.resourceId=e,i.taskId=t,n&&(i.internalId=n),i.id=i.internalId,this.viewModel.assignments.add(i),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(i),(function(e){return i.id=e}),this.getErrorCallback()),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),i},t.prototype.deassig=function(e){var t=this.viewModel.assignments.getItemById(e);return this.viewModel.assignments.remove(t),this.dispatcher.notifyResourceUnassigned(t.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(t)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getResourceObjectForDataSource=function(e){return{id:e.id,text:e.text}},t.prototype.getResourceAssignmentObjectForDataSource=function(e){return{id:e.id,taskId:this.viewModel.tasks.getItemById(e.taskId).id,resourceId:this.viewModel.resources.getItemById(e.resourceId).id}},t}(o.BaseManipulator);t.ResourcesManipulator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcePropertyManipulator=t.ResourcePropertiesManipulator=void 0;var i=n(0),o=n(21),r=n(54),s=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.color=new l(t,n),i}return i.__extends(t,e),t}(o.BaseManipulator);t.ResourcePropertiesManipulator=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.setValue=function(e,t){var n=this,i=this.viewModel.resources.getItemById(e),o=new r.HistoryItemState(e,this.getPropertyValue(i));this.setPropertyValue(i,t);var s=this.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId}));return s.forEach((function(e){var t=n.viewModel.findItem(e.taskId),i=t.visibleIndex;n.viewModel.owner.recreateTaskElement(i)})),o},t.prototype.restoreValue=function(e){var t=this;if(e){var n=e.value,i=this.viewModel.resources.getItemById(e.id);this.setPropertyValue(i,n);var o=this.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId}));o.forEach((function(e){var n=t.viewModel.findItem(e.taskId),i=n.visibleIndex;t.viewModel.owner.recreateTaskElement(i)}))}},t}(o.BaseManipulator);t.ResourcePropertyManipulator=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertyValue=function(e){return e.color},t.prototype.setPropertyValue=function(e,t){e.color=t,this.dispatcher.notifyResourceColorChanged(e.id,t,this.getErrorCallback())},t}(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskManipulator=void 0;var i=n(0),o=n(21),r=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.properties=new o.TaskPropertiesManipulator(t,n),i}return i.__extends(t,e),t.prototype.create=function(e,t,n){var i=this,o=this.viewModel.tasks.createItem();o.start=e.start,o.end=e.end,o.title=e.title,o.progress=e.progress,e.color&&(o.color=e.color);var r=this.viewModel.tasks.getItemById(e.parentId);return r&&(r.expanded=!0),o.parentId=e.parentId,t&&(o.internalId=t),o.id=o.internalId,this.viewModel.tasks.add(o),this.viewModel.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(o),(function(e){if(o.id=e,n&&n(),i.viewModel.requireFirstLoadParentAutoCalc){var t=i.viewModel.getCurrentTaskData().map((function(e){return""===e.parentId&&(e.parentId=null),e}));i.dispatcher.notifyParentDataRecalculated(t)}}),this.getErrorCallback()),this.viewModel.owner.resetAndUpdate(),o},t.prototype.remove=function(e){var t=this.viewModel.tasks.getItemById(e);if(!t)throw new Error("Invalid task id");var n=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}));if(n.length)throw new Error("Can't delete task with dependency");var i=this.viewModel.assignments.items.filter((function(t){return t.taskId==e}));if(i.length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(t),this.dispatcher.notifyTaskRemoved(t.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(t)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),t},t.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},t}(o.BaseManipulator);t.TaskManipulator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var i=n(15),o=n(101),r=function(){function e(){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1}return e.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},e.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},e.prototype.beginTransaction=function(){this.transactionLevel++,0==this.transactionLevel&&(this.transaction=new i.CompositionHistoryItem)},e.prototype.endTransaction=function(){if(!(--this.transactionLevel>=0)){var e=this.transaction.historyItems.length;e>1?this.addInternal(this.transaction):1==e&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null}},e.prototype.addAndRedo=function(e){this.add(e),this.activateItem(e)},e.prototype.add=function(e){this.transactionLevel>=0?this.transaction.add(e):this.addInternal(e)},e.prototype.canUndo=function(){return this.currentIndex>=0},e.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},e.prototype.addInternal=function(e){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(e),this.currentIndex++,this.deleteOldItems()},e.prototype.deleteOldItems=function(){var t=this.historyItems.length-e.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},e.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},e.prototype.activateItem=function(e,t){void 0===t&&(t=!1),this.currentProcessingItemInfo=new o.HistoryItemInfo(e,t),t?e.undo():e.redo(),this.currentProcessingItemInfo=null},e.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},e.prototype.rollBackAndRemove=function(e){var t=e.item;this.checkAndRemoveItem(t)&&(e.isUndo?t.redo():t instanceof i.CompositionHistoryItem?t.undoItemsQuery():t.undo())},e.prototype.checkAndRemoveItem=function(e){var t=this.historyItems.indexOf(e);return t>-1?(this.historyItems.splice(t,1),this.currentIndex--):this.transaction&&(t=this.transaction.historyItems.indexOf(e),t>-1&&this.transaction.historyItems.splice(t,1)),t>-1},e.MAX_HISTORY_ITEM_COUNT=100,e}();t.History=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryItemInfo=void 0;var i=function(){function e(e,t){void 0===t&&(t=!1),this.item=e,this.isUndo=t}return e}();t.HistoryItemInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;var i=n(103),o=n(108),r=n(5),s=n(110),a=function(){function e(e){this.control=e,this.mouseHandler=new i.MouseHandler(e),this.touchHandler=new s.TouchHandler(e)}return e.prototype.onMouseDown=function(e){this.mouseHandler.onMouseDown(e)},e.prototype.onMouseMove=function(e){this.mouseHandler.onMouseMove(e)},e.prototype.onMouseUp=function(e){this.mouseHandler.onMouseUp(e)},e.prototype.onMouseDblClick=function(e){this.mouseHandler.onMouseDoubleClick(e)},e.prototype.onMouseWheel=function(e){this.mouseHandler.onMouseWheel(e)},e.prototype.onTouchStart=function(e){this.touchHandler.onTouchStart(e)},e.prototype.onTouchEnd=function(e){this.touchHandler.onTouchEnd(e)},e.prototype.onTouchMove=function(e){this.touchHandler.onTouchMove(e)},e.prototype.onDoubleTap=function(e){this.touchHandler.onDoubleTap(e)},e.prototype.onKeyDown=function(e){if(this.control.isFocus){var t=this.getShortcutCode(e);t==(o.ModifierKey.Ctrl|o.KeyCode.Key_z)&&this.control.history.undo(),t==(o.ModifierKey.Ctrl|o.KeyCode.Key_y)&&this.control.history.redo(),t==o.KeyCode.Delete&&this.control.taskEditController.deleteSelectedDependency()}},e.prototype.getShortcutCode=function(e){var t=o.KeyUtils.getEventKeyCode(e),n=0;return e.altKey&&(n|=o.ModifierKey.Alt),e.ctrlKey&&(n|=o.ModifierKey.Ctrl),e.shiftKey&&(n|=o.ModifierKey.Shift),e.metaKey&&r.Browser.MacOSPlatform&&(n|=o.ModifierKey.Meta),n|t},e}();t.EventManager=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandler=void 0;var i=n(0),o=n(55),r=n(8),s=n(104),a=n(6),l=n(105),c=n(106),u=n(107),d=n(56),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDoubleClick=function(e){this.state.onMouseDoubleClick(e)},t.prototype.onMouseDown=function(e){var t=this.getEventSource(a.EvtUtils.getEventSource(e));switch(t){case r.MouseEventSource.TaskEdit_Frame:this.switchState(new l.MouseHandlerMoveTaskState(this));break;case r.MouseEventSource.TaskEdit_Progress:this.switchState(new c.MouseHandlerProgressTaskState(this));break;case r.MouseEventSource.TaskEdit_Start:case r.MouseEventSource.TaskEdit_End:this.switchState(new u.MouseHandlerTimestampTaskState(this));break;case r.MouseEventSource.TaskEdit_DependencyStart:case r.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new d.MouseHandlerDependencyState(this));break}this.state.onMouseDown(e)},t.prototype.onMouseUp=function(e){this.state.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.state.onMouseMove(e)},t.prototype.onMouseWheel=function(e){this.state.onMouseWheel(e)},t.prototype.switchToDefaultState=function(){this.state=new s.MouseHandlerDefaultState(this)},t}(o.HandlerBase);t.MouseHandler=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttMovingHelper=t.MouseHandlerDefaultState=void 0;var i=n(0),o=n(2),r=n(6),s=n(34),a=n(14),l=n(3),c=n(5),u=function(e){function t(t){var n=e.call(this,t)||this;return n.isInScrolling=!1,n.ganttMovingHelper=new d(n.handler.control),n}return i.__extends(t,e),t.prototype.onMouseDown=function(e){e.preventDefault();var t=r.EvtUtils.getEventSource(e);if(o.DomUtils.hasClassName(t,a.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||o.DomUtils.hasClassName(t,a.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)){var n=t.getAttribute("dependency-id");if(this.handler.control.taskEditController.dependencyId!=n&&(this.handler.control.selectDependency(n),e instanceof PointerEvent)){var i={event:e,type:"dependency",key:n,position:new l.Point(r.EvtUtils.getEventX(e),r.EvtUtils.getEventY(e))};this.handler.control.ganttOwner.showPopupMenu(i)}}else r.EvtUtils.isLeftButtonPressed(e)&&this.ganttMovingHelper.startMoving(e),null!=this.handler.control.taskEditController.dependencyId&&this.handler.control.selectDependency(null)},t.prototype.onMouseUp=function(e){this.ganttMovingHelper.onMouseUp(e)},t.prototype.onMouseMove=function(e){this.ganttMovingHelper.movingInfo&&(this.handler.control.taskEditController.hide(),this.ganttMovingHelper.onMouseMove(e),e.preventDefault())},t.prototype.onMouseWheel=function(e){var t=this;if(e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),!this.isInScrolling)){this.isInScrolling=!0,setTimeout((function(){t.isInScrolling=!1}),50);var n=r.EvtUtils.getWheelDelta(e)>0,i=r.EvtUtils.getEventX(e)-o.DomUtils.getAbsolutePositionX(this.handler.control.taskAreaContainer.getElement());n?this.handler.control.zoomIn(i):this.handler.control.zoomOut(i)}},t}(s.MouseHandlerStateBase);t.MouseHandlerDefaultState=u;var d=function(){function e(e){this.gantt=e,this.movingInfo=null}return e.prototype.startMoving=function(e){this.movingInfo=this.calcMovingInfo(e),this.updateGanttAreaCursor(!0)},e.prototype.cancelMoving=function(){this.movingInfo=null},e.prototype.onMouseMove=function(e){this.move(e)},e.prototype.onMouseUp=function(e){this.cancelMoving(),this.updateGanttAreaCursor(!1)},e.prototype.move=function(e){this.updateScrollPosition(e)},e.prototype.updateScrollPosition=function(e){var t=Math.round(r.EvtUtils.getEventX(e)),n=Math.round(r.EvtUtils.getEventY(e)),i=t-this.movingInfo.eventX,o=n-this.movingInfo.eventY,s=i<0?-1:1,a=o<0?-1:1,l=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,c=a<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(i)>l&&(i=l*s),Math.abs(o)>c&&(o=c*a);var u=this.movingInfo.scrollLeft-i,d=this.movingInfo.scrollTop-o,h=this.gantt.taskAreaContainer;h.scrollLeft!==u&&(h.scrollLeft=u),h.scrollTop!==d&&(h.scrollTop=d)},e.prototype.calcMovingInfo=function(e){var t=this.gantt.taskAreaContainer;return{eventX:r.EvtUtils.getEventX(e),eventY:r.EvtUtils.getEventY(e),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,maxLeftDelta:t.scrollLeft,maxRightDelta:t.scrollWidth-t.scrollLeft-t.getElement().offsetWidth,maxTopDelta:t.scrollTop,maxBottomDelta:t.scrollHeight-t.scrollTop-t.getElement().offsetHeight}},e.prototype.updateGanttAreaCursor=function(e){c.Browser.IE?this.gantt.taskAreaContainer.getElement().style.cursor=e?"move":"default":this.gantt.taskAreaContainer.getElement().style.cursor=e?"grabbing":"default"},e}();t.GanttMovingHelper=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerMoveTaskState=void 0;var i=n(0),o=n(35),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmMove()},t.prototype.onMouseMoveInternal=function(e){this.handler.control.taskEditController.processMove(e.x-this.currentPosition.x)||this.handler.switchToDefaultState()},t}(o.MouseHandlerDragBaseState);t.MouseHandlerMoveTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerProgressTaskState=void 0;var i=n(0),o=n(35),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseUpInternal=function(e){this.handler.control.taskEditController.confirmProgress()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.handler.control.taskEditController.processProgress(t)},t}(o.MouseHandlerDragBaseState);t.MouseHandlerProgressTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MouseHandlerTimestampTaskState=void 0;var i=n(0),o=n(8),r=n(6),s=n(35),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.source=this.handler.getEventSource(r.EvtUtils.getEventSource(t))},t.prototype.onMouseUpInternal=function(e){this.source==o.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},t.prototype.onMouseMoveInternal=function(e){var t=this.getRelativePos(e);this.source==o.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(t),this.source==o.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(t)},t}(s.MouseHandlerDragBaseState);t.MouseHandlerTimestampTaskState=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o,r=n(5),s=n(109),a=n(32),l=function(){function e(){}return e.getKeyModifiers=function(e){var t=0;return e.altKey&&(t|=i.Alt),e.ctrlKey&&(t|=i.Ctrl),e.shiftKey&&(t|=i.Shift),t},e.getShortcutCode=function(e,t,n,o,r){var s=e;return s|=t?i.Ctrl:0,s|=n?i.Shift:0,s|=o?i.Alt:0,s|=r?i.Meta:0,s},e.getShortcutCodeByEvent=function(t){return e.getShortcutCode(e.getEventKeyCode(t),t.ctrlKey,t.shiftKey,t.altKey,!!r.Browser.MacOSPlatform&&t.metaKey)},e.getEventKeyCode=function(e){return r.Browser.NetscapeFamily||r.Browser.Opera?e.which:e.keyCode},e.parseShortcutString=function(t){if(!t)return 0;var n=!1,i=!1,r=!1,l=!1,c=null,u=t.toString().split("+");if(u.length>0)for(var d=0;d<u.length;d++){var h=a.StringUtils.trim(u[d].toUpperCase());switch(h){case"CONTROL":case"CONTROLKEY":case"CTRL":n=!0;break;case"SHIFT":case"SHIFTKEY":i=!0;break;case"ALT":r=!0;break;case"CMD":l=!0;break;case"F1":c=o.F1;break;case"F2":c=o.F2;break;case"F3":c=o.F3;break;case"F4":c=o.F4;break;case"F5":c=o.F5;break;case"F6":c=o.F6;break;case"F7":c=o.F7;break;case"F8":c=o.F8;break;case"F9":c=o.F9;break;case"F10":c=o.F10;break;case"F11":c=o.F11;break;case"F12":c=o.F12;break;case"RETURN":case"ENTER":c=o.Enter;break;case"HOME":c=o.Home;break;case"END":c=o.End;break;case"LEFT":c=o.Left;break;case"RIGHT":c=o.Right;break;case"UP":c=o.Up;break;case"DOWN":c=o.Down;break;case"PAGEUP":c=o.PageUp;break;case"PAGEDOWN":c=o.PageDown;break;case"SPACE":c=o.Space;break;case"TAB":c=o.Tab;break;case"BACKSPACE":case"BACK":c=o.Backspace;break;case"CONTEXT":c=o.ContextMenu;break;case"ESCAPE":case"ESC":c=o.Esc;break;case"DELETE":case"DEL":c=o.Delete;break;case"INSERT":case"INS":c=o.Insert;break;case"PLUS":c="+".charCodeAt(0);break;default:c=h.charCodeAt(0);break}}else alert(s.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(c,n,i,r,l)},e}();t.KeyUtils=l,function(e){e[e["None"]=0]="None",e[e["Ctrl"]=65536]="Ctrl",e[e["Shift"]=262144]="Shift",e[e["Alt"]=1048576]="Alt",e[e["Meta"]=16777216]="Meta"}(i=t.ModifierKey||(t.ModifierKey={})),function(e){e[e["Backspace"]=8]="Backspace",e[e["Tab"]=9]="Tab",e[e["Enter"]=13]="Enter",e[e["Pause"]=19]="Pause",e[e["CapsLock"]=20]="CapsLock",e[e["Esc"]=27]="Esc",e[e["Space"]=32]="Space",e[e["PageUp"]=33]="PageUp",e[e["PageDown"]=34]="PageDown",e[e["End"]=35]="End",e[e["Home"]=36]="Home",e[e["Left"]=37]="Left",e[e["Up"]=38]="Up",e[e["Right"]=39]="Right",e[e["Down"]=40]="Down",e[e["Insert"]=45]="Insert",e[e["Delete"]=46]="Delete",e[e["Key_0"]=48]="Key_0",e[e["Key_1"]=49]="Key_1",e[e["Key_2"]=50]="Key_2",e[e["Key_3"]=51]="Key_3",e[e["Key_4"]=52]="Key_4",e[e["Key_5"]=53]="Key_5",e[e["Key_6"]=54]="Key_6",e[e["Key_7"]=55]="Key_7",e[e["Key_8"]=56]="Key_8",e[e["Key_9"]=57]="Key_9",e[e["Key_a"]=65]="Key_a",e[e["Key_b"]=66]="Key_b",e[e["Key_c"]=67]="Key_c",e[e["Key_d"]=68]="Key_d",e[e["Key_e"]=69]="Key_e",e[e["Key_f"]=70]="Key_f",e[e["Key_g"]=71]="Key_g",e[e["Key_h"]=72]="Key_h",e[e["Key_i"]=73]="Key_i",e[e["Key_j"]=74]="Key_j",e[e["Key_k"]=75]="Key_k",e[e["Key_l"]=76]="Key_l",e[e["Key_m"]=77]="Key_m",e[e["Key_n"]=78]="Key_n",e[e["Key_o"]=79]="Key_o",e[e["Key_p"]=80]="Key_p",e[e["Key_q"]=81]="Key_q",e[e["Key_r"]=82]="Key_r",e[e["Key_s"]=83]="Key_s",e[e["Key_t"]=84]="Key_t",e[e["Key_u"]=85]="Key_u",e[e["Key_v"]=86]="Key_v",e[e["Key_w"]=87]="Key_w",e[e["Key_x"]=88]="Key_x",e[e["Key_y"]=89]="Key_y",e[e["Key_z"]=90]="Key_z",e[e["Windows"]=91]="Windows",e[e["ContextMenu"]=93]="ContextMenu",e[e["Numpad_0"]=96]="Numpad_0",e[e["Numpad_1"]=97]="Numpad_1",e[e["Numpad_2"]=98]="Numpad_2",e[e["Numpad_3"]=99]="Numpad_3",e[e["Numpad_4"]=100]="Numpad_4",e[e["Numpad_5"]=101]="Numpad_5",e[e["Numpad_6"]=102]="Numpad_6",e[e["Numpad_7"]=103]="Numpad_7",e[e["Numpad_8"]=104]="Numpad_8",e[e["Numpad_9"]=105]="Numpad_9",e[e["Multiply"]=106]="Multiply",e[e["Add"]=107]="Add",e[e["Subtract"]=109]="Subtract",e[e["Decimal"]=110]="Decimal",e[e["Divide"]=111]="Divide",e[e["F1"]=112]="F1",e[e["F2"]=113]="F2",e[e["F3"]=114]="F3",e[e["F4"]=115]="F4",e[e["F5"]=116]="F5",e[e["F6"]=117]="F6",e[e["F7"]=118]="F7",e[e["F8"]=119]="F8",e[e["F9"]=120]="F9",e[e["F10"]=121]="F10",e[e["F11"]=122]="F11",e[e["F12"]=123]="F12",e[e["NumLock"]=144]="NumLock",e[e["ScrollLock"]=145]="ScrollLock",e[e["Semicolon"]=186]="Semicolon",e[e["Equals"]=187]="Equals",e[e["Comma"]=188]="Comma",e[e["Dash"]=189]="Dash",e[e["Period"]=190]="Period",e[e["ForwardSlash"]=191]="ForwardSlash",e[e["GraveAccent"]=192]="GraveAccent",e[e["OpenBracket"]=219]="OpenBracket",e[e["BackSlash"]=220]="BackSlash",e[e["CloseBracket"]=221]="CloseBracket",e[e["SingleQuote"]=222]="SingleQuote"}(o=t.KeyCode||(t.KeyCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.encodeHtml=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.decodeHtml=function(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},e.prepareTextForRequest=function(e){return e.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},e.prepareTextForCallBackRequest=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.decodeViaTextArea=function(e){var t=document.createElement("TEXTAREA");return t.innerHTML=e,t.value},e}();t.EncodeUtils=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandler=void 0;var i=n(0),o=n(55),r=n(6),s=n(8),a=n(111),l=n(112),c=n(113),u=n(114),d=n(115),h=n(116),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){e.touches.length>1&&e.preventDefault();var t=this.getEventSource(r.EvtUtils.getEventSource(e));switch(t){case s.MouseEventSource.TaskEdit_Frame:this.switchState(new a.TouchHandlerMoveTaskState(this));break;case s.MouseEventSource.TaskEdit_Progress:this.switchState(new c.TouchHandlerProgressTaskState(this));break;case s.MouseEventSource.TaskEdit_Start:case s.MouseEventSource.TaskEdit_End:this.switchState(new u.TouchHandlerTimestampTaskState(this));break;case s.MouseEventSource.TaskEdit_DependencyStart:case s.MouseEventSource.TaskEdit_DependencyFinish:this.switchState(new d.TouchHandlerDependencyState(this));break}this.state.onTouchStart(e)},t.prototype.onDoubleTap=function(e){this.state.onDoubleTap(e)},t.prototype.onTouchEnd=function(e){this.state.onTouchEnd(e)},t.prototype.onTouchMove=function(e){e.touches.length>1&&(this.state instanceof h.TouchHandlerZoomState||this.switchState(new h.TouchHandlerZoomState(this))),this.state.onTouchMove(e)},t.prototype.switchToDefaultState=function(){this.state=new l.TouchHandlerDefaultState(this)},t}(o.HandlerBase);t.TouchHandler=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerMoveTaskState=void 0;var i=n(0),o=n(36),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchEndInternal=function(e){this.handler.control.taskEditController.confirmMove()},t.prototype.onTouchMoveInternal=function(e){this.handler.control.taskEditController.processMove(e.x-this.currentPosition.x)||this.handler.switchToDefaultState()},t}(o.TouchHandlerDragBaseState);t.TouchHandlerMoveTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDefaultState=void 0;var i=n(0),o=n(3),r=n(2),s=n(6),a=n(18),l=n(14),c=n(22),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){var t=this;if(this.preventSelect=!1,clearTimeout(this.popupTimer),1===e.touches.length){var n=s.EvtUtils.getEventSource(e),i={event:e,position:new o.Point(s.EvtUtils.getEventX(e),s.EvtUtils.getEventY(e))};if(r.DomUtils.hasClassName(n,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||r.DomUtils.hasClassName(n,l.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)){this.preventSelect=!0;var a=n.getAttribute("dependency-id");this.handler.control.taskEditController.dependencyId!=a&&this.handler.control.selectDependency(a),i["type"]="dependency",i["key"]=a,this.handler.control.ganttOwner.showPopupMenu(i)}else this.popupTimer=setTimeout((function(){var n=t.getTaskIndex(e);t.changeTaskSelection(n);var o=t.handler.control.viewModel.items[n];i["type"]="task",i["key"]=o&&o.task.id,t.handler.control.ganttOwner.showPopupMenu(i)}),500)}},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){clearTimeout(this.popupTimer),this.preventSelect||this.changeTaskSelection(this.getTaskIndex(e))},t.prototype.onTouchMove=function(e){clearTimeout(this.popupTimer),this.preventSelect=!0},t.prototype.getTaskIndex=function(e){var t=a.TouchUtils.getEventY(e),n=r.DomUtils.getAbsolutePositionY(this.handler.control.taskArea),i=t-n;return Math.floor(i/this.handler.control.tickSize.height)},t.prototype.changeTaskSelection=function(e){var t=this.handler.control.viewModel.items[e];t&&this.handler.control.ganttOwner.changeGanttTaskSelection(t.task.id,!0)},t}(c.HandlerStateBase);t.TouchHandlerDefaultState=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerProgressTaskState=void 0;var i=n(0),o=n(36),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchEndInternal=function(e){this.handler.control.taskEditController.confirmProgress()},t.prototype.onTouchMoveInternal=function(e){var t=this.getRelativePos(e);this.handler.control.taskEditController.processProgress(t)},t}(o.TouchHandlerDragBaseState);t.TouchHandlerProgressTaskState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerTimestampTaskState=void 0;var i=n(0),o=n(36),r=n(8),s=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(t){e.prototype.onTouchStart.call(this,t),this.source=this.handler.getEventSource(s.EvtUtils.getEventSource(t))},t.prototype.onTouchEndInternal=function(e){this.source==r.MouseEventSource.TaskEdit_Start?this.handler.control.taskEditController.confirmStart():this.handler.control.taskEditController.confirmEnd()},t.prototype.onTouchMoveInternal=function(e){var t=this.getRelativePos(e);this.source==r.MouseEventSource.TaskEdit_Start&&this.handler.control.taskEditController.processStart(t),this.source==r.MouseEventSource.TaskEdit_End&&this.handler.control.taskEditController.processEnd(t)},t}(o.TouchHandlerDragBaseState);t.TouchHandlerTimestampTaskState=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerDependencyState=void 0;var i=n(0),o=n(57),r=n(8),s=n(2),a=n(6),l=n(3),c=n(56),u=n(18),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){e.preventDefault();var t=a.EvtUtils.getEventSource(e);this.source=this.handler.getEventSource(t);var n=this.getRelativePos(new l.Point(s.DomUtils.getAbsolutePositionX(t)+t.clientWidth/2,s.DomUtils.getAbsolutePositionY(t)+t.clientHeight/2));this.handler.control.taskEditController.startDependency(n)},t.prototype.onTouchEnd=function(e){var t=this.getRelativePos(new l.Point(s.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientWidth/2,s.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorStart)+this.handler.control.taskEditController.dependencySuccessorStart.clientHeight/2)),n=this.getRelativePos(new l.Point(s.DomUtils.getAbsolutePositionX(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientWidth/2,s.DomUtils.getAbsolutePositionY(this.handler.control.taskEditController.dependencySuccessorFinish)+this.handler.control.taskEditController.dependencySuccessorFinish.clientHeight/2)),i=this.getRelativePos(new l.Point(u.TouchUtils.getEventX(e),u.TouchUtils.getEventY(e))),o=this.isTouchNearby(i,t)?r.MouseEventSource.Successor_DependencyStart:this.isTouchNearby(i,n)?r.MouseEventSource.Successor_DependencyFinish:null,a=o===r.MouseEventSource.Successor_DependencyStart||o==r.MouseEventSource.Successor_DependencyFinish?c.dependencyMap[this.source][o]:null;this.handler.control.taskEditController.endDependency(a),this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){e.preventDefault();var t=this.getRelativePos(new l.Point(u.TouchUtils.getEventX(e),u.TouchUtils.getEventY(e))),n=Math.floor(t.y/this.handler.control.tickSize.height);this.handler.control.taskEditController.processDependency(t),this.handler.control.viewModel.tasks.items[n]&&this.handler.control.taskEditController.showDependencySuccessor(n)},t.prototype.isTouchNearby=function(e,t){return Math.abs(t.x-e.x)<=10&&Math.abs(t.y-e.y)<=10},t}(o.TouchHandlerStateBase);t.TouchHandlerDependencyState=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchHandlerZoomState=void 0;var i=n(0),o=n(22),r=n(3),s=n(2),a=3,l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onTouchStart=function(e){},t.prototype.onDoubleTap=function(e){},t.prototype.onTouchEnd=function(e){this.prevDistance=null,this.handler.switchToDefaultState()},t.prototype.onTouchMove=function(e){if(e.stopPropagation(),e.preventDefault(),e.touches.length>1){var t=this.getTouchDistance(e);if(this.prevDistance){var n=this.prevDistance-t;if(Math.abs(n)>a){var i=this.getMiddleAbsPoint(e).x;n>0?this.handler.control.zoomOut(i):this.handler.control.zoomIn(i),this.prevDistance=t}}else this.prevDistance=t}},t.prototype.getTouchDistance=function(e){var t=new r.Point(e.touches[0].clientX,e.touches[0].clientY),n=new r.Point(e.touches[1].clientX,e.touches[1].clientY);return this.getDistance(t,n)},t.prototype.getDistance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.prototype.getMiddleAbsPoint=function(e){var t=this;return this.getMiddlePointByEvent(e,(function(e){return new r.Point(e.pageX-s.DomUtils.getAbsolutePositionX(t.handler.control.taskAreaContainer.getElement()),e.pageY-s.DomUtils.getAbsolutePositionY(t.handler.control.taskAreaContainer.getElement()))}))},t.prototype.getMiddlePointByEvent=function(e,t){if(e.touches.length>1)return new r.Point((t(e.touches[0]).x+t(e.touches[1]).x)/2,(t(e.touches[0]).y+t(e.touches[1]).y)/2)},t}(o.HandlerStateBase);t.TouchHandlerZoomState=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaContainer=void 0;var i=function(){function e(e,t){this.element=e,this.onScrollHandler=function(){t.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(e){this.element.scrollTop=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(e){this.element.scrollLeft=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.getHeight=function(){return this.element.offsetHeight},e.prototype.getElement=function(){return this.element},e.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},e}();t.TaskAreaContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelChangesDispatcher=void 0;var i=n(119),o=n(58),r=n(59),s=n(37),a=function(){function e(){this.onModelChanged=new i.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",e)},e.prototype.notifyTaskCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",e,t,n)},e.prototype.notifyTaskRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",e)},e.prototype.notifyTaskRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",e,t,n)},e.prototype.notifyTaskUpdating=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",e)},e.prototype.notifyTaskMoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",e)},e.prototype.notifyTaskEditDialogShowing=function(e){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",e)},e.prototype.notifyResourceManagerDialogShowing=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",e)},e.prototype.notifyTaskTitleChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskTitleChanged",e,t,n)},e.prototype.notifyTaskDescriptionChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskDescriptionChanged",e,t,n)},e.prototype.notifyTaskStartChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskStartChanged",e,t,n)},e.prototype.notifyTaskEndChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskEndChanged",e,t,n)},e.prototype.notifyTaskProgressChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskProgressChanged",e,t,n)},e.prototype.notifyTaskColorChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyTaskColorChanged",e,t,n)},e.prototype.notifyParentTaskUpdated=function(e,t){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",e,t)},e.prototype.notifyDependencyInserting=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",e)},e.prototype.notifyDependencyInserted=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",e,t,n)},e.prototype.notifyDependencyRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",e)},e.prototype.notifyDependencyRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",e,t,n)},e.prototype.notifyResourceCreating=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",e)},e.prototype.notifyResourceCreated=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",e,t,n)},e.prototype.notifyResourceRemoving=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",e)},e.prototype.notifyResourceRemoved=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",e,t,n)},e.prototype.notifyResourceColorChanged=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",e,t,n)},e.prototype.notifyResourceAssigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",e)},e.prototype.notifyResourceAssigned=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",e,t,n)},e.prototype.notifyResourceUnassigning=function(e){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",e)},e.prototype.notifyResourceUnassigned=function(e,t,n){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",e,t,n)},e.prototype.notifyParentDataRecalculated=function(e){this.onModelChanged.raise("NotifyParentDataRecalculated",e)},e.prototype.fireResourceUnassigning=function(e){var t=new s.ResourceUnassigningArguments(e);return this.notifyResourceUnassigning(t),!t.cancel},e.prototype.raiseTaskTitleUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"title",t,n)},e.prototype.raiseTaskDescriptionUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"description",t,n)},e.prototype.raiseTaskProgressUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"progress",t,n)},e.prototype.raiseTaskColorUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"color",t,n)},e.prototype.raiseTaskStartUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"start",t,n)},e.prototype.raiseTaskEndUpdating=function(e,t,n){return this.raiseTaskUpdating(e,"end",t,n)},e.prototype.raiseTaskStartAndEndUpdating=function(e,t,n,i){var r=new o.TaskUpdatingArguments(e,["start","end"],[t,n]);return this.notifyTaskUpdating(r),!r.cancel&&(i(r["start"],r["end"]),!0)},e.prototype.raiseTaskUpdating=function(e,t,n,i){var r=e[t];if(r!==n){var s=new o.TaskUpdatingArguments(e,[t],[n]);if(this.notifyTaskUpdating(s),!s.cancel&&r!==s[t])return i(s[t]),!0}return!1},e.prototype.raiseTaskMultipleUpdating=function(e,t,n){var i=["title","progress","start","end","color"],r=i.map((function(e){return t[e]})),s=new o.TaskUpdatingArguments(e,i,r);return this.notifyTaskUpdating(s),!s.cancel&&(n(s.newValues),!0)},e.prototype.raiseTaskMoving=function(e,t,n,i){var r=new o.TaskUpdatingArguments(e,["start","end"],[t,n]);return this.notifyTaskMoving(r),!r.cancel&&(i(r["start"],r["end"]),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(e,t){var n=new o.TaskEditDialogShowingArguments(e);return this.notifyTaskEditDialogShowing(n),!n.cancel&&(t(n),!0)},e.prototype.raiseResourceManagerDialogShowing=function(e,t){var n=new r.ResourceManagerDialogShowingArguments(e);return this.notifyResourceManagerDialogShowing(n),!n.cancel&&(t(n),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}();t.ModelChangesDispatcher=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var i=function(){function e(){this.listeners=[]}return e.prototype.add=function(e){if(!e)throw new Error("Error");this.hasEventListener(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t=0,n=void 0;n=this.listeners[t];t++)if(n===e){this.listeners.splice(t,1);break}},e.prototype.raise=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=void 0;o=this.listeners[i];i++){var r=o[e];null===r||void 0===r||r.apply(o,t)}},e.prototype.hasEventListener=function(e){for(var t=0,n=this.listeners.length;t<n;t++)if(this.listeners[t]===e)return!0;return!1},e}();t.EventDispatcher=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;var i=n(121),o=n(122),r=n(123),s=n(125),a=n(126),l=n(61),c=n(127),u=n(128),d=n(129),h=n(130),p=n(131),g=n(132),f=n(26),m=n(133),y=function(){function e(e){this.control=e,this.commands={},this.createCommand(u.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(u.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(u.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(u.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(u.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(u.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(u.GanttClientCommand.TaskAddContextItem,new i.TaskAddContextItemCommand(this.control)),this.createCommand(u.GanttClientCommand.Undo,new d.UndoCommand(this.control)),this.createCommand(u.GanttClientCommand.Redo,new d.RedoCommand(this.control)),this.createCommand(u.GanttClientCommand.ZoomIn,new h.ZoomInCommand(this.control)),this.createCommand(u.GanttClientCommand.ZoomOut,new h.ZoomOutCommand(this.control)),this.createCommand(u.GanttClientCommand.FullScreen,new p.ToggleFullScreenCommand(this.control)),this.createCommand(u.GanttClientCommand.CollapseAll,new g.CollapseAllCommand(this.control)),this.createCommand(u.GanttClientCommand.ExpandAll,new g.ExpandAllCommand(this.control))}return Object.defineProperty(e.prototype,"createTaskCommand",{get:function(){return new i.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createSubTaskCommand",{get:function(){return new i.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeTaskCommand",{get:function(){return new i.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskTitleCommand",{get:function(){return new o.TaskTitleCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskDescriptionCommand",{get:function(){return new o.TaskDescriptionCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskProgressCommand",{get:function(){return new o.TaskProgressCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskColorCommand",{get:function(){return new o.TaskColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskStartCommand",{get:function(){return new o.TaskStartCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskMoveCommand",{get:function(){return new o.TaskMoveCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeTaskEndCommand",{get:function(){return new o.TaskEndCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateTaskCommand",{get:function(){return new i.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeDependencyCommand",{get:function(){return new r.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createResourceCommand",{get:function(){return new s.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"removeResourceCommand",{get:function(){return new s.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assignResourceCommand",{get:function(){return new s.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deassignResourceCommand",{get:function(){return new s.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changeResourceColorCommand",{get:function(){return new m.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showTaskEditDialog",{get:function(){return new a.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConstraintViolationDialog",{get:function(){return new l.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showConfirmationDialog",{get:function(){return new f.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showResourcesDialog",{get:function(){return new c.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),e.prototype.getCommand=function(e){return this.commands[e]},e.prototype.createCommand=function(e,t){this.commands[e]=t},e}();t.CommandManager=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAddContextItemCommand=t.UpdateTaskCommand=t.RemoveTaskCommand=t.CreateSubTaskCommand=t.CreateTaskCommand=t.TaskCommandBase=void 0;var i=n(0),o=n(7),r=n(60),s=n(24),a=n(25),l=n(26),c=n(58),u=n(28),d=n(1),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},t.prototype.updateParent=function(e){var t=this.validationController._parentAutoCalc;if(t&&e&&e.children.length>0){this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId);while(e&&e.task)this.modelManipulator.dispatcher.notifyParentTaskUpdated(e.task,this.control.viewModel.getDataUpdateErrorCallback()),e=e.parent}},t}(o.CommandBase);t.TaskCommandBase=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t,n;if(null!==e&&void 0!==e||(e={}),!e.parentId){var i=this.control.viewModel.findItem(this.control.currentSelectedTaskID),o=i&&i.task;o&&(e.parentId=o.parentId)}var s=this.control.viewModel.findItem(e.parentId)||this.control.viewModel.items[0],a=s&&s.task;e.start||(e.start=a?new Date(a.start.getTime()):new Date(this.control.range.start.getTime())),e.end||(e.end=a?new Date(a.end.getTime()):new Date(this.control.range.end.getTime())),null!==(t=e.title)&&void 0!==t||(e.title="New task"),null!==(n=e.progress)&&void 0!==n||(e.progress=0);var l=new c.TaskInsertingArguments(null,e);if(this.modelManipulator.dispatcher.notifyTaskCreating(l),!l.cancel){this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,l));var u=this.control.viewModel.findItem(e.parentId);this.updateParent(u)}return!l.cancel},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t}(h);t.CreateTaskCommand=p;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var t=this.control.viewModel.findItem(e);if(t.selected){var n={start:new Date(t.task.start.getTime()),end:new Date(t.task.end.getTime()),title:"New task",progress:0,parentId:e},i=new c.TaskInsertingArguments(null,n);if(this.modelManipulator.dispatcher.notifyTaskCreating(i),!i.cancel){this.history.addAndRedo(new r.CreateTaskHistoryItem(this.modelManipulator,i));var o=this.control.viewModel.findItem(n.parentId);this.updateParent(o)}return!i.cancel}return!1},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID);return e.prototype.isEnabled.call(this)&&!!n&&n.selected},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskInsert,t},t}(h);t.CreateSubTaskCommand=g;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i,o,r){var s=this;return void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===o&&(o=!0),this.isApiCall=i,this.isUpdateParentTaskRequired=o,n?(this.control.commandManager.showConfirmationDialog.execute(new l.ConfirmationDialogParameters(l.ConfirmationType.TaskDelete,(function(){s.executeInternal(t,r)}))),!1):e.prototype.execute.call(this,t,r)},t.prototype.executeInternal=function(e,n){var i=this;e=e||this.control.currentSelectedTaskID;var o=this.control.viewModel.findItem(e),l=o?o.task:this.control.viewModel.tasks.getItemById(e),u=new c.TaskRemovingArguments(l);if(this.modelManipulator.dispatcher.notifyTaskRemoving(u),u.cancel)return!1;this.control.viewModel.beginUpdate();var d=n||new r.RemoveTaskHistoryItem(this.modelManipulator);d.addTask(e);var h=this.control.viewModel.tasks.items.filter((function(t){return t.parentId==e}));h.forEach((function(e){return new t(i.control).execute(e.internalId,!1,!0,!1,d)}));var p=o&&o.parent,g=this.control.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e||t.successorId==e}));if(g.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;g=g.filter((function(e){return 0==h.filter((function(t){return t.internalId==e.predecessorId||t.internalId==e.successorId})).length})),g.forEach((function(e){return d.add(new s.RemoveDependencyHistoryItem(i.modelManipulator,e.internalId))}))}var f=this.control.viewModel.assignments.items.filter((function(t){return t.taskId==e}));return f.forEach((function(e){i.modelManipulator.dispatcher.fireResourceUnassigning(e)&&d.add(new a.DeassignResourceHistoryItem(i.modelManipulator,e.internalId))})),n||this.history.addAndRedo(d),this.isUpdateParentTaskRequired&&this.updateParent(p),this.control.viewModel.endUpdate(),!0},t.prototype.isEnabled=function(){var t=this.control,n=t.viewModel.findItem(t.currentSelectedTaskID),i=e.prototype.isEnabled.call(this)&&(!!n&&n.selected||this.isApiCall);return i},t.prototype.getState=function(){var t=e.prototype.getState.call(this),n=this.control;return t.visible=t.visible&&n.settings.editing.allowTaskDelete,t},t}(h);t.RemoveTaskCommand=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.tasks.getItemById(e);if(!n)return!1;var i=this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(n,t,(function(e){t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end,t.color=e.color}));if(i){this.history.beginTransaction();var o=!1;d.isDefined(t.title)&&t.title!==n.title&&this.history.addAndRedo(new u.TaskTitleHistoryItem(this.modelManipulator,e,t.title)),d.isDefined(t.progress)&&t.progress!==n.progress&&(this.history.addAndRedo(new u.TaskProgressHistoryItem(this.modelManipulator,e,t.progress)),o=!0),d.isDefined(t.start)&&d.isDefined(t.end)&&t.end.getTime()<t.start.getTime()&&(t.end=t.start),d.isDefined(t.start)&&t.start!==n.start&&(this.history.addAndRedo(new u.TaskStartHistoryItem(this.modelManipulator,e,t.start)),o=!0,this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(e,n.start)),d.isDefined(t.end)&&t.end!==n.end&&(this.history.addAndRedo(new u.TaskEndHistoryItem(this.modelManipulator,e,t.end)),o=!0,this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(e,n.end)),d.isDefined(t.color)&&t.color!==n.color&&this.history.addAndRedo(new u.TaskColorHistoryItem(this.modelManipulator,e,t.color)),o?this.validationController.updateParentsIfRequired(e):this.control.updateOwnerInAutoParentMode(),this.history.endTransaction()}return i},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},t}(h);t.UpdateTaskCommand=m;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},t.prototype.execute=function(){return!1},t}(h);t.TaskAddContextItemCommand=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskMoveCommand=t.TaskEndCommand=t.TaskStartCommand=t.TaskPropertyCommandValidation=t.TaskColorCommand=t.TaskProgressCommand=t.TaskDescriptionCommand=t.TaskTitleCommand=t.TaskPropertyCommandBase=void 0;var i=n(0),o=n(7),r=n(28),s=n(61),a=n(10),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},t.prototype.getTask=function(e){return this.control.viewModel.tasks.getItemById(e)},t}(o.CommandBase);t.TaskPropertyCommandBase=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskTitleUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskTitleHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskTitleCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskDescriptionUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskDescriptionHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskDescriptionCommand=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskProgressUpdating(this.getTask(e),t,(function(t){n.control.history.beginTransaction(),n.history.addAndRedo(new r.TaskProgressHistoryItem(n.modelManipulator,e,t)),n.validationController.updateParentsIfRequired(e),n.control.history.endTransaction()}))},t}(l);t.TaskProgressCommand=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this;return this.modelManipulator.dispatcher.raiseTaskColorUpdating(this.getTask(e),t,(function(t){n.history.addAndRedo(new r.TaskColorHistoryItem(n.modelManipulator,e,t))}))},t}(l);t.TaskColorCommand=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.executeInternal=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.control.settings.validation.validateDependencies?this.validate.apply(this,t):[],o=i.filter((function(e){return e.critical}));return!i.length||i.length>1&&0===o.length?this.executeCore.apply(this,t):(1===i.length&&this.control.commandManager.showConstraintViolationDialog.execute(new s.ConstraintViolationDialogParameters(i[0],(function(){e.executeCore.apply(e,t)}))),!1)},t.prototype.executeCore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!1},t.prototype.validate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[]},t}(l);t.TaskPropertyCommandValidation=p;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this.modelManipulator.dispatcher.raiseTaskStartUpdating(this.getTask(t),n,(function(e){n=e}));return i&&e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(t,n){return e.prototype.executeInternal.call(this,t,n)},t.prototype.executeCore=function(e,t){var n=this.control.viewModel.tasks.getItemById(e).start;if(n.getTime()==t.getTime())return!1;this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskStartHistoryItem(this.modelManipulator,e,t)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(e,n),this.validationController.updateParentsIfRequired(e),this.control.history.endTransaction();var i=this.control.viewModel.tasks.items.reduce((function(e,t){return t.isValid()?e.isValid()&&e.start.getTime()<t.start.getTime()?e:t:e}));return i.start<this.control.dataRange.start&&(this.control.dataRange.start=i.start,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t){return this.control.validationController.checkStartDependencies(e,t)},t}(p);t.TaskStartCommand=g;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this.modelManipulator.dispatcher.raiseTaskEndUpdating(this.getTask(t),n,(function(e){n=e}));return i&&e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(t,n){return e.prototype.executeInternal.call(this,t,n)},t.prototype.executeCore=function(e,t){var n=this.control.viewModel.tasks.getItemById(e).end;if(n.getTime()==t.getTime())return!1;this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskEndHistoryItem(this.modelManipulator,e,t)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(e,n),this.validationController.updateParentsIfRequired(e),this.control.history.endTransaction();var i=this.control.viewModel.tasks.items.reduce((function(e,t){return t.isValid()?e.end.getTime()>t.end.getTime()?e:t:e}));return i.end>this.control.dataRange.end&&(this.control.dataRange.end=i.end,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t){return this.control.validationController.checkEndDependencies(e,t)},t}(p);t.TaskEndCommand=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){var o=this.modelManipulator.dispatcher.raiseTaskStartAndEndUpdating(this.getTask(t),n,i,(function(e,t){n=e,i=t}));return o&&e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(t,n,i){return e.prototype.executeInternal.call(this,t,n,i)},t.prototype.executeCore=function(e,t,n){var i=this.control.viewModel.tasks.getItemById(e),o=new a.DateRange(new Date(i.start.getTime()),new Date(i.end.getTime()));this.control.history.beginTransaction(),this.history.addAndRedo(new r.TaskMoveHistoryItem(this.modelManipulator,e,new a.DateRange(t,n))),this.validationController.correctOnMoving(e,t.getTime()-o.start.getTime()),this.control.settings.validation.validateDependencies&&(this.control.validationController.moveStartDependTasks(e,o.start),this.control.validationController.moveEndDependTasks(e,o.end)),this.control.history.endTransaction();var s=this.control.viewModel.tasks.items.reduce((function(e,t){return t.isValid()?e.end.getTime()>t.end.getTime()?e:t:e}));s.end>this.control.dataRange.end&&(this.control.dataRange.end=s.end,this.control.resetAndUpdate());var l=this.control.viewModel.tasks.items.reduce((function(e,t){return t.isValid()?e.isValid()&&e.start.getTime()<t.start.getTime()?e:t:e}));return l.start<this.control.dataRange.start&&(this.control.dataRange.start=l.start,this.control.resetAndUpdate()),!0},t.prototype.validate=function(e,t,n){var o=this.control.validationController.checkStartDependencies(e,t),r=this.control.validationController.checkEndDependencies(e,n);return i.__spreadArray(i.__spreadArray([],o),r)},t}(p);t.TaskMoveCommand=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveDependencyCommand=t.CreateDependencyCommand=t.DependencyCommandBase=void 0;var i=n(0),o=n(7),r=n(24),s=n(13),a=n(26),l=n(124),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.DependencyCommandBase=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){return e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(e,t,n){if(this.control.viewModel.dependencies.items.filter((function(n){return n.predecessorId==e&&n.successorId==t||n.successorId==e&&n.predecessorId==t})).length)return!1;var i=new l.DependencyInsertingArguments(e,t,n);if(this.modelManipulator.dispatcher.notifyDependencyInserting(i),i.cancel)return!1;if(e=i.predecessorId,t=i.successorId,n=i.type,this.control.history.beginTransaction(),this.history.addAndRedo(new r.InsertDependencyHistoryItem(this.modelManipulator,e,t,n)),this.control.settings.validation.validateDependencies){var o=this.control.viewModel.tasks.getItemById(e);n===s.DependencyType.SF||n===s.DependencyType.SS?this.control.validationController.moveStartDependTasks(e,o.start):this.control.validationController.moveEndDependTasks(e,o.end)}return this.control.history.endTransaction(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},t}(c);t.CreateDependencyCommand=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){var i=this;return void 0===n&&(n=!0),n?(this.control.commandManager.showConfirmationDialog.execute(new a.ConfirmationDialogParameters(a.ConfirmationType.DependencyDelete,(function(){i.executeInternal(t)}))),!1):e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){if(e=e||this.control.taskEditController.dependencyId,null!=e){var t=this.control.viewModel.dependencies.items.filter((function(t){return t.internalId==e}))[0];if(t){var n=new l.DependencyRemovingArguments(t);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(n),!n.cancel)return this.history.addAndRedo(new r.RemoveDependencyHistoryItem(this.modelManipulator,e)),e===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.enabled&&null!=this.control.taskEditController.dependencyId,t},t}(c);t.RemoveDependencyCommand=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyRemovingArguments=t.DependencyInsertingArguments=void 0;var i=n(0),o=n(23),r=function(e){function t(t,n,i){var o=e.call(this,null)||this;return o.values={predecessorId:t,successorId:n,type:i},o}return i.__extends(t,e),Object.defineProperty(t.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),t}(o.BaseArguments);t.DependencyInsertingArguments=r;var s=function(e){function t(t){var n=e.call(this,t.id)||this;return n.values=t,n}return i.__extends(t,e),t}(o.BaseArguments);t.DependencyRemovingArguments=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeassignResourceCommand=t.AssignResourceCommand=t.RemoveResourceCommand=t.CreateResourceCommand=t.ResourceCommandBase=void 0;var i=n(0),o=n(7),r=n(25),s=n(59),a=n(37),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t}(o.CommandBase);t.ResourceCommandBase=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n,i){return void 0===n&&(n=""),e.prototype.execute.call(this,t,n,i)},t.prototype.executeInternal=function(e,t,n){void 0===t&&(t="");var i=new s.ResourceInsertingArguments(e,t);return this.modelManipulator.dispatcher.notifyResourceCreating(i),i.cancel||this.history.addAndRedo(new r.CreateResourceHistoryItem(this.modelManipulator,i.text,i.color,n)),!i.cancel},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},t}(l);t.CreateResourceCommand=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this,n=this.control.viewModel.resources.items.filter((function(t){return t.internalId==e}))[0];if(n){var i=new s.ResourceRemovingArguments(n);if(this.modelManipulator.dispatcher.notifyResourceRemoving(i),!i.cancel){var o=new r.RemoveResourceHistoryItem(this.modelManipulator,e),a=this.control.viewModel.assignments.items.filter((function(t){return t.resourceId==e}));return a.forEach((function(e){t.modelManipulator.dispatcher.fireResourceUnassigning(e)&&o.add(new r.DeassignResourceHistoryItem(t.modelManipulator,e.internalId))})),this.history.addAndRedo(o),!0}}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},t}(l);t.RemoveResourceCommand=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.assignments.items.filter((function(n){return n.resourceId==e&&n.taskId==t}))[0];if(!n){var i=this.control.viewModel,o=new a.ResourceAssigningArguments(i.convertInternalToPublicKey("resource",e),i.convertInternalToPublicKey("task",t));if(this.modelManipulator.dispatcher.notifyResourceAssigning(o),!o.cancel)return this.history.addAndRedo(new r.AssignResourceHistoryItem(this.modelManipulator,i.convertPublicToInternalKey("resource",o.resourceId),i.convertPublicToInternalKey("task",o.taskId))),!0}return!1},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(l);t.AssignResourceCommand=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t){return e.prototype.execute.call(this,t)},t.prototype.executeInternal=function(e){var t=this.control.viewModel.assignments.items.filter((function(t){return t.internalId==e}))[0];return!(!t||!this.modelManipulator.dispatcher.fireResourceUnassigning(t))&&(this.history.addAndRedo(new r.DeassignResourceHistoryItem(this.modelManipulator,e)),!0)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(l);t.DeassignResourceCommand=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskEditParameters=t.TaskEditDialogCommand=void 0;var i=n(0),o=n(27),r=n(28),s=n(31),a=n(25),l=n(37),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.onBeforeDialogShow=function(e){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(e,(function(t){var n=t.values;e.start=n.start,e.end=n.end,e.progress=n.progress,e.title=n.title,e.readOnlyFields=t.readOnlyFields,e.hiddenFields=t.hiddenFields}))},t.prototype.applyParameters=function(e,t){this.history.beginTransaction();var n=this.control.modelManipulator.dispatcher.raiseTaskMultipleUpdating(this.control.viewModel.tasks.getItemById(t.id),e,(function(t){e.title=t.title?t.title:"",e.progress=t.progress,e.start="string"===typeof t.start?new Date(t.start):t.start||new Date(0),e.end="string"===typeof t.end?new Date(t.end):t.end||new Date(0)}));n&&(e.title!==t.title&&this.history.addAndRedo(new r.TaskTitleHistoryItem(this.modelManipulator,t.id,e.title)),e.progress!==t.progress&&this.history.addAndRedo(new r.TaskProgressHistoryItem(this.modelManipulator,t.id,e.progress)),e.end.getTime()<e.start.getTime()&&(e.end=e.start),e.start!==t.start&&(this.history.addAndRedo(new r.TaskStartHistoryItem(this.modelManipulator,t.id,e.start)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveStartDependTasks(t.id,t.start)),e.end!==t.end&&(this.history.addAndRedo(new r.TaskEndHistoryItem(this.modelManipulator,t.id,e.end)),this.control.settings.validation.validateDependencies&&this.control.validationController.moveEndDependTasks(t.id,t.end)));for(var i=0;i<e.assigned.length;i++){var o=t.assigned.getItemById(e.assigned.getItem(i).internalId);if(!o){var s=e.assigned.getItem(i).internalId,c=t.id,u=new l.ResourceAssigningArguments(s,c);this.modelManipulator.dispatcher.notifyResourceAssigning(u),u.cancel||this.history.addAndRedo(new a.AssignResourceHistoryItem(this.modelManipulator,u.resourceId,u.taskId))}}var d=function(n){var i=t.assigned.getItem(n),o=e.assigned.getItemById(i.internalId);if(!o){var r=h.control.viewModel.assignments.items.filter((function(e){return e.resourceId==i.internalId&&e.taskId==t.id}))[0];h.modelManipulator.dispatcher.fireResourceUnassigning(r)&&h.history.addAndRedo(new a.DeassignResourceHistoryItem(h.modelManipulator,r.internalId))}},h=this;for(i=0;i<t.assigned.length;i++)d(i);var p=e.start!==t.start||e.end!==t.end||e.progress!==t.progress||e.title!==t.title;return n&&p&&this.validationController.updateParentsIfRequired(t.id),this.history.endTransaction(),!1},t.prototype.createParameters=function(e){e=e||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var t=new u;return t.id=e.internalId,t.title=e.title,t.progress=e.progress,t.start=e.start,t.end=e.end,t.assigned=this.control.viewModel.getAssignedResources(e),t.resources=new s.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,t.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,t.enableEdit=this.isTaskEditEnabled(),t.enableRangeEdit=this.isTaskRangeEditEnabled(e),t},t.prototype.isTaskEditEnabled=function(){var e=this.control.settings;return e.editing.enabled&&e.editing.allowTaskUpdate},t.prototype.isTaskRangeEditEnabled=function(e){return!this.control.viewModel.isTaskToCalculateByChildren(e.internalId)},t.prototype.isEnabled=function(){var e=this.control,t=e.viewModel.findItem(e.currentSelectedTaskID);return!!t&&t.selected},t.prototype.getState=function(){var t=e.prototype.getState.call(this);return t.visible=t.visible&&!this.control.taskEditController.dependencyId,t},t.prototype.getDialogName=function(){return"TaskEdit"},t}(o.DialogBase);t.TaskEditDialogCommand=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enableEdit=!0,t.enableRangeEdit=!0,t.hiddenFields=[],t.readOnlyFields=[],t}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.id=this.id,e.title=this.title,e.progress=this.progress,e.start=this.start,e.end=this.end,e.assigned=new s.ResourceCollection,e.assigned.addRange(this.assigned.items),e.resources=new s.ResourceCollection,e.resources.addRange(this.resources.items),e.showResourcesDialogCommand=this.showResourcesDialogCommand,e.showTaskEditDialogCommand=this.showTaskEditDialogCommand,e.enableEdit=this.enableEdit,e.enableRangeEdit=this.enableRangeEdit,e.hiddenFields=this.hiddenFields.slice(),e.readOnlyFields=this.readOnlyFields.slice(),e},t}(o.DialogParametersBase);t.TaskEditParameters=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourcesDialogParameters=t.ResourcesDialogCommand=void 0;var i=n(0),o=n(27),r=n(31),s=n(26),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resourcesForDelete=[],t}return i.__extends(t,e),t.prototype.onBeforeDialogShow=function(e){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(e,(function(t){e.resources=t.values.resources}))},t.prototype.applyParameters=function(e,t){this.history.beginTransaction();for(var n=0;n<e.resources.length;n++){var i=t.resources.getItemById(e.resources.getItem(n).internalId);i||this.control.commandManager.createResourceCommand.execute(e.resources.getItem(n).text)}for(n=0;n<t.resources.length;n++){i=e.resources.getItemById(t.resources.getItem(n).internalId);i||this.resourcesForDelete.push(t.resources.getItem(n))}return this.history.endTransaction(),!1},t.prototype.createParameters=function(e){this.callBack=e;var t=new l;return t.resources=new r.ResourceCollection,t.resources.addRange(this.control.viewModel.resources.items),t},t.prototype.afterClosing=function(){var e=this;if(this.resourcesForDelete.length){var t=this.control.commandManager.showConfirmationDialog,n=new s.ConfirmationDialogParameters(s.ConfirmationType.ResourcesDelete,(function(){e.history.beginTransaction();for(var t=0;t<e.resourcesForDelete.length;t++)e.control.commandManager.removeResourceCommand.execute(e.resourcesForDelete[t].internalId);e.history.endTransaction()}));n.message=this.resourcesForDelete.reduce((function(e,t){return i.__spreadArray(i.__spreadArray([],e),[t.text])}),[]).join(", "),this.callBack&&(t.afterClosing=function(){return e.callBack()}),t.execute(n)}else this.callBack&&this.callBack()},t.prototype.getDialogName=function(){return"Resources"},t}(o.DialogBase);t.ResourcesDialogCommand=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.clone=function(){var e=new t;return e.resources=new r.ResourceCollection,e.resources.addRange(this.resources.items),e},t}(o.DialogParametersBase);t.ResourcesDialogParameters=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttClientCommand=void 0,function(e){e[e["CreateTask"]=0]="CreateTask",e[e["CreateSubTask"]=1]="CreateSubTask",e[e["RemoveTask"]=2]="RemoveTask",e[e["RemoveDependency"]=3]="RemoveDependency",e[e["TaskInformation"]=4]="TaskInformation",e[e["TaskAddContextItem"]=5]="TaskAddContextItem",e[e["Undo"]=6]="Undo",e[e["Redo"]=7]="Redo",e[e["ZoomIn"]=8]="ZoomIn",e[e["ZoomOut"]=9]="ZoomOut",e[e["FullScreen"]=10]="FullScreen",e[e["CollapseAll"]=11]="CollapseAll",e[e["ExpandAll"]=12]="ExpandAll",e[e["ResourceManager"]=13]="ResourceManager"}(t.GanttClientCommand||(t.GanttClientCommand={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedoCommand=t.UndoCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.undo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canUndo()},t}(o.CommandBase);t.UndoCommand=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.history.redo(),!0},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.history.canRedo()},t}(o.CommandBase);t.RedoCommand=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomOutCommand=t.ZoomInCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomIn(),!0},t}(o.CommandBase);t.ZoomInCommand=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(!0)},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.zoomOut(),!0},t}(o.CommandBase);t.ZoomOutCommand=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleFullScreenCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isInFullScreenMode=!1,t.fullScreenTempVars={},t}return i.__extends(t,e),t.prototype.getState=function(){var e=new o.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},t}(o.CommandBase);t.ToggleFullScreenCommand=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpandAllCommand=t.CollapseAllCommand=void 0;var i=n(0),o=n(7),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.ganttOwner.collapseAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.CollapseAllCommand=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.execute=function(){return e.prototype.execute.call(this)},t.prototype.executeInternal=function(){return this.control.ganttOwner.expandAll(),!0},t.prototype.isEnabled=function(){return!0},t}(o.CommandBase);t.ExpandAllCommand=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorCommand=t.ResourcePropertyCommandBase=void 0;var i=n(0),o=n(7),r=n(134),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getState=function(){return new o.SimpleCommandState(this.isEnabled())},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},t}(o.CommandBase);t.ResourcePropertyCommandBase=s;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.execute=function(t,n){return e.prototype.execute.call(this,t,n)},t.prototype.executeInternal=function(e,t){var n=this.control.viewModel.resources.getItemById(e).color;return n!=t&&(this.history.addAndRedo(new r.ResourceColorHistoryItem(this.modelManipulator,e,t)),!0)},t}(s);t.ResourceColorCommand=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceColorHistoryItem=t.ResourcePropertiesHistoryItemBase=void 0;var i=n(0),o=n(15),r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.resourceId=n,o.newValue=i,o}return i.__extends(t,e),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},t}(o.HistoryItem);t.ResourcePropertiesHistoryItemBase=r;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},t}(r);t.ResourceColorHistoryItem=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BarManager=void 0;var i=function(){function e(e,t){this.control=e,this.bars=t}return e.prototype.updateContextMenu=function(){for(var e=0,t=void 0;t=this.bars[e];e++)if(t.isContextMenu()){t.updateItemsList();for(var n=t.getCommandKeys(),i=0;i<n.length;i++)this.updateBarItem(t,n[i])}},e.prototype.updateItemsState=function(e){for(var t=!!e.length,n=function(n,o){if(o.isVisible()){for(var r=o.getCommandKeys(),s=function(n){if(t&&!e.filter((function(e){return e==r[n]})).length)return"continue";i.updateBarItem(o,r[n])},a=0;a<r.length;a++)s(a);o.completeUpdate()}},i=this,o=0,r=void 0;r=this.bars[o];o++)n(o,r)},e.prototype.updateBarItem=function(e,t){var n=this.control.commandManager.getCommand(t);if(n){var i=n.getState();e.setItemVisible(t,i.visible),i.visible&&(e.setItemEnabled(t,i.enabled),e.setItemValue(t,i.value))}},e}();t.BarManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationController=t.ValidationError=void 0;var i=n(0),o=n(13),r=n(28),s=n(10),a=n(4),l=n(1),c=function(){function e(e,t){void 0===t&&(t=!1),this.dependencyId=e,this.critical=t}return e}();t.ValidationError=c;var u=function(){function e(e){this.gantt=e}return Object.defineProperty(e.prototype,"viewModel",{get:function(){return this.gantt.viewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.gantt.history},enumerable:!1,configurable:!0}),e.prototype.checkStartDependencies=function(e,t){var n=this,i=[],r=this.gantt.viewModel.tasks.getItemById(e),s=this.viewModel.dependencies.items.filter((function(t){return t.successorId==e}));return s.forEach((function(e){var s=n.gantt.viewModel.tasks.getItemById(e.predecessorId);(e.type==o.DependencyType.FS&&s.end>t||e.type==o.DependencyType.SS&&s.start>t)&&i.push(new c(e.internalId,!0)),(e.type==o.DependencyType.FS&&s.end.valueOf()==r.start.valueOf()&&t>s.end||e.type==o.DependencyType.SS&&s.start.valueOf()==r.start.valueOf()&&t>s.start)&&i.push(new c(e.internalId))})),i},e.prototype.checkEndDependencies=function(e,t){var n=this,i=[],r=this.gantt.viewModel.tasks.getItemById(e),s=this.viewModel.dependencies.items.filter((function(t){return t.successorId==e}));return s.forEach((function(e){var s=n.gantt.viewModel.tasks.getItemById(e.predecessorId);(e.type==o.DependencyType.SF&&s.start>t||e.type==o.DependencyType.FF&&s.end>t)&&i.push(new c(e.internalId,!0)),(e.type==o.DependencyType.SF&&s.start.valueOf()==r.end.valueOf()&&t>s.start||e.type==o.DependencyType.FF&&s.end.valueOf()==r.end.valueOf()&&t>s.end)&&i.push(new c(e.internalId))})),i},e.prototype.moveEndDependTasks=function(e,t){var n=this,i=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e}));i.forEach((function(i){var a=n.gantt.viewModel.tasks.getItemById(e),l=n.gantt.viewModel.tasks.getItemById(i.successorId),c=new s.DateRange(new Date(l.start.getTime()),new Date(l.end.getTime())),u=new s.DateRange(new Date,new Date);if(i.type==o.DependencyType.FS&&(l.start<a.end||l.start.valueOf()===t.valueOf()&&l.start>a.end)){if(u.start.setTime(a.end.getTime()),u.end.setTime(u.start.getTime()+(l.end.getTime()-l.start.getTime())),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc){var d=u.start.getTime()-c.start.getTime();n.correctOnMoving(l.internalId,d)}n.moveStartDependTasks(i.successorId,c.start),n.moveEndDependTasks(i.successorId,c.end)}if(i.type==o.DependencyType.FF&&(l.end<a.end||l.end.valueOf()===t.valueOf()&&l.end>a.end)){if(u.start.setTime(a.end.getTime()-(l.end.getTime()-l.start.getTime())),u.end.setTime(a.end.getTime()),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc){d=u.start.getTime()-c.start.getTime();n.correctOnMoving(l.internalId,d)}n.moveStartDependTasks(i.successorId,c.start),n.moveEndDependTasks(i.successorId,c.end)}}))},e.prototype.moveStartDependTasks=function(e,t){var n=this,i=this.viewModel.dependencies.items.filter((function(t){return t.predecessorId==e}));i.forEach((function(i){var a=n.gantt.viewModel.tasks.getItemById(e),l=n.gantt.viewModel.tasks.getItemById(i.successorId),c=new s.DateRange(new Date(l.start.getTime()),new Date(l.end.getTime())),u=new s.DateRange(new Date,new Date);if(i.type==o.DependencyType.SF&&(l.end<a.start||l.end.valueOf()===t.valueOf()&&l.end>a.start)){if(u.start.setTime(a.start.getTime()-(l.end.getTime()-l.start.getTime())),u.end.setTime(a.start.getTime()),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc){var d=u.start.getTime()-c.start.getTime();n.correctOnMoving(l.internalId,d)}n.moveStartDependTasks(i.successorId,c.start),n.moveEndDependTasks(i.successorId,c.end)}if(i.type==o.DependencyType.SS&&(l.start<a.start||l.start.valueOf()===t.valueOf()&&l.start>a.start)){if(u.start.setTime(a.start.getTime()),u.end.setTime(a.start.getTime()+(l.end.getTime()-l.start.getTime())),n.correctMoving(l.internalId,u),n.history.addAndRedo(new r.TaskMoveHistoryItem(n.gantt.modelManipulator,i.successorId,u)),n._parentAutoCalc){d=u.start.getTime()-c.start.getTime();n.correctOnMoving(l.internalId,d)}n.moveStartDependTasks(i.successorId,c.start),n.moveEndDependTasks(i.successorId,c.end)}}))},e.prototype.correctMoving=function(e,t){var n=this,r=t.end.getTime()-t.start.getTime(),s=i.__spreadArray(i.__spreadArray([],this.checkStartDependencies(e,t.start)),this.checkEndDependencies(e,t.end)),a=s.filter((function(e){return e.critical}));return a.forEach((function(e){var i=n.gantt.viewModel.dependencies.getItemById(e.dependencyId),s=n.gantt.viewModel.tasks.getItemById(i.predecessorId);i.type==o.DependencyType.FS&&t.start<s.end&&(t.start.setTime(s.end.getTime()),t.end.setTime(t.start.getTime()+r)),i.type==o.DependencyType.SS&&t.start<s.start&&(t.start.setTime(s.start.getTime()),t.end.setTime(t.start.getTime()+r)),i.type==o.DependencyType.FF&&t.end<s.end&&(t.end.setTime(s.end.getTime()),t.start.setTime(t.end.getTime()-r)),i.type==o.DependencyType.SF&&t.end<s.start&&(t.end.setTime(s.start.getTime()),t.start.setTime(t.end.getTime()-r))})),t},e.prototype.recalculateParents=function(e,t){var n=e&&e.parent;while(n&&n.task){for(var i=n.children,o=this.gantt.range.end,r=this.gantt.range.start,s=0,l=0,c={id:n.task.internalId},u=0;u<i.length;u++){var d=i[u].task;if(d.isValid()){o=a.DateTimeUtils.getMinDate(o,d.start),r=a.DateTimeUtils.getMaxDate(r,d.end);var h=d.getDuration();s+=d.progress*h,l+=h}}a.DateTimeUtils.areDatesEqual(n.task.start,o)||(c["start"]=o),a.DateTimeUtils.areDatesEqual(n.task.end,r)||(c["end"]=r),s=Math.ceil(s/l),s!==n.task.progress&&(c["progress"]=s),t(c),n=n.parent}},e.prototype.updateParentsRangeByChild=function(e){var t=this;this.recalculateParents(this.viewModel.findItem(e),(function(e){if(l.isDefined(e.id)){var n=t.history,i=t.gantt.modelManipulator;l.isDefined(e.start)&&n.addAndRedo(new r.TaskStartHistoryItem(i,e.id,e.start)),l.isDefined(e.end)&&n.addAndRedo(new r.TaskEndHistoryItem(i,e.id,e.end)),l.isDefined(e.progress)&&n.addAndRedo(new r.TaskProgressHistoryItem(i,e.id,e.progress))}}))},e.prototype.updateChildRangeByParent=function(e,t,n){var i=this.viewModel.findItem(e);if(i&&0!==i.children.length)for(var o=i.children,s=0;s<o.length;s++){var a=o[s].task,l=new Date(a.start.getTime()+t),c=new Date(a.end.getTime()+t);n.push({id:a.internalId,start:a.start,end:a.end}),l<a.end?(this.history.addAndRedo(new r.TaskStartHistoryItem(this.gantt.modelManipulator,a.internalId,l)),this.history.addAndRedo(new r.TaskEndHistoryItem(this.gantt.modelManipulator,a.internalId,c))):(this.history.addAndRedo(new r.TaskEndHistoryItem(this.gantt.modelManipulator,a.internalId,c)),this.history.addAndRedo(new r.TaskStartHistoryItem(this.gantt.modelManipulator,a.internalId,l))),this.updateChildRangeByParent(a.internalId,t,n)}},e.prototype.updateParentsIfRequired=function(e){this._parentAutoCalc&&(this.updateParentsRangeByChild(e),this.gantt.updateOwnerInAutoParentMode())},e.prototype.correctOnMoving=function(e,t){var n=this;if(this._parentAutoCalc&&0!==t){this.updateParentsRangeByChild(e);var i=[];this.updateChildRangeByParent(e,t,i),this.gantt.settings.validation.validateDependencies&&i.forEach((function(e){n.moveStartDependTasks(e.id,e.start),n.moveEndDependTasks(e.id,e.end)})),this.gantt.updateOwnerInAutoParentMode()}},Object.defineProperty(e.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),e}();t.ValidationController=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenModeHelper=void 0;var i=n(5),o=n(138),r=n(2),s=function(){function e(e){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.gantt=e}return Object.defineProperty(e.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),e.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},e.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},e.prototype.prepareFullScreenMode=function(){var e=this.getMainElement();o.AttrUtils.changeElementStyleAttribute(e,"border-top-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-left-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-right-width","0px"),o.AttrUtils.changeElementStyleAttribute(e,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=r.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=r.DomUtils.getDocumentScrollLeft(),o.AttrUtils.changeElementStyleAttribute(e,"background-color","white"),o.AttrUtils.changeElementStyleAttribute(e,"position","fixed"),o.AttrUtils.changeElementStyleAttribute(e,"top","0px"),o.AttrUtils.changeElementStyleAttribute(e,"left","0px"),o.AttrUtils.changeElementStyleAttribute(e,"z-index","1010"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),o.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=e.style.width,this.fullScreenTempVars.height=e.style.height||e.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},e.prototype.setNormalMode=function(){this.cancelFullScreen(document);var e=this.getMainElement();o.AttrUtils.restoreElementStyleAttribute(e,"left"),o.AttrUtils.restoreElementStyleAttribute(e,"top"),o.AttrUtils.restoreElementStyleAttribute(e,"background-color"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),o.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,o.AttrUtils.restoreElementStyleAttribute(e,"position"),o.AttrUtils.restoreElementStyleAttribute(e,"border-top-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-left-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-right-width"),o.AttrUtils.restoreElementStyleAttribute(e,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},e.prototype.adjustControlInFullScreenMode=function(){var e=0==document.documentElement.clientWidth?document.body.clientWidth:document.documentElement.clientWidth,t=0==document.documentElement.clientHeight?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(e),this.setHeight(t),this.adjustControl()},e.prototype.requestFullScreen=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},e.prototype.cancelFullScreen=function(e){i.Browser.Firefox&&!this.getFullScreenElement(e)||(e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen?e.msExitFullscreen():e.exitFullscreen&&e.exitFullscreen())},e.prototype.getFullScreenElement=function(e){return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement},e.prototype.setWidth=function(e){var t=this.getMainElement();t.style.width=this.isNumber(e)?e+"px":e},e.prototype.setHeight=function(e){var t=this.getMainElement();t.style.height=this.isNumber(e)?e+"px":e},e.prototype.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.prototype.getMainElement=function(){return this.gantt.getOwnerControlMainElement()},e.prototype.adjustControl=function(){this.gantt.adjustOwnerControl()},e}();t.FullScreenModeHelper=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=function(){function e(){}return e.setElementAttribute=function(e,t,n){e.setAttribute&&(i.Browser.IE&&i.Browser.MajorVersion>=11&&"src"===t.toLowerCase()&&e.setAttribute(t,""),e.setAttribute(t,n))},e.setStyleAttribute=function(e,t,n){e.setProperty&&e.setProperty(t,n,"")},e.getElementAttribute=function(e,t){return e.getAttribute(t)},e.getStyleAttribute=function(e,t){if(e.getPropertyValue){if(i.Browser.Firefox)try{return e.getPropertyValue(t)}catch(n){return e[t]}return e.getPropertyValue(t)}return null},e.removeElementAttribute=function(e,t){e.removeAttribute&&e.removeAttribute(t)},e.removeStyleAttribute=function(e,t){e.removeProperty&&e.removeProperty(t)},e.changeElementStyleAttribute=function(t,n,i){e.saveStyleAttributeInElement(t,n),e.setStyleAttribute(t.style,n,i)},e.restoreElementStyleAttribute=function(t,n){var i="saved"+n,o=t.style;if(e.isExistsAttributeInElement(t,i)){var r=e.getElementAttribute(t,i);return r===e.emptyObject||null===r?e.removeStyleAttribute(o,n):e.setStyleAttribute(o,n,r),e.removeElementAttribute(t,i),!0}return!1},e.saveStyleAttributeInElement=function(t,n){var i="saved"+n,o=t.style;if(!e.isExistsAttributeInElement(t,i)){var r=e.getStyleAttribute(o,n);e.setElementAttribute(t,i,e.isAttributeExists(r)?r:e.emptyObject)}},e.isExistsAttributeInElement=function(t,n){var i=e.getElementAttribute(t,n);return e.isAttributeExists(i)},e.isAttributeExists=function(e){return null!==e&&""!==e},e.emptyObject="DxEmptyValue",e}();t.AttrUtils=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttExporter=void 0;var i=n(140),o=function(){function e(e){if(!e.settings.pdfDoc&&!e.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=e}return e.prototype.export=function(){for(var e,t,n=this.pdfDoc,o=this._info,r=new i.PdfGanttPageDrawer(n,o.settings),s=o.getPages(n),a=s.length,l=0;l<a;l++){l>0&&n.addPage(this.getDocumentFormat(),this.getOrientation());var c=s[l];r.drawPage(c)}return(null===(e=this.props)||void 0===e?void 0:e.fileName)&&n.save(null===(t=this.props)||void 0===t?void 0:t.fileName),n},Object.defineProperty(e.prototype,"pdfDoc",{get:function(){var e,t;return null!==(e=this._pdfDoc)&&void 0!==e||(this._pdfDoc=null!==(t=this._info.settings.pdfDoc)&&void 0!==t?t:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),e.prototype.createDoc=function(){var e=this.getJsPDFProps();return this._info.settings.docCreateMethod(e)},e.prototype.getJsPDFProps=function(){var e={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return e["orientation"]=this.getOrientation(),e["format"]=this.getDocumentFormat(),e},e.prototype.getOrientation=function(){var e;return(null===(e=this.props)||void 0===e?void 0:e.landscape)?"l":"p"},e.prototype.getDocumentFormat=function(){var e,t,n,i;return(null===(e=this.props)||void 0===e?void 0:e.format)||(null===(t=this.props)||void 0===t?void 0:t.pageSize)?(null===(n=this.props)||void 0===n?void 0:n.pageSize)?[this.props.pageSize.height,this.props.pageSize.width]:null===(i=this.props)||void 0===i?void 0:i.format:"a4"},e}();t.PdfGanttExporter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttPageDrawer=void 0;var i=n(3),o=n(141),r=n(30),s=n(40),a=n(142),l=function(){function e(e,t){this._pdfDoc=e,this._props=t}return e.prototype.drawPage=function(e){var t=this._pdfDoc,n=new a.PdfGanttTableDrawer(t);if(this.needDrawChart()){n.drawTable(e.tables[r.PdfPageTableNames.chartMain]);var i=new o.PdfObjectDrawer(t,e.objects);i.draw(),n.drawTable(e.tables[r.PdfPageTableNames.chartScaleTop]),n.drawTable(e.tables[r.PdfPageTableNames.chartScaleBottom])}return this.needDrawTreeList()&&(n.drawTable(e.tables[r.PdfPageTableNames.treeListMain]),n.drawTable(e.tables[r.PdfPageTableNames.treeListHeader])),this.drawMargins(e),t},e.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.chart},e.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===s.ExportMode.all||this._props.exportMode===s.ExportMode.treeList},e.prototype.getContentRightBottom=function(e){var t=new i.Point(0,0);for(var n in e.tables)if(Object.prototype.hasOwnProperty.call(e.tables,n)){var o=e.tables[n];t.x=Math.max(t.x,o.position.x+o.size.width),t.y=Math.max(t.y,o.position.y+o.size.height)}return t},e.prototype.drawMargins=function(e){var t=this._pdfDoc,n=this._props,i=t.getPageWidth(),o=t.getPageHeight(),r=this.getContentRightBottom(e);t.setFillColor(255,255,255),t.rect(0,0,n.margins.left,o,"F"),t.rect(0,0,i,n.margins.top,"F"),t.rect(r.x,0,i,o,"F"),t.rect(0,r.y,i,o,"F")},e}();t.PdfGanttPageDrawer=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfObjectDrawer=void 0;var i=n(11),o=n(62),r=n(38),s=function(){function e(e,t){this._FONT_ROW_RATIO=1.15,this._info=t,this._pdfDoc=e}return e.prototype.draw=function(){this.drawDependencies(),this.drawTasks(),this.drawResources()},e.prototype.drawTasks=function(){var e,t=this,n=null===(e=this._info)||void 0===e?void 0:e.tasks;n&&n.forEach((function(e){return t.drawTask(e)}))},e.prototype.drawTask=function(e){var t=this._pdfDoc;t.setFillColor.apply(t,e.taskColor.getRBGColor()),t.setDrawColor.apply(t,e.taskColor.getRBGColor()),e.isMilestone?this.drawMilestone(e):this.drawRegularTask(e)},e.prototype.drawMilestone=function(e){var t=this._pdfDoc,n=e.sidePoints[0].x,i=e.sidePoints[0].y,o=e.sidePoints[1].x,r=e.sidePoints[1].y,s=e.sidePoints[2].x,a=e.sidePoints[2].y,l=e.sidePoints[3].x,c=e.sidePoints[3].y;t.triangle(n,i,o,r,s,a,"FD"),t.triangle(n,i,l,c,s,a,"FD")},e.prototype.drawRegularTask=function(e){var t=this._pdfDoc;t.rect(e.left,e.top,e.width,e.height,"FD"),e.isParent&&this.drawParentBorder(e),e.progressWidth&&(t.setFillColor.apply(t,e.progressColor.getRBGColor()),t.rect(e.left,e.top,e.progressWidth,e.height,"F")),e.text&&this.printTaskTitle(e)},e.prototype.drawParentBorder=function(e){var t=this._pdfDoc,n=e.sidePoints[0].x,i=e.sidePoints[1].y,o=e.sidePoints[3].y,r=e.sidePoints[2].x,s=e.sidePoints[3].y-e.sidePoints[1].y,a=e.progressWidth>s?e.progressColor.getRBGColor():e.taskColor.getRBGColor();t.setFillColor.apply(t,a),t.triangle(n,i,n,o,n+s,i,"FD"),t.setFillColor.apply(t,e.taskColor.getRBGColor()),t.triangle(r,i,r,o,r-s,i,"FD")},e.prototype.printTaskTitle=function(e){var t,n=this._pdfDoc,s=e.textStyle,a=s&&s.textColor.getRBGColor(),l=s&&s.fontSize;n.setTextColor.apply(n,a),n.setFontSize(l);var c=e.top+l*this._FONT_ROW_RATIO/n.internal.scaleFactor;e.isParent&&(c-=r.PdfTaskInfo.defaultParentHeightCorrection);var u=s&&s.cellPadding.left||0,d=s&&s.cellPadding.right||0;if(e.textPosition===i.TaskTitlePosition.Inside){var h=e.width-u-d;t=e.left+u,n.text(o.EllipsisHelper.limitPdfTextWithEllipsis(e.text,n,h),t,c)}else t=e.left-d,n.text(e.text,t,c,{align:"right"})},e.prototype.drawDependencies=function(){var e,t=this,n=null===(e=this._info)||void 0===e?void 0:e.dependencies;n&&n.forEach((function(e){return t.drawDependencyLine(e)}))},e.prototype.drawDependencyLine=function(e){var t,n;if((t=this._pdfDoc).setFillColor.apply(t,e.fillColor.getRBGColor()),(n=this._pdfDoc).setDrawColor.apply(n,e.fillColor.getRBGColor()),e.arrowInfo)this.drawArrow(e);else{var i=e.points;this._pdfDoc.line(i[0].x,i[0].y,i[1].x,i[1].y)}},e.prototype.isValidLine=function(e){var t=e.points;return!isNaN(t[0].x)&&!isNaN(t[0].y)&&!isNaN(t[1].x)&&!isNaN(t[1].y)},e.prototype.drawArrow=function(e){var t=e.arrowInfo.width||0,n=e.points[0].x,o=e.points[0].y;switch(e.arrowInfo.position){case i.Position.Left:this._pdfDoc.triangle(n,o+t,n+t,o,n+t,o+2*t,"FD");break;case i.Position.Right:this._pdfDoc.triangle(n,o,n,o+2*t,n+t,o+t,"FD");break;case i.Position.Top:this._pdfDoc.triangle(n,o+t,n+t,o,n+2*t,o+t,"FD");break;case i.Position.Bottom:this._pdfDoc.triangle(n,o,n+t,o+t,n+2*t,o,"FD");break}},e.prototype.drawResources=function(){var e,t=this,n=this._pdfDoc,i=null===(e=this._info)||void 0===e?void 0:e.resources;i&&i.forEach((function(e){var i,o,r;n.setFontSize(null!==(i=e.style.fontSize)&&void 0!==i?i:11);var s=e.y+e.style.fontSize*t._FONT_ROW_RATIO/n.internal.scaleFactor,a=null!==(o=e.style.cellPadding.left)&&void 0!==o?o:0,l=null!==(r=e.style.cellPadding.right)&&void 0!==r?r:1,c=Math.max(e.style.cellWidth.getValue(),a+n.getTextWidth(e.text)+l);n.setFillColor.apply(n,e.style.fillColor.getRBGColor()),n.rect(e.x,e.y,c,e.style.minCellHeight,"F"),n.setTextColor.apply(n,e.style.textColor.getRBGColor()),n.text(e.text,e.x+a,s)}))},e}();t.PdfObjectDrawer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttTableDrawer=void 0;var i=n(1),o=n(30),r=n(62),s=n(143),a=function(){function e(e){this._pdfDoc=e}return e.prototype.drawTable=function(e){if(e){var t=this.createTableOptions(e);this._pdfDoc.autoTable(t.getValue())}},e.prototype.createTableOptions=function(e){var t=this.createDefaultTableOptions();return this.addTableCommonSettings(e,t),this.addCommonTableStyles(e,t),this.prepareBodyCells(e),t.addBody(e.cells),e.hideRowLines&&this.hideRowLines(t),t},e.prototype.createDefaultTableOptions=function(){var e=new s.TableOptions;return e.pageBreak="auto",e.margin.assign(0),e.tableWidth.assign("auto"),e.styles.cellPadding.assign(0),e.styles.halign="center",e.styles.valign="middle",e.styles.lineWidth=1,e.styles.overflow="hidden",e},e.prototype.addTableCommonSettings=function(e,t){t.startY=e.position.y,t.margin.assign({left:e.position.x}),t.tableWidth.assign(e.size.width)},e.prototype.addCommonTableStyles=function(e,t){var n=t.styles;n.assign(e.style),0===n.fillColor.opacity&&n.fillColor.assign("#FFFFFF"),n.minCellHeight=e.baseCellSize.height,t.alternateRowStyles.minCellHeight=t.styles.minCellHeight,t.alternateRowStyles.fillColor.assign(t.styles.fillColor),i.isDefined(e.baseCellSize.width)&&n.cellWidth.assign(e.baseCellSize.width)},e.prototype.prepareBodyCells=function(t){var n,i,s,a=t.name===o.PdfPageTableNames.treeListMain;if(a)for(var l=t.cells,c=0;c<l.length;c++)for(var u=l[c],d=0;d<u.length;d++){var h=u[d],p=h.styles,g=(null===(n=null===p||void 0===p?void 0:p.cellWidth)||void 0===n?void 0:n.getValue())||t.baseCellSize.width||0,f=null!==(i=null===p||void 0===p?void 0:p.cellPadding.left)&&void 0!==i?i:0,m=null!==(s=null===p||void 0===p?void 0:p.cellPadding.right)&&void 0!==s?s:0,y=Math.max(g-f-m-e.cellEllipsisSpace,0);h.content=r.EllipsisHelper.limitPdfTextWithEllipsis(h.content,this._pdfDoc,y)}},e.prototype.hideRowLines=function(e){e.styles.lineWidth=0,e.onDrawCellCallback=function(e){var t=e.cell,n=e.doc,i=t.styles.lineColor,o=t.x,r=t.x+t.styles.cellWidth,s=t.y,a=t.y+e.row.height,l=e.column.index===e.table.columns.length-1,c=e.row.index===e.table.body.length-1,u=0===e.row.index;n.setDrawColor(i[0],i[1],i[2]),n.setLineWidth(1),n.line(o,a,o,s),l&&n.line(r,a,r,s),u&&n.line(o,s,r,s),c&&n.line(o,a,r,a)}},e.cellEllipsisSpace=3,e}();t.PdfGanttTableDrawer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TableOptions=void 0;var i=n(1),o=n(41),r=n(16),s=n(39),a=n(29),l=n(19),c=n(63),u=function(){function e(){this._margin=new a.Margin,this._tableLineColor=new r.Color,this._tableWidth=new c.Width,this._styles=new l.StyleDef,this._alternateRowStyles=new l.StyleDef}return Object.defineProperty(e.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(e){this._pageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(e){this._rowPageBreak=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showHead",{get:function(){return this._showHead},set:function(e){this._showHead=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showFoot",{get:function(){return this._showFoot},set:function(e){this._showFoot=s.PredefinedStyles.getPredefinedStringOrUndefined(e,s.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startY",{get:function(){return this._startY},set:function(e){this._startY=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(e){this._tableLineWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),e.prototype.hasValue=function(){return!0},e.prototype.getValue=function(){var e=this,t={};return t["pageBreak"]=this.pageBreak,t["rowPageBreak"]=this.rowPageBreak,t["showFoot"]=this.showFoot,t["showHead"]=this.showHead,t["startY"]=this.startY,t["tableLineWidth"]=this.tableLineWidth,this.getJsPdfProviderProps().forEach((function(n){var i=e[n];i&&i.hasValue()&&(t[n]=i.getValue())})),t["body"]=this.getBodyForJsPdf(),t["columnStyles"]=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(t["didDrawCell"]=this.onDrawCellCallback),t},e.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},e.prototype.getBodyForJsPdf=function(){for(var e=[],t=0;t<this._body.length;t++){for(var n=this._body[t],i=[],o=0;o<n.length;o++)i.push(n[o].getValue());e.push(i)}return e},e.prototype.assign=function(e){e&&(i.isDefined(e["margin"])&&this.margin.assign(e["margin"]),i.isDefined(e["pageBreak"])&&(this.pageBreak=e["pageBreak"]),i.isDefined(e["rowPageBreak"])&&(this.rowPageBreak=e["rowPageBreak"]),i.isDefined(e["showFoot"])&&(this.showFoot=e["showFoot"]),i.isDefined(e["showHead"])&&(this.showHead=e["showHead"]),i.isDefined(e["startY"])&&(this.startY=e["startY"]),i.isDefined(e["tableLineWidth"])&&(this.tableLineWidth=e["tableLineWidth"]),i.isDefined(e["tableLineColor"])&&this.tableLineColor.assign(e["tableLineColor"]),i.isDefined(e["tableWidth"])&&this.tableWidth.assign(e["tableWidth"]))},e.prototype.addBody=function(e){e&&(this._body=new Array,this.addCells(e,this._body))},e.prototype.addCells=function(e,t){for(var n=this.styles.fillColor,i=0;i<e.length;i++){for(var r=e[i],s=new Array,a=0;a<r.length;a++){var l=new o.CellDef(r[a]);n.hasValue()&&l.styles&&l.styles.fillColor.hasValue()&&l.styles.fillColor.applyOpacityToBackground(n),s.push(l)}t.push(s)}},e.prototype.applyColumnStyle=function(e,t){var n;null!==(n=this._columnStyles)&&void 0!==n||(this._columnStyles=new Array),this._columnStyles[e]=new l.StyleDef(t)},e.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var e={};return this._columnStyles.forEach((function(t,n){t&&(e[n]=t.getValue())})),e}return null},e}();t.TableOptions=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GanttExportCalculator=void 0;var i=n(3),o=n(2),r=n(11),s=n(14),a=n(64),l=n(65),c=n(38),u=n(16),d=n(19),h=n(29),p=n(41),g=n(145),f=n(40),m=n(30),y=n(9),v=n(146),T=function(){function e(t,n){var i,o;this._owner=t,this._props=new f.GanttPdfExportProps(n),null!==(i=(o=this._props).margins)&&void 0!==i||(o.margins=new h.Margin(e._defaultPageMargin))}return Object.defineProperty(e.prototype,"chartTableScaleTopMatrix",{get:function(){var e;return null!==(e=this._chartTableScaleTopMatrix)&&void 0!==e||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartTableScaleBottomMatrix",{get:function(){var e;return null!==(e=this._chartTableScaleBottomMatrix)&&void 0!==e||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),e.prototype.getPages=function(e){var t=new v.PdfGanttPaginator(e,this.settings,this.createGlobalInfo());return t.getPages()},Object.defineProperty(e.prototype,"settings",{get:function(){return this._props},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layoutCalculator",{get:function(){return this._owner&&this._owner.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskAreaHelper",{get:function(){var e;return null!==(e=this._taskAreaHelper)&&void 0!==e||(this._taskAreaHelper=new g.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellSize.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartScaleTableStyle",{get:function(){var e;return null!==(e=this._chartScaleTableStyle)&&void 0!==e||(this._chartScaleTableStyle=new d.StyleDef(this.taskAreaHelper.scaleTableStyle)),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartMainTableStyle",{get:function(){var e;return null!==(e=this._chartMainTableStyle)&&void 0!==e||(this._chartMainTableStyle=new d.StyleDef(this.taskAreaHelper.chartMainTableStyle)),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerTableTop",{get:function(){var e;return null!==(e=this._headerTableTop)&&void 0!==e||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainTableTop",{get:function(){var e;return null!==(e=this._mainTableTop)&&void 0!==e||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),e.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(e.prototype,"chartLeft",{get:function(){var e;return null!==(e=this._chartLeft)&&void 0!==e||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),e.prototype.getChartLeft=function(){var e,t=(null===(e=this._props)||void 0===e?void 0:e.exportMode)||f.ExportMode.all,n=t===f.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth,i=n-this.taskAreaHelper.offsetLeft;return i},Object.defineProperty(e.prototype,"treeListLeft",{get:function(){var e;return null!==(e=this._treeListLeft)&&void 0!==e||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainTableHeight",{get:function(){var e;return null!==(e=this._mainTableHeight)&&void 0!==e||(this._mainTableHeight=this.visibleTaskIndices.length*this.baseCellHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"treeListWidth",{get:function(){var e;return null!==(e=this._treeListWidth)&&void 0!==e||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),e.prototype.getTreeListTableWidth=function(){var e,t=this,n=this.treeListHeaderMatrix[0].map((function(e,n){return t.getTreeListColumnWidth(n)}));return null!==(e=null===n||void 0===n?void 0:n.reduce((function(e,t){return e+t}),0))&&void 0!==e?e:0},Object.defineProperty(e.prototype,"chartWidth",{get:function(){var e;return null!==(e=this._chartWidth)&&void 0!==e||(this._chartWidth=this.chartTableScaleBottomMatrix[0].length*this.baseCellWidth),this._chartWidth},enumerable:!1,configurable:!0}),e.prototype.createGlobalInfo=function(){var e={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return e},e.prototype.getTablesInfo=function(){var e={};return this._canExportTreelist()&&(e[m.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),e[m.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(e[m.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),e[m.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),e[m.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),e},Object.defineProperty(e.prototype,"exportMode",{get:function(){var e,t;return null!==(t=null===(e=this._props)||void 0===e?void 0:e.exportMode)&&void 0!==t?t:f.ExportMode.all},enumerable:!1,configurable:!0}),e.prototype._canExportTreelist=function(){return this.exportMode===f.ExportMode.all||this.exportMode===f.ExportMode.treeList},e.prototype._canExportChart=function(){return this.exportMode===f.ExportMode.all||this.exportMode===f.ExportMode.chart},e.prototype._createChartScaleTopInfo=function(){return{name:m.PdfPageTableNames.chartScaleTop,size:new y.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new i.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},e.prototype._createChartScaleBottomInfo=function(){var e=this.taskAreaHelper.headerRowHeight;return{name:m.PdfPageTableNames.chartScaleBottom,size:new y.Size(this.chartWidth,e),position:new i.Point(this.chartLeft,this.headerTableTop+e),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,e),cells:this.chartTableScaleBottomMatrix}},e.prototype.createChartMainTableInfo=function(){var e={name:m.PdfPageTableNames.chartMain,size:new y.Size(this.chartWidth,this.mainTableHeight),position:new i.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled};return e},e.prototype.createTreeListHeaderTableInfo=function(){var e={name:m.PdfPageTableNames.treeListHeader,size:new y.Size(this.treeListWidth,this.headerTableHeight),position:new i.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix};return e},e.prototype.createTreeListMainTableInfo=function(){var e={name:m.PdfPageTableNames.treeListMain,size:new y.Size(this.treeListWidth,this.mainTableHeight),position:new i.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled};return e},e.prototype.calculateChartScaleMatrix=function(e){for(var t=this.taskAreaHelper,n=t.scaleRanges,i=new Array,o=n[e][0],r=n[e][1],s=o;s<=r;s++){var a=new p.CellDef(this._owner.getScaleItemText(s,t.scales[e]));if(a.styles.cellPadding.assign(0),a.styles.minCellHeight=this.taskAreaHelper.headerRowHeight,0===e){var l=t.scaleTopColSpans[s],c=this.baseCellWidth*l;a.styles.cellWidth.assign(c)}i.push(a)}return[i]},e.prototype.calculateChartTableBodyMatrix=function(){var e=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.forEach((function(t){return e._chartTableBodyMatrix.push(e.createChartTableBodyRow(t))}))},e.prototype.createChartTableBodyRow=function(e){var t=new p.CellDef;return this.rowHasChildren(e)&&t.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map((function(){return new p.CellDef(t)}))},e.prototype.rowHasSelection=function(e){return this._owner.rowHasSelection(e)},e.prototype.rowHasChildren=function(e){return this._owner.rowHasChildren(e)},e.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var e=this._owner,t=e.getTreeListColCount(),n=new Array,i=0;i<t;i++){var o=new p.CellDef(e.getTreeListHeaderInfo(i));o.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,n.push(o)}this._treeListHeaderMatrix.push(n)},e.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array;for(var e=this.visibleTaskIndices,t=this.treeListHeaderMatrix[0].length,n=0;n<e.length;n++){for(var i=new Array,o=0;o<t;o++){var r=new p.CellDef(this._owner.getTreeListCellInfo(e[n],o));r.styles.cellWidth.hasValue()||r.styles.cellWidth.assign(this.getTreeListColumnWidth(o)),this.rowHasChildren(e[n])&&r.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),i.push(r)}this._treeListBodyMatrix.push(i)}},e.prototype.getTreeListColumnWidth=function(e){var t=this.treeListHeaderMatrix[0][e],n=t&&t.styles,i=n.cellWidth.getValue();return i||n.minCellWidth||0},Object.defineProperty(e.prototype,"dataObjectLeftDelta",{get:function(){var e;return null!==(e=this._dataObjectLeftDelta)&&void 0!==e||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataObjectTopDelta",{get:function(){var e;return null!==(e=this._dataObjectTopDelta)&&void 0!==e||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),e.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new d.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor)},e.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo}},Object.defineProperty(e.prototype,"tasksInfo",{get:function(){var e;return null!==(e=this._tasksInfo)&&void 0!==e||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dependenciesInfo",{get:function(){var e;return null!==(e=this._dependenciesInfo)&&void 0!==e||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesInfo",{get:function(){var e;return null!==(e=this._resourcesInfo)&&void 0!==e||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),e.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},e.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},e.prototype.calculateTasksInfo=function(){var e=this,t=new Array;return this.visibleTaskIndices.forEach((function(n){return t.push(e.calculateTaskInfo(n))})),t},e.prototype.calculateTaskInfo=function(e){var t=new c.PdfTaskInfo,n=this.layoutCalculator.getTaskElementInfo(e);return t.taskColor=this.getTaskColor(e),t.sidePoints=this.getTaskSidePoints(e),t.isMilestone=n.className.indexOf(s.GridLayoutCalculator.milestoneClassName)>0,t.isMilestone||(t.isSmallTask=n.className.indexOf(s.GridLayoutCalculator.smallTaskClassName)>0,t.isParent=n.className.indexOf(s.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(t,e),this.appendTaskProgress(t,e)),t},e.prototype.appendTaskTitle=function(e,t){var n=this._owner.settings.taskTitlePosition,i=e.isSmallTask&&n!==r.TaskTitlePosition.Outside||n===r.TaskTitlePosition.None;i||(e.text=this._owner.getTaskText(t),e.textPosition=n,e.textStyle=this.getTaskTextStyle(t))},e.prototype.appendTaskProgress=function(e,t){var n=this.layoutCalculator.getTaskProgressElementInfo(t);e.progressWidth=n.size.width,e.progressColor=this.getTaskProgressColor(t),e.progressColor.applyOpacityToBackground(e.taskColor)},e.prototype.getTaskSidePoints=function(e){var t=this,n=this.layoutCalculator.getTaskSidePoints(e);return n.forEach((function(e){e.x+=t.dataObjectLeftDelta,e.y+=t.dataObjectTopDelta})),n},e.prototype.getTaskColor=function(e){var t,n=(null===(t=this._owner.getTask(e))||void 0===t?void 0:t.color)||this.taskAreaHelper.getTaskElementBackColor(e,s.GridLayoutCalculator.taskClassName);return new u.Color(n)},e.prototype.getTaskProgressColor=function(e){return new u.Color(this.taskAreaHelper.getTaskElementBackColor(e,s.GridLayoutCalculator.taskProgressClassName))},e.prototype.getTaskTextStyle=function(e){var t=new d.StyleDef;return t.cellPadding.assign(0),t.assign(this.taskAreaHelper.getTaskElementStyle(e,s.GridLayoutCalculator.taskTitleClassName)),t},e.prototype.calculateDependenciesInfo=function(){var e=this,t=new Array,n=this.taskAreaHelper,i=new u.Color(n.dependencyColor);return n.connectorLines.forEach((function(o){return t.push(e.createLineInfo(o,i,n.arrowWidth))})),t},e.prototype.createLineInfo=function(e,t,n){var i=new a.PdfDependencyLineInfo;i.fillColor=t;var o=e.className.indexOf(s.GridLayoutCalculator.arrowClassName)>-1;if(o){var r=this.layoutCalculator.getArrowPositionByClassName(e.className);i.arrowInfo={position:r,width:n},i.points=[this.getArrowTopCorner(e,r,n)]}else i.points=this.getLinePoints(e);return i},e.prototype.getArrowTopCorner=function(e,t,n){var o=e.position.x+this.dataObjectLeftDelta,s=e.position.y+this.dataObjectTopDelta;switch(t){case r.Position.Left:o+=n;break;case r.Position.Top:s+=n}return new i.Point(o,s)},e.prototype.getLinePoints=function(e){var t=e.position.x+this.dataObjectLeftDelta,n=e.position.y+this.dataObjectTopDelta,o=t+e.size.width,r=n+e.size.height;return[new i.Point(t,n),new i.Point(o,r)]},e.prototype.calculateResourcesInfo=function(){var e=this,t=new Array;return this.taskAreaHelper.resourcesElements.forEach((function(n){return t=t.concat(e.calculateResourcesInLine(n))})),t},e.prototype.calculateResourcesInLine=function(e){var t=new Array;if(e)for(var n=o.DomUtils.pxToInt(e.style.left)+this.dataObjectLeftDelta,i=o.DomUtils.pxToInt(e.style.top)+this.dataObjectTopDelta,r=e.getElementsByClassName(s.GridLayoutCalculator.taskResourceClassName),a=0;a<r.length;a++){var c=r[a],u=getComputedStyle(c);n+=this.getMargin(u).left,t.push(new l.PdfTaskResourcesInfo(c.textContent,new d.StyleDef(u),n,i)),n+=o.DomUtils.pxToInt(u.width)}return t},e.prototype.getMargin=function(e){var t=new h.Margin(0);if(e){var n=e.margin;n||(n+=e.marginTop||"0",n+=" "+e.marginRight||!1,n+=" "+e.marginBottom||!1,n+=" "+e.marginLeft||!1),t.assign(n)}return t},e._defaultPageMargin=10,e}();t.GanttExportCalculator=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskAreaExportHelper=void 0;var i=n(2),o=n(14),r=n(33),s=n(40),a=n(16),l=function(){function e(e,t){this._owner=e,this._props=t}return Object.defineProperty(e.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"objectsTopDelta",{get:function(){var e=this.visibleTaskIndices[0];return this.getCellTop(e)+this.getTaskCellOffsetTop(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetLeft",{get:function(){var e;return null!==(e=this._offsetLeft)&&void 0!==e||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){var e;return null!==(e=this._offsetTop)&&void 0!==e||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){var e=this.settings.viewType;return[r.DateUtils.ViewTypeToScaleMap[e],e]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleRanges",{get:function(){return[[this.scaleTopStartIndex,this.scaleTopEndIndex],[this.scaleBottomStartIndex,this.scaleBottomEndIndex]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBottomStartIndex",{get:function(){var e;return null!==(e=this._scaleBottomStartIndex)&&void 0!==e||(this._scaleBottomStartIndex=this.getScaleBottomStartIndex()),this._scaleBottomStartIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBottomEndIndex",{get:function(){var e;return null!==(e=this._scaleBottomEndIndex)&&void 0!==e||(this._scaleBottomEndIndex=this.getScaleBottomEndIndex()),this._scaleBottomEndIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopStartIndex",{get:function(){var e;return null!==(e=this._scaleTopStartIndex)&&void 0!==e||(this._scaleTopStartIndex=this.getScaleTopStartIndex()),this._scaleTopStartIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopEndIndex",{get:function(){var e;return null!==(e=this._scaleTopEndIndex)&&void 0!==e||(this._scaleTopEndIndex=this.getScaleTopEndIndex()),this._scaleTopEndIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTopColSpans",{get:function(){var e;return null!==(e=this._scaleTopSolSpans)&&void 0!==e||(this._scaleTopSolSpans=this.getScaleTopColSpans()),this._scaleTopSolSpans},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var e=this.scaleElements[0].filter((function(e){return!!e}))[0];this._headerRowHeight=null===e||void 0===e?void 0:e.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTaskIndices",{get:function(){var e;return null!==(e=this._visibleTaskIndices)&&void 0!==e||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleTableStyle",{get:function(){var e;return null!==(e=this._scaleTableStyle)&&void 0!==e||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chartMainTableStyle",{get:function(){var e;return null!==(e=this._chartMainTableStyle)&&void 0!==e||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentRowBackColor",{get:function(){var e;return null!==(e=this._parentRowBackColor)&&void 0!==e||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"arrowWidth",{get:function(){var e;return null!==(e=this._arrowWidth)&&void 0!==e||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dependencyColor",{get:function(){var e;return null!==(e=this._dependencyColor)&&void 0!==e||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),e.prototype.getTaskElementBackColor=function(e,t){var n=this.getTaskElementStyle(e,t);return null===n||void 0===n?void 0:n.backgroundColor},e.prototype.getTaskElementStyle=function(e,t){var n=this.getTaskWrapper(e);return this.getElementStyle(n.getElementsByClassName(t)[0])},Object.defineProperty(e.prototype,"visibleLeft",{get:function(){var e;return null!==(e=this._visibleLeft)&&void 0!==e||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleTop",{get:function(){var e;return null!==(e=this._visibleTop)&&void 0!==e||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleRight",{get:function(){var e;return null!==(e=this._visibleRight)&&void 0!==e||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),e.prototype.getVisibleRight=function(){var e=this.container.getElement().offsetWidth;return this.visibleLeft+e},Object.defineProperty(e.prototype,"visibleBottom",{get:function(){var e;return null!==(e=this._visibleBottom)&&void 0!==e||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),e.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},e.prototype.getScaleBottomStartIndex=function(){var e=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate);return Math.floor(e/this.baseCellSize.width)},e.prototype.getScaleBottomEndIndex=function(){var e=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1;return Math.floor(e/this.baseCellSize.width)},Object.defineProperty(e.prototype,"scaleColSpan",{get:function(){return this.layoutCalculator.getScaleItemColSpan(this.scales[0])},enumerable:!1,configurable:!0}),e.prototype.getScaleTopStartIndex=function(){return Math.floor(this.scaleBottomStartIndex/this.scaleColSpan)},e.prototype.getScaleTopEndIndex=function(){return Math.floor(this.scaleBottomEndIndex/this.scaleColSpan)},e.prototype.getScaleTopColSpans=function(){for(var e=new Array,t=this.scaleTopStartIndex;t<=this.scaleTopEndIndex;t++){var n=t===this.scaleTopStartIndex,i=t===this.scaleTopEndIndex,o=i?this.scaleBottomEndIndex%this.scaleColSpan+1:this.scaleColSpan;n&&(o-=this.scaleBottomStartIndex%this.scaleColSpan),e[t]=o}return e},e.prototype.getOffsetTop=function(){return this.isVisibleMode?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(e.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),e.prototype.getTaskCellOffsetTop=function(e){var t=this.getCellTop(e);return Math.max(this.visibleTop-t,0)},e.prototype.getCellTop=function(e){var t=this.layoutCalculator.getGridBorderPosition(e-1,!1);return t.y},e.prototype.getCellLeft=function(e){var t=this.layoutCalculator.getGridBorderPosition(e-1,!0);return t.x},e.prototype.getTaskIndices=function(){var e,t,n,i;if(this.dataMode===s.DataExportMode.all||this.exportRange){var o=this._owner.getAllVisibleTaskIndices(),r=null!==(t=null===(e=this.exportRange)||void 0===e?void 0:e.startIndex)&&void 0!==t?t:o[0],a=null!==(i=null===(n=this.exportRange)||void 0===n?void 0:n.endIndex)&&void 0!==i?i:o[o.length-1];return o.filter((function(e){return e>=r&&e<=a}))}return this.getVisibleTaskIndices()},e.prototype.getVisibleTaskIndices=function(){var e=this,t=[];return this.taskElements.forEach((function(n,o){if(n){var r=i.DomUtils.pxToInt(n.style.top),s=r+n.offsetHeight,a=r>=e.visibleTop&&r<=e.visibleBottom,l=s>=e.visibleTop&&s<=e.visibleBottom;(a||l)&&t.push(o)}})),t},Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._owner.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._owner.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hlRowElements",{get:function(){return this._owner.hlRowElements.filter((function(e){return!!e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectionElements",{get:function(){return this._owner.selectionElements.filter((function(e){return!!e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskElements",{get:function(){return this._owner.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectorLines",{get:function(){var e,t=this;return null!==(e=this._connectorLines)&&void 0!==e||(this._connectorLines=this._owner.renderedConnectorLines.filter((function(e){return t.isLineVisible(e)}))),this._connectorLines},enumerable:!1,configurable:!0}),e.prototype.isLineVisible=function(e){if(this.dataMode===s.DataExportMode.all)return!0;var t=e.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(t)>-1},Object.defineProperty(e.prototype,"visibleDependencyKeys",{get:function(){var e;return null!==(e=this._visibleDependencyKeys)&&void 0!==e||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resourcesElements",{get:function(){var e,t=this;return null!==(e=this._resourcesElements)&&void 0!==e||(this._resourcesElements=this.visibleTaskIndices.map((function(e){return t._owner.resourcesElements[e]})).filter((function(e){return e&&e.parentElement}))),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"taskArea",{get:function(){return this._owner.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataMode",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportRange",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisibleMode",{get:function(){return this.dataMode===s.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"startDate",{get:function(){var e;return(null===(e=this.exportRange)||void 0===e?void 0:e.startDate)||this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endDate",{get:function(){var e;return(null===(e=this.exportRange)||void 0===e?void 0:e.endDate)||this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layoutCalculator",{get:function(){return this._owner.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._owner.taskAreaContainer},enumerable:!1,configurable:!0}),e.prototype.getPosByDate=function(e){return this.layoutCalculator.getPosByDate(e)},e.prototype.getScaleTableStyle=function(){var e={},t=this.scaleElements[0].filter((function(e){return!!e}))[0],n=this.getElementStyle(t);return e["backgroundColor"]=this.findElementBackColor(t),e["borderColor"]=this.getChartTableBorderColor(),e["verticalAlign"]="middle",e["textAlign"]="center",e["fontSize"]=n.fontSize,e["fontFamily"]=n.fontFamily,e["fontWeight"]=n.fontWeight,e["fontStyle"]=n.fontStyle,e["color"]=n.color,e},e.prototype.getChartMainTableStyle=function(){var e={};return e["backgroundColor"]=this.findElementBackColor(this.taskArea),e["borderColor"]=this.getChartTableBorderColor(),e},e.prototype.findElementBackColor=function(e){if(!e)return null;var t=e,n=new a.Color("transparent");while(0===n.opacity&&t){var i=this.getElementStyle(t);n.assign(i.backgroundColor),t=t.parentElement}return n},e.prototype.getChartTableBorderColor=function(){var e=this.getElementStyle(this.scaleBorders[0].filter((function(e){return!!e}))[0]);return null===e||void 0===e?void 0:e.borderColor},e.prototype.getParentBackColor=function(){var e=this.getElementStyle(this.hlRowElements[0]);return null===e||void 0===e?void 0:e.backgroundColor},e.prototype.getArrowWidth=function(){var e=this.getDependencyLineStyle(o.GridLayoutCalculator.arrowClassName),t=e.borderWidth||e.borderLeftWidth||e.borderRightWidth||e.borderTopWidth||e.borderBottomWidth;return e&&i.DomUtils.pxToInt(t)},e.prototype.getDependencyColor=function(){var e=this.getDependencyLineStyle(o.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return null===e||void 0===e?void 0:e.borderColor},e.prototype.getDependencyLineStyle=function(e){return this.getElementStyle(this.taskArea.getElementsByClassName(e)[0])},e.prototype.getElementStyle=function(e){return e&&getComputedStyle(e)},e.prototype.getTaskWrapper=function(e){return this.isTaskTemplateMode?this._owner.fakeTaskWrapper:(this.taskElements[e]||this._owner.createDefaultTaskElement(e),this.taskElements[e])},Object.defineProperty(e.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),e}();t.TaskAreaExportHelper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PdfGanttPaginator=void 0;var i=n(3),o=n(9),r=n(64),s=n(38),a=n(65),l=n(30),c=n(41),u=n(147),d=function(){function e(e,t,n,i,o){this.pageVerIndex=t,this.pageHorIndex=e,this.cellRowIndexOnPage=n,this.cellColIndexOnPage=i,this.cell=o}return e}(),h=function(){function e(e,t,n,i){this.pageIndex=e,this.globalCellIndex=t,this.pageOffset=n,this.cutSize=i}return Object.defineProperty(e.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),e}(),p=function(){function e(e,t,n){this._pdfDoc=e,this._props=t,this._globalInfo=n}return e.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},e.prototype._paginateTables=function(){this._paginateTable(l.PdfPageTableNames.treeListHeader),this._paginateTable(l.PdfPageTableNames.treeListMain),this._paginateTable(l.PdfPageTableNames.chartScaleBottom),this._paginateTable(l.PdfPageTableNames.chartScaleTop),this._paginateTable(l.PdfPageTableNames.chartMain)},e.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources()},Object.defineProperty(e.prototype,"pageMatrixToArray",{get:function(){var e,t=new Array;return null===(e=this._pages)||void 0===e||e.forEach((function(e){t=t.concat(e)})),t},enumerable:!1,configurable:!0}),e.prototype._paginateTasks=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.tasks)||void 0===t||t.forEach((function(e){return n._paginateTask(e)}))},e.prototype._paginateDependencies=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.dependencies)||void 0===t||t.forEach((function(e){e.arrowInfo?n._paginateArrow(e):n._paginateDependencyLine(e)}))},e.prototype._paginateResources=function(){var e,t,n=this;null===(t=null===(e=this._globalInfo.objects)||void 0===e?void 0:e.resources)||void 0===t||t.forEach((function(e){return n._paginateResource(e)}))},e.prototype._paginateTable=function(e){var t,n=null===(t=this._globalInfo)||void 0===t?void 0:t.tables[e];if(n){for(var i=this._getTableStart(n),o=this._preparePagesNavigationMatrixForTable(i,n),r=o.length,s=0;s<r;s++)for(var a=o[s].length,l=0;l<a;l++){var c=o[s][l],u=this._getPage(c.pageVerIndex,c.pageHorIndex,!0),d=c.pageHorIndex===i.hIndex?i.pageX:this.pageLeft,h=c.pageVerIndex===i.vIndex?i.pageY:this.pageTop;this._setTablePositionOnPage(u,e,d,h),this._addCellToPage(u,e,c)}this._updateTableSizeOnPages(e)}},e.prototype._paginateTask=function(e){for(var t=this._getTaskPagination(e),n=this._getTaskPagination(e,!0),i=0;i<n.length;i++)for(var o=0;o<t.length;o++){var r=new s.PdfTaskInfo;r.assign(e),this._offsetPoints(r.sidePoints,t[o].offset,n[i].offset),this._addTaskToPage(n[i].pageIndex,t[o].pageIndex,r)}},e.prototype._paginateArrow=function(e){var t=this._getPointPageInfo(e.points[0]),n=new r.PdfDependencyLineInfo;n.assign(e),this._offsetPoints(n.points,t.offsetX,t.offsetY),this._addDependencyToPage(t.pageVerIndex,t.pageHorIndex,n)},e.prototype._paginateDependencyLine=function(e){for(var t=this._getDependencyLinePagination(e),n=this._getDependencyLinePagination(e,!0),i=0;i<n.length;i++)for(var o=0;o<t.length;o++){var s=new r.PdfDependencyLineInfo;s.assign(e),this._offsetPoints(s.points,t[o].offset,n[i].offset),this._addDependencyToPage(n[i].pageIndex,t[o].pageIndex,s)}},e.prototype._paginateResource=function(e){var t=this._getPointPageInfo(new i.Point(e.x,e.y)),n=new a.PdfTaskResourcesInfo;n.assign(e),n.x-=t.offsetX,n.y-=t.offsetY,this._addResourceToPage(t.pageVerIndex,t.pageHorIndex,n)},e.prototype._getTableStart=function(e){var t=new u.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return t.offset(e.position.x,e.position.y),t},e.prototype._getPage=function(e,t,n){return n&&this._extendPageMatrixIfRequired(e,t),this._pages[e][t]},e.prototype._getTableOrCreate=function(e,t){var n,i;return null!==(n=(i=e.tables)[t])&&void 0!==n||(i[t]=this._createTable(t)),e.tables[t]},e.prototype._preparePagesNavigationMatrixForTable=function(e,t){for(var n=new Array,i=this._getTableNavigationVector(e,t,!0),o=i.length,r=0;r<o;r++){for(var s=new Array,a=i[r],c=this._getTableNavigationVector(e,t,!1,a.globalCellIndex),u=c.length,h=0;h<u;h++){var p=c[h],g=t.name===l.PdfPageTableNames.chartScaleTop,f=this._prepareCuttedCell(t.cells[a.globalCellIndex][p.globalCellIndex],p,a,g),m=new d(p.pageIndex,a.pageIndex,a.cellIndexOnPage,p.cellIndexOnPage,f);s.push(m)}n.push(s)}return n},e.prototype._setTablePositionOnPage=function(e,t,n,o){var r=this._getTableOrCreate(e,t);r.position=new i.Point(n,o)},e.prototype._extendPageMatrixIfRequired=function(e,t){var n;null!==(n=this._pages)&&void 0!==n||(this._pages=new Array);for(var i=this._pages.length;i<=e;i++)this._pages.push(new Array);var o=this._pages[e];for(i=o.length;i<=t;i++)o.push(this._createPage())},e.prototype._getTableAndExtendIfRequired=function(e,t,n,i){for(var o=this._getTableOrCreate(e,t),r=o.cells,s=r.length;s<=n;s++)r.push(new Array);var a=r[n];for(s=a.length;s<=i;s++)a.push(new c.CellDef);return o},e.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null},tables:{}}},e.prototype._createTable=function(e){var t,n=null===(t=this._globalInfo)||void 0===t?void 0:t.tables[e];return{name:e,size:null,position:null,style:n.style,baseCellSize:n.baseCellSize,cells:new Array,hideRowLines:n.hideRowLines}},e.prototype._addCellToPage=function(e,t,n){var i=n.cellRowIndexOnPage,o=n.cellColIndexOnPage,r=this._getTableAndExtendIfRequired(e,t,i,o);r.cells[i][o].assign(n.cell)},e.prototype._updateTableSizeOnPages=function(e){for(var t,n=null===(t=this._pages[0])||void 0===t?void 0:t.length,i=this._pages.length,o=0;o<i;o++)for(var r=0;r<n;r++)this._updateTableSizeOnPage(this._pages[o][r],e)},e.prototype._updateTableSizeOnPage=function(e,t){var n,i=this,r=null===e||void 0===e?void 0:e.tables[t];if(r){var s=r.cells.length,a=s*r.baseCellSize.height||0,l=(null===(n=r.cells[0])||void 0===n?void 0:n.reduce((function(e,t,n){return e+i._getCellWidth(r,0,n)}),0))||0;r.size=new o.Size(l,a)}},e.prototype._getTableNavigationVector=function(e,t,n,i){var o,r;void 0===n&&(n=!1),void 0===i&&(i=0);for(var s=new Array,a=u.PageNavigation.createFrom(e),l=n?null===(o=t.cells)||void 0===o?void 0:o.length:null===(r=t.cells[i])||void 0===r?void 0:r.length,c=0;c<l;c++){var d=n?t.baseCellSize.height:this._getCellWidth(t,i,c);this._placeCell(s,a,c,d,n)}return s},e.prototype._placeCell=function(e,t,n,i,o){var r,s,a=o?t.vIndex:t.hIndex,l=null!==(s=null===(r=e[e.length-1])||void 0===r?void 0:r.pageOffset)&&void 0!==s?s:n,c=i,u=t.getSpaceToBorder(o);t.offsetOneD(i,o);var d=o?t.vIndex:t.hIndex;if(!o)for(var p=a;p<d;p++){var g=new h(p,n,l,u);l=n,e.push(g),c-=u,u=t.getPageSize(o)}d!==a&&(l=n);var f=c!==i,m=new h(d,n,l,f?c:null);e.push(m)},e.prototype._prepareCuttedCell=function(e,t,n,i){var o=new c.CellDef(e);if(t.isCutted){var r=t.cutSize;if(!i){var s=o.content,a=e.styles,l=a&&a.cellPadding.left||0,u=a&&a.cellPadding.right||0,d=r-l-u,h=this._pdfDoc.splitTextToSize(s,d);e.content=s.replace(h[0],""),o.content=h[0]}o.styles.cellWidth.assign(r)}return n.isCutted&&(o.styles.minCellHeight=n.cutSize),o},e.prototype._getCellWidth=function(e,t,n){var i,o=e.cells[t][n],r=o.styles,s=r.cellWidth.getValue(),a=null!==s&&void 0!==s?s:r.minCellWidth;return null!==a&&void 0!==a?a:e.baseCellSize.width*(null!==(i=o.colSpan)&&void 0!==i?i:1)},e.prototype._getTaskPagination=function(e,t){var n=t?e.height:e.width,i=t?e.top:e.left;return this._getLinePagination(i,n,t)},e.prototype._getDependencyLinePagination=function(e,t){var n=e.points[0],i=e.points[1],o=t?i.y-n.y:i.x-n.x,r=t?n.y:n.x;return this._getLinePagination(r,o,t)},e.prototype._getLinePagination=function(e,t,n){var i=new Array,o=this.pageNavigator.clone();o.offsetOneD(e,n);var r=n?o.vIndex:o.hIndex;o.offsetOneD(t,n);for(var s=n?o.vIndex:o.hIndex,a=r;a<=s;a++)i.push({offset:o.getPageGlobalOffset(a,n),pageIndex:a});return i},e.prototype._getPointPageInfo=function(e){var t=this.pageNavigator.clone();return t.offset(e.x,e.y),{offsetX:t.getPageGlobalOffset(t.hIndex),offsetY:t.getPageGlobalOffset(t.vIndex,!0),pageHorIndex:t.hIndex,pageVerIndex:t.vIndex}},Object.defineProperty(e.prototype,"pageWidth",{get:function(){var e;return null===(e=this._pdfDoc)||void 0===e?void 0:e.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageHeight",{get:function(){var e;return null===(e=this._pdfDoc)||void 0===e?void 0:e.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeftMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTopMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageRightMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBottomMargin",{get:function(){var e;return null===(e=this._props)||void 0===e?void 0:e.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageLeft",{get:function(){var e;return null!==(e=this._pageLeft)&&void 0!==e||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageRight",{get:function(){var e;return null!==(e=this._pageRight)&&void 0!==e||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageTop",{get:function(){var e;return null!==(e=this._pageTop)&&void 0!==e||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBottom",{get:function(){var e;return null!==(e=this._pageBottom)&&void 0!==e||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"correctedPageBottoms",{get:function(){var e;return null!==(e=this._correctedPageBottoms)&&void 0!==e||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageNavigator",{get:function(){var e;return null!==(e=this._pageNavigator)&&void 0!==e||(this._pageNavigator=new u.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),e.prototype._getCorrectedPagesBottom=function(){var e,t,n,i,o=new Array,r=null===(e=this._globalInfo)||void 0===e?void 0:e.tables,s=null!==(t=r[l.PdfPageTableNames.treeListMain])&&void 0!==t?t:r[l.PdfPageTableNames.chartMain],a=new u.PageNavigation(this.pageBorders);a.pageY=s.position.y;for(var c=0;c<s.cells.length;c++){var d=s.cells[c][0],h=null!==(i=null===(n=d.styles)||void 0===n?void 0:n.minCellHeight)&&void 0!==i?i:s.baseCellSize.height,p=a.vIndex,g=a.pageY;a.offsetOneD(h,!0),p!==a.vIndex&&(o.push(g),a.pageY=a.getPageStart(!0)+h)}return o},e.prototype._addTaskToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).tasks)&&void 0!==i||(o.tasks=new Array),r.objects.tasks.push(n))},e.prototype._addDependencyToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).dependencies)&&void 0!==i||(o.dependencies=new Array),r.objects.dependencies.push(n))},e.prototype._addResourceToPage=function(e,t,n){var i,o,r=this._getPage(e,t);r&&(null!==(i=(o=r.objects).resources)&&void 0!==i||(o.resources=new Array),r.objects.resources.push(n))},e.prototype._offsetPoints=function(e,t,n){e.forEach((function(e){e.x-=t,e.y-=n}))},e}();t.PdfGanttPaginator=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageNavigation=void 0;var i=function(){function e(e,t,n,i,o,r){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=null===e||void 0===e?void 0:e.top,this._left=null===e||void 0===e?void 0:e.left,this._bottom=null===e||void 0===e?void 0:e.bottom,this._right=null===e||void 0===e?void 0:e.right,this.vIndex=null!==t&&void 0!==t?t:this.vIndex,this.hIndex=null!==n&&void 0!==n?n:this.hIndex,this.pageX=null!==i&&void 0!==i?i:this.pageX,this.pageY=null!==o&&void 0!==o?o:this.pageY,r&&(this._correctedBottoms=r)}return e.prototype.offset=function(e,t){e&&this.offsetOneD(e),t&&this.offsetOneD(t,!0)},e.prototype.offsetOneD=function(e,t){var n=e,i=this.getSpaceToBorder(t);while(i<n)t?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),n-=i,i=this.getSpaceToBorder(t);t?this.pageY+=n:this.pageX+=n},Object.defineProperty(e.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),e.prototype.getPageEnd=function(e){return e?this.getCurrentPageBottom():this._right},e.prototype.getPageStart=function(e){return e?this._top:this._left},e.prototype.getPageSize=function(e,t){return e?this.getPageHeight(t):this.defaultPageWidth},e.prototype.getSpaceToBorder=function(e){return e?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},e.prototype.getPageGlobalOffset=function(e,t){if(!t)return e*this.defaultPageWidth;for(var n=0,i=1;i<=e;i++)n+=this.getPageHeight(i-1);return n},e.prototype.assign=function(e){this._top=e._top,this._left=e._left,this._bottom=e._bottom,this._right=e._right,this._correctedBottoms=e._correctedBottoms,this.vIndex=e.vIndex,this.hIndex=e.hIndex,this.pageX=e.pageX,this.pageY=e.pageY},e.createFrom=function(t){var n=new e;return n.assign(t),n},e.prototype.clone=function(){var t=new e;return t.assign(this),t},e.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},e.prototype.getPageBottom=function(e){var t;return null!==(t=this._correctedBottoms[e])&&void 0!==t?t:this._bottom},e.prototype.getPageHeight=function(e){return this.getPageBottom(e)-this._top},e}();t.PageNavigation=i}])}))},"9cce":function(e,t,n){"use strict";n.r(t);var i=n("5b62"),o=n("bf95"),r=n("f654"),s=n("085e"),a=n("b7ae"),l=n("b3a5"),c=n("8f6d"),u=n.n(c);function d(){if(!u.a)throw l["a"].Error("E1041","devexpress-gantt");return u.a}var h=n("67a0");class p{constructor(e,t){this._element=e,this._scrollView=t._createComponent(this._element,h["default"],{scrollByContent:!1,scrollByThumb:!0,showScrollbar:"onHover",direction:"both",onScroll:()=>{t.updateView()}})}get scrollTop(){return this._scrollView.scrollTop()}set scrollTop(e){var t=e-this._scrollView.scrollTop();0!==t&&this._scrollView.scrollBy({left:0,top:t})}get scrollLeft(){return this._scrollView.scrollLeft()}set scrollLeft(e){var t=e-this._scrollView.scrollLeft();0!==t&&this._scrollView.scrollBy({left:t,top:0})}get scrollWidth(){return this._scrollView.scrollWidth()}get scrollHeight(){return this._scrollView.scrollHeight()}get isExternal(){return!0}getWidth(){return this._element.offsetWidth}getHeight(){return this._element.offsetHeight}getElement(){return this._element}}var g=n("10db"),f=n("dc20"),m=n("9570");class y extends r["a"]{_init(){super._init(),this._onSelectionChanged=this._createActionByOption("onSelectionChanged"),this._onScroll=this._createActionByOption("onScroll"),this._onDialogShowing=this._createActionByOption("onDialogShowing"),this._onPopupMenuShowing=this._createActionByOption("onPopupMenuShowing"),this._expandAll=this._createActionByOption("onExpandAll"),this._collapseAll=this._createActionByOption("onCollapseAll"),this._taskClick=this._createActionByOption("onTaskClick"),this._taskDblClick=this._createActionByOption("onTaskDblClick"),this._onAdjustControl=this._createActionByOption("onAdjustControl")}_initMarkup(){var e=d();this._ganttViewCore=new e(this.$element().get(0),this,{showResources:this.option("showResources"),taskTitlePosition:this._getTaskTitlePosition(this.option("taskTitlePosition")),firstDayOfWeek:this._getFirstDayOfWeek(this.option("firstDayOfWeek")),allowSelectTask:this.option("allowSelection"),editing:this._parseEditingSettings(this.option("editing")),validation:this.option("validation"),stripLines:{stripLines:this.option("stripLines")},areHorizontalBordersEnabled:this.option("showRowLines"),areAlternateRowsEnabled:!1,viewType:this._getViewTypeByScaleType(this.option("scaleType")),cultureInfo:this._getCultureInfo(),taskTooltipContentTemplate:this.option("taskTooltipContentTemplate"),taskProgressTooltipContentTemplate:this.option("taskProgressTooltipContentTemplate"),taskTimeTooltipContentTemplate:this.option("taskTimeTooltipContentTemplate"),taskContentTemplate:this.option("taskContentTemplate")}),this._selectTask(this.option("selectedRowKey")),this.updateBarItemsState()}_getFirstDayOfWeek(e){return Object(o["d"])(e)?e:g["a"].firstDayOfWeekIndex()}getTaskAreaContainer(){return this._ganttViewCore.taskAreaContainer}getBarManager(){return this._ganttViewCore.barManager}executeCoreCommand(e){var t=this._ganttViewCore.getCommandByKey(e);t&&t.execute()}changeTaskExpanded(e,t){this._ganttViewCore.changeTaskExpanded(e,t)}updateView(){this._ganttViewCore.updateView()}updateBarItemsState(){this._ganttViewCore.barManager.updateItemsState([])}setWidth(e){this._ganttViewCore.setWidth(e)}_selectTask(e){this._ganttViewCore.selectTaskById(e)}_update(){this._ganttViewCore.loadOptionsFromGanttOwner(),this._ganttViewCore.resetAndUpdate()}_getCultureInfo(){return{monthNames:g["a"].getMonthNames("wide"),dayNames:g["a"].getDayNames("wide"),abbrMonthNames:g["a"].getMonthNames("abbreviated"),abbrDayNames:g["a"].getDayNames("abbreviated"),quarterNames:this._getQuarterNames(),amText:g["a"].getPeriodNames()[0],pmText:g["a"].getPeriodNames()[1]}}_getQuarterNames(){var e=f["a"].format("dxGantt-quarter");return e?[Object(m["b"])(e,1),Object(m["b"])(e,2),Object(m["b"])(e,3),Object(m["b"])(e,4)]:g["a"].getQuarterNames()}_getTaskTitlePosition(e){switch(e){case"outside":return 1;case"none":return 2;default:return 0}}_getViewTypeByScaleType(e){switch(e){case"minutes":return 0;case"hours":return 1;case"days":return 3;case"weeks":return 4;case"months":return 5;case"quarters":return 6;case"years":return 7;default:return}}_parseEditingSettings(e){return{enabled:e.enabled,allowDependencyDelete:e.allowDependencyDeleting,allowDependencyInsert:e.allowDependencyAdding,allowTaskDelete:e.allowTaskDeleting,allowTaskInsert:e.allowTaskAdding,allowTaskUpdate:e.allowTaskUpdating,allowResourceDelete:e.allowResourceDeleting,allowResourceInsert:e.allowResourceAdding,allowResourceUpdate:e.allowResourceUpdating,allowTaskResourceUpdate:e.allowTaskResourceUpdating}}_optionChanged(e){switch(e.name){case"width":super._optionChanged(e),this._ganttViewCore.setWidth(e.value);break;case"height":this._ganttViewCore.setHeight(e.value);break;case"tasks":case"dependencies":case"resources":case"resourceAssignments":this._update();break;case"showResources":this._ganttViewCore.setShowResources(e.value);break;case"taskTitlePosition":this._ganttViewCore.setTaskTitlePosition(this._getTaskTitlePosition(e.value));break;case"firstDayOfWeek":this._ganttViewCore.setFirstDayOfWeek(this._getFirstDayOfWeek(e.value));break;case"allowSelection":this._ganttViewCore.setAllowSelection(e.value);break;case"selectedRowKey":this._selectTask(e.value);break;case"editing":this._ganttViewCore.setEditingSettings(this._parseEditingSettings(e.value));break;case"validation":this._ganttViewCore.setValidationSettings(e.value),this._update();break;case"showRowLines":this._ganttViewCore.setRowLinesVisible(e.value);break;case"scaleType":this._ganttViewCore.setViewType(this._getViewTypeByScaleType(e.value));break;case"stripLines":this._ganttViewCore.setStripLines({stripLines:e.value});break;case"taskTooltipContentTemplate":this._ganttViewCore.setTaskTooltipContentTemplate(e.value);break;case"taskProgressTooltipContentTemplate":this._ganttViewCore.setTaskProgressTooltipContentTemplate(e.value);break;case"taskTimeTooltipContentTemplate":this._ganttViewCore.setTaskTimeTooltipContentTemplate(e.value);break;case"taskContentTemplate":this._ganttViewCore.setTaskContentTemplate(e.value);break;default:super._optionChanged(e)}}get bars(){return this.option("bars")}getRowHeight(){return this.option("rowHeight")}getHeaderHeight(){return this.option("headerHeight")}getGanttTasksData(){return this.option("tasks")}getGanttDependenciesData(){return this.option("dependencies")}getGanttResourcesData(){return this.option("resources")}getGanttResourceAssignmentsData(){return this.option("resourceAssignments")}getGanttWorkTimeRules(){return{}}getExternalTaskAreaContainer(e){return this._taskAreaContainer||(this._taskAreaContainer=new p(e,this)),this._taskAreaContainer}changeGanttTaskSelection(e,t){this._onSelectionChanged({id:e,selected:t})}onGanttScroll(e){this._onScroll({scrollTop:e})}showDialog(e,t,n,i){this._onDialogShowing({name:e,parameters:t,callback:n,afterClosing:i})}getModelChangesListener(){return this.option("modelChangesListener")}getExportInfo(){return this.option("exportInfo")}showPopupMenu(e){this._onPopupMenuShowing(e)}getMainElement(){return this.option("mainElement").get(0)}adjustControl(){this._onAdjustControl()}getRequireFirstLoadParentAutoCalc(){return this.option("validation.autoUpdateParentTasks")}collapseAll(){this._collapseAll()}expandAll(){this._expandAll()}onTaskClick(e,t){return this._taskClick({key:e,event:t}),!0}onTaskDblClick(e,t){return this._taskDblClick({key:e,event:t})}onGanttViewContextMenu(e,t,n){return!0}getFormattedDateText(e){var t="";if(e){var n=g["a"].format(e,"shortDate"),i=g["a"].format(e,"hh:mm");t=n+" "+i}return t}destroyTemplate(e){Object(i["a"])(e).empty()}getTreeListTableStyle(){return this.callExportHelperMethod("getTreeListTableStyle")}getTreeListColCount(){return this.callExportHelperMethod("getTreeListColCount")}getTreeListHeaderInfo(e){return this.callExportHelperMethod("getTreeListHeaderInfo",e)}getTreeListCellInfo(e,t){return this.callExportHelperMethod("getTreeListCellInfo",e,t)}callExportHelperMethod(e){for(var t=this.option("exportHelper"),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t[e](...i)}}var v=n("e22b"),T=n("b957"),_=n("b9af"),k="dx-gantt-toolbar-separator",w={createTask:0,createSubTask:1,removeTask:2,removeDependency:3,taskInformation:4,taskAddContextItem:5,undo:6,redo:7,zoomIn:8,zoomOut:9,fullScreen:10,collapseAll:11,expandAll:12,resourceManager:13};class b{constructor(e,t){this._element=e,this._owner=t,this._items=[],this._createControl()}createItems(e){this._cache=null,this._items=this._createItemsCore(e),this._menu.option("items",this._items)}_createItemsCore(e){return e.map(e=>{var t;return t="string"===typeof e?this._createItemByText(e):e.name?Object(_["a"])(this._createItemByText(e.name),e):Object(_["a"])(this._getDefaultItemOptions(),e),e.items&&(t.items=this._createItemsCore(e.items)),t})}_createItemByText(e){switch(e.toLowerCase()){case"separator":return this._createSeparator();case"undo":return this._createDefaultItem(w.undo,f["a"].format("dxGantt-undo"),this._getIcon("undo"));case"redo":return this._createDefaultItem(w.redo,f["a"].format("dxGantt-redo"),this._getIcon("redo"));case"expandall":return this._createDefaultItem(w.expandAll,f["a"].format("dxGantt-expandAll"),this._getIcon("expand"));case"collapseall":return this._createDefaultItem(w.collapseAll,f["a"].format("dxGantt-collapseAll"),this._getIcon("collapse"));case"addtask":return this._createDefaultItem(w.createTask,f["a"].format("dxGantt-addNewTask"),this._getIcon("add"));case"addsubtask":return this._createDefaultItem(w.createSubTask,f["a"].format("dxGantt-contextMenuNewSubtask"),this._getIcon("add-sub-task"));case"deletetask":return this._createDefaultItem(w.removeTask,f["a"].format("dxGantt-deleteSelectedTask"),this._getIcon("delete"));case"deletedependency":return this._createDefaultItem(w.removeDependency,f["a"].format("dxGantt-contextMenuDeleteDependency"),this._getIcon("delete-dependency"));case"zoomin":return this._createDefaultItem(w.zoomIn,f["a"].format("dxGantt-zoomIn"),this._getIcon("zoom-in"));case"zoomout":return this._createDefaultItem(w.zoomOut,f["a"].format("dxGantt-zoomOut"),this._getIcon("zoom-out"));case"fullscreen":return this._createDefaultItem(w.fullScreen,f["a"].format("dxGantt-fullScreen"),this._getIcon("full-screen"));case"taskdetails":return this._createDefaultItem(w.taskInformation,f["a"].format("dxGantt-dialogTaskDetailsTitle")+"...",this._getIcon("task-details"));case"resourcemanager":return this._createDefaultItem(w.resourceManager,f["a"].format("dxGantt-dialogResourceManagerTitle"),this._getIcon("resource-manager"));default:return Object(_["a"])(this._getDefaultItemOptions(),{options:{text:e}})}}_getDefaultItemOptions(){return{}}_getItemsCache(){return this._cache||(this._cache={},this._fillCache(this._items)),this._cache}_fillCache(e){e.forEach(e=>{var t=e.commandId;void 0!==t&&(this._cache[t]||(this._cache[t]=[]),this._cache[t].push(e)),e.items&&this._fillCache(e.items)})}_getIcon(e){return"dx-gantt-i dx-gantt-i-"+e}getCommandKeys(){var e=this._getItemsCache(),t=[];for(var n in e)t.push(parseInt(n));return t}setItemEnabled(e,t){var n=this._getItemsCache();n[e].forEach(e=>{e.disabled=!t})}setItemVisible(e,t){var n=this._getItemsCache();n[e].forEach(e=>{e.visible=t})}setItemValue(e,t){}setEnabled(e){this._menu.option("disabled",!e)}updateItemsList(){}isVisible(){return!0}isContextMenu(){return!1}completeUpdate(){}}class C extends b{_createControl(){this._menu=this._owner._createComponent(this._element,v["default"],{onItemClick:e=>{var t=e.itemData.commandId;void 0!==t&&this._owner._executeCoreCommand(e.itemData.commandId)}})}_createDefaultItem(e,t,n){return{commandId:e,disabled:!0,widget:"dxButton",location:"before",options:{icon:n,stylingMode:"text",hint:t}}}_createSeparator(){return{location:"before",template:(e,t,n)=>{Object(i["a"])(n).addClass(k)}}}_getDefaultItemOptions(){return{location:"before",widget:"dxButton"}}completeUpdate(){this._menu.option("items",this._items)}}class I extends b{_createControl(){this._menu=this._owner._createComponent(this._element,T["default"],{showEvent:void 0,onItemClick:e=>{void 0!==e.itemData.commandId?this._owner._executeCoreCommand(e.itemData.commandId):void 0!==e.itemData.name&&this._owner._raiseCustomCommand(e.itemData.name)}})}createItems(e){e&&0!==e.length||(e=this._getDefaultItems()),super.createItems(e)}_getDefaultItems(){return[{text:f["a"].format("dxGantt-dialogButtonAdd"),commandId:w.taskAddContextItem,icon:this._getIcon("add"),items:[{text:f["a"].format("dxGantt-contextMenuNewTask"),commandId:w.createTask,icon:this._getIcon("add-task")},{text:f["a"].format("dxGantt-contextMenuNewSubtask"),commandId:w.createSubTask,icon:this._getIcon("add-sub-task")}]},{text:f["a"].format("dxGantt-dialogTaskDetailsTitle")+"...",commandId:w.taskInformation,icon:this._getIcon("task-details")},{text:f["a"].format("dxGantt-contextMenuDeleteTask"),commandId:w.removeTask,icon:this._getIcon("delete")},{text:f["a"].format("dxGantt-contextMenuDeleteDependency"),commandId:w.removeDependency,icon:this._getIcon("delete-dependency")}]}_createDefaultItem(e,t,n){return{commandId:e,text:t,icon:n}}show(e,t){this._menu.option("items",t||this._items),this._menu.option("position.offset",{x:e.x,y:e.y}),this._menu.show()}isContextMenu(){return!0}}var S=n("320b"),D=n("7d86"),M=n("45f8"),E=n("9944"),x=n("687a");class P extends E["a"]{constructor(e,t,n){super(),this._optionName=e,this._loadPanel=t,this._dataSourceChangedCallback=n}insert(e,t,n){this._showLoadPanel(),this._getStore().insert(e).done(e=>{t&&t(e),this._hideLoadPanel()}).fail(e=>{n&&n(e),this._hideLoadPanel()})}update(e,t,n,i){this._showLoadPanel(),this._getStore().update(e,t).done((e,t)=>{n&&n(e,t),this._hideLoadPanel()}).fail(e=>{i&&i(e),this._hideLoadPanel()})}remove(e,t,n){this._showLoadPanel(),this._getStore().remove(e).done(e=>{t&&t(e),this._hideLoadPanel()}).fail(e=>{n&&n(e),this._hideLoadPanel()})}_dataSourceChangedHandler(e,t){this._dataSourceChangedCallback(this._optionName,e)}_dataSourceOptions(){return{paginate:!1}}_dataSourceLoadingChangedHandler(e){e&&!this._dataSource.isLoaded()?this._showLoadPanel():this._hideLoadPanel()}_showLoadPanel(){this._loadPanel.show()}_hideLoadPanel(){this._loadPanel.hide()}_getStore(){return this._dataSource.store()}_getItems(){return this._getStore()._array||this._dataSource.items()}}P.include(x["a"]);var A=P,O=n("5274"),R=n("c4f4"),L=n("8f22"),B=n("026c"),V=Object(M["d"])(),F="dx-splitter",N="".concat(F,"-wrapper"),H="".concat(F,"-inactive"),W="".concat(F,"-border"),j="".concat(F,"-initial"),U="dx-state-disabled",z="dxSplitterResizing",G=Object(B["a"])(L["a"].down,z),K=Object(B["a"])(L["a"].move,z),Y=Object(B["a"])(L["a"].up,z);class $ extends r["a"]{_initMarkup(){super._initMarkup(),this._initActions(),this._$container=this.option("container"),this._$leftElement=this.option("leftElement"),this._$rightElement=this.option("rightElement"),this.$element().addClass(N).addClass(j),this._$splitterBorder=Object(i["a"])("<div>").addClass(W).appendTo(this.$element()),this._$splitter=Object(i["a"])("<div>").addClass(F).addClass(H).appendTo(this._$splitterBorder)}_initActions(){this._actions={onApplyPanelSize:this._createActionByOption("onApplyPanelSize"),onActiveStateChanged:this._createActionByOption("onActiveStateChanged")}}_render(){super._render(),this._detachEventHandlers(),this._attachEventHandlers()}_clean(){this._detachEventHandlers(),super._clean()}_attachEventHandlers(){var e=O["default"].getDocument();R["a"].on(this._$splitterBorder,G,this._onMouseDownHandler.bind(this)),R["a"].on(e,K,this._onMouseMoveHandler.bind(this)),R["a"].on(e,Y,this._onMouseUpHandler.bind(this))}_detachEventHandlers(){var e=O["default"].getDocument();R["a"].off(this._$splitterBorder,G),R["a"].off(e,K),R["a"].off(e,Y)}_dimensionChanged(e){e&&"height"===e||(this._containerWidth=this._$container.get(0).clientWidth,this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_onMouseDownHandler(e){e.preventDefault(),this._offsetX=e.pageX-this._$splitterBorder.offset().left<=this._getSplitterBorderWidth()?e.pageX-this._$splitterBorder.offset().left:0,this._containerWidth=this._$container.get(0).clientWidth,this.$element().removeClass(j),this._toggleActive(!0),this._setSplitterPositionLeft({needUpdatePanels:!0})}_onMouseMoveHandler(e){this._isSplitterActive&&this._setSplitterPositionLeft({splitterPositionLeft:this._getNewSplitterPositionLeft(e),needUpdatePanels:!0})}_onMouseUpHandler(){this._isSplitterActive&&(this._leftPanelPercentageWidth=null,this._toggleActive(!1),this._setSplitterPositionLeft({needUpdatePanels:!0,usePercentagePanelsWidth:!0}))}_getNewSplitterPositionLeft(e){var t=e.pageX-this._getContainerLeftOffset()-this._offsetX;return t=Math.max(0-this._getSplitterOffset(),t),t=Math.min(this._containerWidth-this._getSplitterOffset()-this._getSplitterWidth(),t),t}_getContainerLeftOffset(){var e=this._$container.offset().left;if(V){var t=V.getComputedStyle(this._$container.get(0)),n=parseFloat(t.paddingLeft)||0,i=parseFloat(t.borderLeftWidth)||0;e+=n+i}return e}_getSplitterOffset(){return(this._getSplitterBorderWidth()-this._getSplitterWidth())/2}_getSplitterWidth(){return this._$splitter.get(0).clientWidth}_getSplitterBorderWidth(){return this._$splitterBorder.get(0).clientWidth}_getLeftPanelWidth(){return this._$leftElement.get(0).clientWidth}_toggleActive(e){this.$element().toggleClass(H,!e),this._$splitter.toggleClass(H,!e),this._isSplitterActive=e,this._actions.onActiveStateChanged({isActive:e})}toggleDisabled(e){this.$element().toggleClass(U,e),this._$splitter.toggleClass(U,e)}isSplitterMoved(){return!this.$element().hasClass(j)}disableSplitterCalculation(e){this._isSplitterCalculationDisabled=e}_setSplitterPositionLeft(){var{splitterPositionLeft:e=null,needUpdatePanels:t=!1,usePercentagePanelsWidth:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=e||this._getLeftPanelWidth()-this._getSplitterOffset();var i=e+this._getSplitterOffset(),o=this._containerWidth-i;this._isSplitterCalculationDisabled||this.$element().css("left",e),this._leftPanelPercentageWidth=this._leftPanelPercentageWidth||this._convertToPercentage(i);var r=this._convertToPercentage(this._containerWidth-this._convertToPixels(this._leftPanelPercentageWidth));t&&this._actions.onApplyPanelSize({leftPanelWidth:n?"".concat(this._leftPanelPercentageWidth,"%"):i,rightPanelWidth:n?"".concat(r,"%"):o})}_optionChanged(e){switch(e.name){case"initialLeftPanelWidth":this._leftPanelPercentageWidth=this._convertToPercentage(e.value),this._dimensionChanged();break;case"leftElement":this.repaint();break;case"onActiveStateChanged":case"onApplyPanelSize":this._actions[e.name]=this._createActionByOption(e.name);break;default:super._optionChanged(e)}}_convertToPercentage(e){return e/this._$container.get(0).clientWidth*100}_convertToPixels(e){return e/100*this._$container.get(0).clientWidth}}var q=n("a07b"),X=n("0f3f");n("f80d"),n("2cb9");class Z{constructor(e,t){this._popupInstance=e._createComponent(t,q["default"]),this.infoMap={TaskEdit:Q,Resources:ee,Confirmation:te,ConstraintViolation:ne}}_apply(){if(this._dialogInfo.isValidated()){var e=this._dialogInfo.getResult();this._callback(e),this.hide()}}show(e,t,n,i,o){this._callback=n,this._afterClosing=i,this.infoMap[e]&&(this._dialogInfo=new this.infoMap[e](t,this._apply.bind(this),this.hide.bind(this),o),this._popupInstance.option({showTitle:!!this._dialogInfo.getTitle(),title:this._dialogInfo.getTitle(),toolbarItems:this._dialogInfo.getToolbarItems(),maxWidth:this._dialogInfo.getMaxWidth(),height:this._dialogInfo.getHeight(),contentTemplate:this._dialogInfo.getContentTemplate()}),this._popupInstance.show())}hide(){this._popupInstance.hide(),this._afterClosing&&this._afterClosing()}}class J{constructor(e,t,n,i){this._parameters=e,this._applyAction=t,this._hideAction=n,this._editingOptions=i}_getFormItems(){return{}}_getFormCssClass(){return""}_getFormData(){return this._parameters}_updateParameters(){}_getOkToolbarItem(){return this._getToolbarItem("OK",this._applyAction)}_getCancelToolbarItem(){return this._getToolbarItem("Cancel",this._hideAction)}_getYesToolbarItem(){return this._getToolbarItem("Yes",this._applyAction)}_getNoToolbarItem(){return this._getToolbarItem("No",this._hideAction)}_getToolbarItem(e,t){return{widget:"dxButton",toolbar:"bottom",options:{text:f["a"].format(e),onClick:t}}}getTitle(){return""}getToolbarItems(){return this._editingOptions.enabled?[this._getOkToolbarItem(),this._getCancelToolbarItem()]:[this._getCancelToolbarItem()]}getMaxWidth(){return 400}getHeight(){return"auto"}getContentTemplate(){return e=>(this._form=new X["a"](e,{formData:this._getFormData(),items:this._getFormItems(),elementAttr:{class:this._getFormCssClass()}}),e)}getResult(){var e=this._form&&this._form.option("formData");return this._updateParameters(e),this._parameters}isValidated(){return!0}}class Q extends J{getTitle(){return f["a"].format("dxGantt-dialogTaskDetailsTitle")}_getFormItems(){var e=!this._editingOptions.enabled||!this._editingOptions.allowTaskUpdating,t=e||!this._parameters.enableRangeEdit;return[{dataField:"title",editorType:"dxTextBox",label:{text:f["a"].format("dxGantt-dialogTitle")},editorOptions:{readOnly:e||this._isReadOnlyField("title")},visible:!this._isHiddenField("title")},{dataField:"start",editorType:"dxDateBox",label:{text:f["a"].format("dxGantt-dialogStartTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("start")},visible:!this._isHiddenField("start"),validationRules:[{type:"required",message:f["a"].format("validation-required-formatted",f["a"].format("dxGantt-dialogStartTitle"))}]},{dataField:"end",editorType:"dxDateBox",label:{text:f["a"].format("dxGantt-dialogEndTitle")},editorOptions:{type:"datetime",width:"100%",readOnly:t||this._isReadOnlyField("end")},visible:!this._isHiddenField("end"),validationRules:[{type:"required",message:f["a"].format("validation-required-formatted",f["a"].format("dxGantt-dialogEndTitle"))}]},{dataField:"progress",editorType:"dxNumberBox",label:{text:f["a"].format("dxGantt-dialogProgressTitle")},editorOptions:{showSpinButtons:!0,min:0,max:1,format:"#0%",step:.01,readOnly:t||this._isReadOnlyField("progress")},visible:!this._isHiddenField("progress")},{dataField:"assigned.items",editorType:"dxTagBox",label:{text:f["a"].format("dxGantt-dialogResourcesTitle")},editorOptions:{readOnly:e||!this._editingOptions.allowTaskResourceUpdating,dataSource:this._parameters.resources.items,displayExpr:"text",buttons:[{name:"editResources",location:"after",options:{disabled:!this._editingOptions.allowResourceAdding&&!this._editingOptions.allowResourceDeleting,text:"...",hint:f["a"].format("dxGantt-dialogEditResourceListHint"),onClick:()=>{this._parameters.showResourcesDialogCommand.execute(()=>{this._parameters.showTaskEditDialogCommand.execute()})}}}]}}]}_isReadOnlyField(e){return this._parameters.readOnlyFields.indexOf(e)>-1}_isHiddenField(e){return this._parameters.hiddenFields.indexOf(e)>-1}_getFormData(){var e={};for(var t in this._parameters)e[t]="progress"===t?this._parameters[t]/100:this._parameters[t];return e}_updateParameters(e){this._parameters.title=e.title,this._parameters.start=e.start,this._parameters.end=e.end,this._parameters.progress=100*e.progress,this._parameters.assigned=e.assigned}isValidated(){var e,t=null===(e=this._form)||void 0===e?void 0:e.validate();return null===t||void 0===t?void 0:t.isValid}}class ee extends J{getTitle(){return f["a"].format("dxGantt-dialogResourceManagerTitle")}_getFormItems(){return[{label:{visible:!1},dataField:"resources.items",editorType:"dxList",editorOptions:{allowItemDeleting:this._editingOptions.enabled&&this._editingOptions.allowResourceDeleting,itemDeleteMode:"static",selectionMode:"none",items:this._parameters.resources.items,height:250,noDataText:f["a"].format("dxGantt-dialogEditNoResources"),onInitialized:e=>{this.list=e.component},onItemDeleted:e=>{this._parameters.resources.remove(e.itemData)}}},{label:{visible:!1},editorType:"dxTextBox",editorOptions:{readOnly:!this._editingOptions.enabled||!this._editingOptions.allowResourceAdding,onInitialized:e=>{this.textBox=e.component},onInput:e=>{var t=e.component.getButton("addResource"),n=e.component.option("text");t.option("disabled",0===n.length)},buttons:[{name:"addResource",location:"after",options:{text:f["a"].format("dxGantt-dialogButtonAdd"),disabled:!0,onClick:e=>{var t=this._parameters.resources.createItem();t.text=this.textBox.option("text"),this._parameters.resources.add(t),this.list.option("items",this._parameters.resources.items),this.list.scrollToItem(t),this.textBox.reset(),e.component.option("disabled",!0)}}}]}}]}}class te extends J{getContentTemplate(){return e=>this._getConfirmMessage()}_getConfirmMessage(){switch(this._parameters.type){case 0:return f["a"].format("dxGantt-dialogTaskDeleteConfirmation");case 1:return f["a"].format("dxGantt-dialogDependencyDeleteConfirmation");case 2:return f["a"].format("dxGantt-dialogResourcesDeleteConfirmation",this._parameters.message);default:return""}}getToolbarItems(){return[this._getYesToolbarItem(),this._getNoToolbarItem()]}}class ne extends J{_getFormItems(){var e=[];return e.push({text:f["a"].format("dxGantt-dialogCancelOperationMessage"),value:0}),e.push({text:f["a"].format("dxGantt-dialogDeleteDependencyMessage"),value:1}),this._parameters.validationError.critical||e.push({text:f["a"].format("dxGantt-dialogMoveTaskAndKeepDependencyMessage"),value:2}),[{template:this._parameters.validationError.critical?f["a"].format("dxGantt-dialogConstraintCriticalViolationMessage"):f["a"].format("dxGantt-dialogConstraintViolationMessage")},{cssClass:"dx-cv-dialog-row",dataField:"option",label:{visible:!1},editorType:"dxRadioGroup",editorOptions:{items:e,valueExpr:"value",value:0}}]}_getFormCssClass(){return"dx-cv-dialog"}_updateParameters(e){this._parameters.option=e.option}}var ie=n("1bd0"),oe=n("ac1d");class re{constructor(){this._cache={},this._timers={}}saveData(e,t,n){if(t){this._clearTimer(e);var i=this._getCache(e,!0);Object(_["b"])(i,t,!0),n&&this._setExpireTimer(e,n)}}pullDataFromCache(e,t){var n=this._getCache(e);n&&Object(_["b"])(t,n),this._onKeyExpired(e)}hasData(e){return!!this._cache[e]}_getCache(e,t){return!this._cache[e]&&t&&(this._cache[e]={}),this._cache[e]}_setExpireTimer(e,t){this._timers[e]=setTimeout(()=>{t(e,this._getCache(e)),this._onKeyExpired(e)},200)}_onKeyExpired(e){this._clearCache(e),this._clearTimer(e)}_clearCache(e){delete this._cache[e]}_clearTimer(e){var t=this._timers;t&&t[e]&&(clearTimeout(t[e]),delete t[e])}}var se=n("7af1"),ae=n("e4d3"),le=Object(M["d"])(),ce="dx-treelist-empty-space",ue="dx-treelist-table";class de{constructor(e){this._gantt=e,this._treeList=e._treeList,this._cache={}}reset(){this._cache={}}getTreeListTableStyle(){var e=this._getTreeListTable(),t=le.getComputedStyle(e);return{color:t.color,backgroundColor:t.backgroundColor,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStyle:t.fontStyle,textAlign:"left",verticalAlign:"middle"}}getTreeListColCount(){var e=this._getHeaderView(),t=e.getColumnWidths().filter(e=>e>0);return t.length}getTreeListHeaderInfo(e){var t=this._getHeaderElement(e);if(!t)return null;var n=le.getComputedStyle(t),i={color:n.color,padding:n.padding,paddingLeft:n.paddingLeft,paddingTop:n.paddingTop,paddingRight:n.paddingRight,paddingBottom:n.paddingBottom,verticalAlign:n.verticalAlign,width:this._getColumnWidth(e)};return{content:t.textContent,styles:i}}getTreeListCellInfo(e,t){var n,i=this._getDataCell(e,t),o=this._getNodeByRowIndex(e),r=i?le.getComputedStyle(i):this._getColumnCellStyle(t),s={color:r.color,padding:r.padding,paddingLeft:r.paddingLeft,paddingTop:r.paddingTop,paddingRight:r.paddingRight,paddingBottom:r.paddingBottom,width:this._getColumnWidth(t)};return 0===t&&(s.extraLeftPadding=this._getEmptySpaceWidth(o.level)),{content:null!==(n=null===i||void 0===i?void 0:i.textContent)&&void 0!==n?n:this._getDisplayText(e,t),styles:s}}_ensureColumnWidthCache(e){var t,n;if(null!==(n=(t=this._cache)["columnWidths"])&&void 0!==n||(t.columnWidths={}),!this._cache.columnWidths[e]){var i,o=this._getHeaderElement(e);this._cache.columnWidths[e]=null!==(i=null===o||void 0===o?void 0:o.clientWidth)&&void 0!==i?i:0}}_getColumnWidth(e){this._ensureColumnWidthCache(e);var t=this._cache.columnWidths;return t&&t[e]}_getEmptySpaceWidth(e){if(!this._cache.emptyWidth){var t,n,i,o=this._getTreeListElement(ce);null!==(n=(t=this._cache)["emptyWidth"])&&void 0!==n||(t.emptyWidth=null!==(i=o.offsetWidth)&&void 0!==i?i:0)}return this._cache.emptyWidth*(e+1)}_getColumnCellStyle(e){return this._ensureColumnCellStyleCache(e),this._cache.columnStyles[e]}_ensureColumnCellStyleCache(e){var t,n;if(null!==(n=(t=this._cache)["columnStyles"])&&void 0!==n||(t.columnStyles={}),!this._cache.columnStyles[e]){var i=this._getDataCell(0,e);this._cache.columnStyles[e]=le.getComputedStyle(i)}}_getTreeListTable(){return this._getTreeListElement(ue)}_getTreeListElement(e){return this._treeList._$element.find("."+e).get(0)}_getDataCell(e,t){var n=this._treeList,i=n.getCellElement(e,t);return i&&i.length?i[0]:i}_getHeaderElement(e){return this._getHeaderView().getHeaderElement(e).get(0)}_getHeaderView(){return this._treeList._views.columnHeadersView}_getNodeByRowIndex(e){var t,n=this._treeList,i=null!==(t=n.getKeyByRowIndex(e))&&void 0!==t?t:this._findTaskKeyByRowIndex(e);return n.getNodeByKey(i)}_findTaskKeyByRowIndex(e){var t=this._getGanttTasks(),n=this._gantt._getTaskKeyGetter(),i=t[e];return n(i)}_getGanttTasks(){var e;return null===(e=this._gantt._tasksOption)||void 0===e?void 0:e._getItems()}_getDisplayText(e,t){var n=this._getGanttTasks(),i=n[e];return i&&this._getGridDisplayText(t,i)}_getGridDisplayText(e,t){var n=this._treeList.getController("columns").getColumns(),i=n[e],r=null===i||void 0===i?void 0:i.dataField,s=null===i||void 0===i?void 0:i.format,a=se["a"].getDisplayValue(i,t[r],t,"data");if(Object(o["d"])(s)){if(Object(o["b"])(a))return g["a"].format(a,s);if(Object(o["i"])(a))return ae["a"].format(a,s)}return a}}var he=Object(M["d"])(),pe="dx-gantt",ge="dx-gantt-view",fe="dx-gantt-collapsable-row",me="dx-gantt-treelist-wrapper",ye="dx-gantt-toolbar-wrapper",ve="dx-gantt-main-wrapper",Te="tasks",_e="dependencies",ke="resources",we="resourceAssignments",be="gantt_new_task_key",Ce=34,Ie=/(\w*)Expr/;class Se extends r["a"]{_init(){super._init(),this._cache=new re,this._isGanttRendered=!1}_initMarkup(){super._initMarkup(),this.$element().addClass(pe),this._$toolbarWrapper=Object(i["a"])("<div>").addClass(ye).appendTo(this.$element()),this._$toolbar=Object(i["a"])("<div>").appendTo(this._$toolbarWrapper),this._$mainWrapper=Object(i["a"])("<div>").addClass(ve).appendTo(this.$element()),this._$treeListWrapper=Object(i["a"])("<div>").addClass(me).appendTo(this._$mainWrapper),this._$treeList=Object(i["a"])("<div>").appendTo(this._$treeListWrapper),this._$splitter=Object(i["a"])("<div>").appendTo(this._$mainWrapper),this._$ganttView=Object(i["a"])("<div>").addClass(ge).appendTo(this._$mainWrapper),this._$dialog=Object(i["a"])("<div>").appendTo(this.$element()),this._$loadPanel=Object(i["a"])("<div>").appendTo(this.$element()),this._$contextMenu=Object(i["a"])("<div>").appendTo(this.$element()),this._refreshDataSource(Te),this._refreshDataSource(_e),this._refreshDataSource(ke),this._refreshDataSource(we)}_refresh(){this._isGanttRendered=!1,super._refresh()}_renderContent(){this._isMainElementVisible=this.$element().is(":visible"),this._isMainElementVisible&&!this._isGanttRendered&&(this._isGanttRendered=!0,this._renderBars(),this._renderTreeList(),this._renderSplitter())}_renderTreeList(){var{keyExpr:e,parentIdExpr:t}=this.option(Te);this._treeList=this._createComponent(this._$treeList,S["default"],{dataSource:this._tasksRaw,keyExpr:e,parentIdExpr:t,columns:this._getTreeListColumns(),columnResizingMode:"nextColumn",height:this._getTreeListHeight(),width:this.option("taskListWidth"),selection:{mode:this._getSelectionMode(this.option("allowSelection"))},selectedRowKeys:this._getArrayFromOneElement(this.option("selectedRowKey")),sorting:{mode:"none"},scrolling:{showScrollbar:"onHover",mode:"virtual"},allowColumnResizing:!0,autoExpandAll:!0,showRowLines:this.option("showRowLines"),rootValue:this.option("rootValue"),onContentReady:e=>{this._onTreeListContentReady(e)},onSelectionChanged:e=>{this._onTreeListSelectionChanged(e)},onRowCollapsed:e=>{this._onTreeListRowCollapsed(e)},onRowExpanded:e=>{this._onTreeListRowExpanded(e)},onRowPrepared:e=>{this._onTreeListRowPrepared(e)},onContextMenuPreparing:e=>{this._onTreeListContextMenuPreparing(e)},onRowClick:e=>{this._onTreeListRowClick(e)},onRowDblClick:e=>{this._onTreeListRowDblClick(e)}})}_renderSplitter(){this._splitter=this._createComponent(this._$splitter,$,{container:this.$element(),leftElement:this._$treeListWrapper,rightElement:this._$ganttView,onApplyPanelSize:this._onApplyPanelSize.bind(this)}),this._splitter.option("initialLeftPanelWidth",this.option("taskListWidth"))}_renderBars(){this._bars=[],this._toolbar=new C(this._$toolbar,this),this._updateToolbarContent(),this._bars.push(this._toolbar),this._contextMenuBar=new I(this._$contextMenu,this),this._updateContextMenu(),this._bars.push(this._contextMenuBar)}_initGanttView(){this._ganttView||(this._ganttView=this._createComponent(this._$ganttView,y,{width:"100%",height:this._treeList._$element.get(0).offsetHeight,rowHeight:this._getTreeListRowHeight(),headerHeight:this._getTreeListHeaderHeight(),tasks:this._tasks,dependencies:this._dependencies,resources:this._resources,resourceAssignments:this._resourceAssignments,allowSelection:this.option("allowSelection"),selectedRowKey:this.option("selectedRowKey"),showResources:this.option("showResources"),taskTitlePosition:this.option("taskTitlePosition"),firstDayOfWeek:this.option("firstDayOfWeek"),showRowLines:this.option("showRowLines"),scaleType:this.option("scaleType"),editing:this.option("editing"),validation:this.option("validation"),stripLines:this.option("stripLines"),bars:this._bars,mainElement:this.$element(),onSelectionChanged:this._onGanttViewSelectionChanged.bind(this),onScroll:this._onGanttViewScroll.bind(this),onDialogShowing:this._showDialog.bind(this),onPopupMenuShowing:this._showPopupMenu.bind(this),onExpandAll:this._expandAll.bind(this),onCollapseAll:this._collapseAll.bind(this),modelChangesListener:this._createModelChangesListener(),exportHelper:this._getExportHelper(),taskTooltipContentTemplate:this._getTaskTooltipContentTemplateFunc(this.option("taskTooltipContentTemplate")),taskProgressTooltipContentTemplate:this._getTaskProgressTooltipContentTemplateFunc(this.option("taskProgressTooltipContentTemplate")),taskTimeTooltipContentTemplate:this._getTaskTimeTooltipContentTemplateFunc(this.option("taskTimeTooltipContentTemplate")),taskContentTemplate:this._getTaskContentTemplateFunc(this.option("taskContentTemplate")),onTaskClick:e=>{this._onTreeListRowClick(e)},onTaskDblClick:e=>{this._onTreeListRowDblClick(e)},onAdjustControl:()=>{this._onAdjustControl()}}),this._fireContentReadyAction())}_onAdjustControl(){var e=this._$element.height();this._updateGanttWidth(),this._setGanttHeight(e)}_onApplyPanelSize(e){this._setInnerElementsWidth(e),this._updateGanttRowHeights()}_updateGanttRowHeights(){var e,t=this._getTreeListRowHeight();this._getGanttViewOption("rowHeight")!==t&&(this._setGanttViewOption("rowHeight",t),null===(e=this._ganttView)||void 0===e||e._ganttViewCore.updateRowHeights(t))}_onTreeListContentReady(e){e.component.getDataSource()&&(this._initGanttView(),this._initScrollSync(e.component))}_onTreeListRowPrepared(e){"data"===e.rowType&&e.node.children.length>0&&Object(i["a"])(e.rowElement).addClass(fe)}_onTreeListContextMenuPreparing(e){var t,n;"data"===(null===(t=e.row)||void 0===t?void 0:t.rowType)&&this._setTreeListOption("selectedRowKeys",[e.row.data[this.option("tasks.keyExpr")]]),e.items=[];var i={cancel:!1,event:e.event,type:"task",key:null===(n=e.row)||void 0===n?void 0:n.key,position:{x:e.event.pageX,y:e.event.pageY}};this._showPopupMenu(i)}_onTreeListRowClick(e){this._raiseTaskClickAction(e.key,e.event)}_onTreeListRowDblClick(e){this._raiseTaskDblClickAction(e.key,e.event)&&this._ganttView._ganttViewCore.showTaskEditDialog()}_onTreeListSelectionChanged(e){var t=e.currentSelectedRowKeys[0];this._setGanttViewOption("selectedRowKey",t),this._setOptionWithoutOptionChange("selectedRowKey",t),this._raiseSelectionChangedAction(t)}_onTreeListRowCollapsed(e){this._ganttView.changeTaskExpanded(e.key,!1),this._adjustHeight()}_onTreeListRowExpanded(e){this._ganttView.changeTaskExpanded(e.key,!0),this._adjustHeight()}_adjustHeight(){this._hasHeight||(this._setGanttViewOption("height",0),this._setGanttViewOption("height",this._treeList._$element.get(0).offsetHeight))}_getTreeListHeight(){return this._$treeList.height()?this._$treeList.height():(this._hasHeight=Object(o["d"])(this.option("height"))&&""!==this.option("height"),this._hasHeight?"100%":"")}_getTreeListColumns(){var e=this.option("columns");if(e)for(var t=0;t<e.length;t++){var n=e[t],i=n.dataField===this.option("".concat(Te,".keyExpr"))||n.dataField===this.option("".concat(Te,".parentIdExpr"));i&&!n.dataType&&(n.dataType="object")}return e}_onGanttViewSelectionChanged(e){this._setTreeListOption("selectedRowKeys",this._getArrayFromOneElement(e.id))}_onGanttViewScroll(e){var t=this._treeList.getScrollable();if(t){var n=e.scrollTop-t.scrollTop();0!==n&&t.scrollBy({left:0,top:n})}}_onTreeListScroll(e){var t=this._ganttView.getTaskAreaContainer();t.scrollTop!==e.component.scrollTop()&&(t.scrollTop=e.component.scrollTop())}_expandAll(){this._treeList.forEachNode(e=>{e.children&&e.children.length&&(this._treeList.expandRow(e.key),this._ganttView.changeTaskExpanded(e.key,!0))})}_collapseAll(){this._treeList.forEachNode(e=>{e.children&&e.children.length&&(this._treeList.collapseRow(e.key),this._ganttView.changeTaskExpanded(e.key,!1))})}_initScrollSync(e){var t=e.getScrollable();t&&(t.off("scroll"),t.on("scroll",e=>{this._onTreeListScroll(e)}))}_getTreeListRowHeight(){var e=this._treeList._$element.find(".dx-data-row"),t=e.length?Object(D["a"])(e.last().get(0)).height:Ce;return t||(t=Ce),this._correctRowsViewRowHeight(t),t}_correctRowsViewRowHeight(e){var t=this._treeList._views&&this._treeList._views.rowsView;(null===t||void 0===t?void 0:t._rowHeight)!==e&&(t._rowHeight=e)}_getTreeListHeaderHeight(){return Object(D["a"])(this._treeList._$element.find(".dx-treelist-headers").get(0)).height}_setInnerElementsWidth(e){Object(M["f"])()&&(e||(e=this._getPanelsWidthByOption()),this._setTreeListDimension("width",e.leftPanelWidth),this._setGanttViewDimension("width",e.rightPanelWidth))}_setTreeListDimension(e,t){this._$treeListWrapper[e](t),this._setTreeListOption(e,this._$treeListWrapper[e]())}_setGanttViewDimension(e,t){this._$ganttView[e](t),this._setGanttViewOption(e,this._$ganttView[e]())}_updateGanttWidth(){this._splitter._dimensionChanged()}_setGanttHeight(e){var t,n=this._$toolbarWrapper.get(0).offsetHeight,i=e-n;this._setTreeListDimension("height",i),this._setGanttViewDimension("height",i),null===(t=this._ganttView)||void 0===t||t._ganttViewCore.resetAndUpdate()}_getPanelsWidthByOption(){return{leftPanelWidth:this.option("taskListWidth"),rightPanelWidth:this._$element.width()-this.option("taskListWidth")}}_setGanttViewOption(e,t){this._ganttView&&this._ganttView.option(e,t)}_getGanttViewOption(e,t){var n;return null===(n=this._ganttView)||void 0===n?void 0:n.option(e)}_setTreeListOption(e,t){this._treeList&&this._treeList.option(e,t)}_refreshDataSource(e){var t=this["_".concat(e,"Option")];t&&(t._disposeDataSource(),delete this["_".concat(e,"Option")],delete this["_".concat(e)]),this.option("".concat(e,".dataSource"))&&(t=new A(e,this._getLoadPanel(),(e,t)=>{this._dataSourceChanged(e,t)}),t.option("dataSource",this._getSpecificDataSourceOption(e)),t._refreshDataSource(),this["_".concat(e,"Option")]=t)}_getSpecificDataSourceOption(e){var t=this.option("".concat(e,".dataSource"));return Array.isArray(t)?{store:{type:"array",data:t,key:this.option("".concat(e,".keyExpr"))}}:t}_compileGettersByOption(e){var t={},n=this.option(e);for(var i in n){var o=i.match(/(\w*)Expr/);o&&(t[o[1]]=Object(a["a"])(n[o[0]]))}return t}_compileSettersByOption(e){var t={},n=this.option(e);for(var i in n){var o=i.match(/(\w*)Expr/);o&&(t[o[1]]=Object(a["b"])(n[o[0]]))}return t}_getStoreObject(e,t){var n=this._compileSettersByOption(e);return Object.keys(n).reduce((e,i)=>("key"!==i&&n[i](e,t[i]),e),{})}_prepareSetterMapHandler(e){return t=>Object.keys(e).reduce((n,i)=>{var o="key"===i?"id":i;return e[i](n,t[o]),n},{})}_prepareMapHandler(e){return t=>Object.keys(e).reduce((n,i)=>{var o="key"===i?"id":i;return n[o]=e[i](t),n},{})}_dataSourceChanged(e,t){var n=this._compileGettersByOption(e),i=t.map(this._prepareMapHandler(n));if(this["_".concat(e)]=i,this._setGanttViewOption(e,i),e===Te){this._tasksRaw=t;var o=t.map(e=>e[this.option("tasks.parentIdExpr")]).filter((e,t,n)=>e&&n.indexOf(e)===t);this._setTreeListOption("expandedRowKeys",o),this._setTreeListOption("dataSource",t)}}_createModelChangesListener(){return{NotifyTaskCreated:(e,t,n)=>{this._onRecordInserted(Te,e,t)},NotifyTaskRemoved:(e,t,n)=>{this._onRecordRemoved(Te,e,n)},NotifyTaskTitleChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"title",t)},NotifyTaskDescriptionChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"description",t)},NotifyTaskStartChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"start",t)},NotifyTaskEndChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"end",t)},NotifyTaskProgressChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"progress",t)},NotifyTaskColorChanged:(e,t,n)=>{this._onRecordUpdated(Te,e,"color",t)},NotifyParentTaskUpdated:(e,t)=>{this._onParentTaskUpdated(e)},NotifyDependencyInserted:(e,t,n)=>{this._onRecordInserted(_e,e,t)},NotifyDependencyRemoved:(e,t,n)=>{this._onRecordRemoved(_e,e,n)},NotifyResourceCreated:(e,t,n)=>{this._onRecordInserted(ke,e,t)},NotifyResourceRemoved:(e,t,n)=>{this._onRecordRemoved(ke,e,n)},NotifyResourceAssigned:(e,t,n)=>{this._onRecordInserted(we,e,t)},NotifyResourceUnassigned:(e,t,n)=>{this._onRecordRemoved(we,e,n)},NotifyParentDataRecalculated:e=>{this._onParentTasksRecalculated(e)},NotifyTaskCreating:e=>{this._raiseInsertingAction(Te,e)},NotifyTaskRemoving:e=>{this._raiseDeletingAction(Te,e)},NotifyTaskUpdating:e=>{this._raiseUpdatingAction(Te,e)},NotifyTaskMoving:e=>{this._raiseUpdatingAction(Te,e,this._getTaskMovingAction())},NotifyTaskEditDialogShowing:e=>{this._raiseTaskEditDialogShowingAction(e)},NotifyResourceManagerDialogShowing:e=>{this._raiseResourceManagerDialogShowingAction(e)},NotifyDependencyInserting:e=>{this._raiseInsertingAction(_e,e)},NotifyDependencyRemoving:e=>{this._raiseDeletingAction(_e,e)},NotifyResourceCreating:e=>{this._raiseInsertingAction(ke,e)},NotifyResourceRemoving:e=>{this._raiseDeletingAction(ke,e)},NotifyResourceAssigning:e=>{this._raiseInsertingAction(we,e)},NotifyResourceUnassigning:e=>{this._raiseDeletingAction(we,e)}}}_onRecordInserted(e,t,n){var i=this["_".concat(e,"Option")];if(i){var o=this._getStoreObject(e,t);e===Te&&this._addCustomFieldsDataFromCache(be,o),i.insert(o,i=>{var r=Object(a["a"])(this.option("".concat(e,".keyExpr"))),s=r(i);if(n(s),e===Te){this._updateTreeListDataSource();var l=t.parentId;if(void 0!==l){var c=this._treeList.option("expandedRowKeys");-1===c.indexOf(l)&&(c.push(l),this._treeList.option("expandedRowKeys",c))}this._selectTreeListRows(this._getArrayFromOneElement(s)),this._setTreeListOption("focusedRowKey",s),setTimeout(()=>{this._updateGanttRowHeights()},300)}this._raiseInsertedAction(e,o,s)})}}_onRecordRemoved(e,t,n){var i=this["_".concat(e,"Option")];i&&i.remove(t,()=>{e===Te&&this._updateTreeListDataSource(),this._raiseDeletedAction(e,t,this._convertCoreToMappedData(e,n))})}_onRecordUpdated(e,t,n,i){var o=this["_".concat(e,"Option")],r=e===Te;if(o){var s=Object(a["b"])(this.option("".concat(e,".").concat(n,"Expr"))),l={};s(l,i);var c=r&&this._cache.hasData(t);c&&this._addCustomFieldsDataFromCache(t,l),o.update(t,l,()=>{r&&(c&&o._refreshDataSource(),this._updateTreeListDataSource()),this._raiseUpdatedAction(e,l,t)})}}_onParentTaskUpdated(e){var t=this.getTaskDataByCoreData(e);this._raiseUpdatedAction(Te,t,e.id)}_onParentTasksRecalculated(e){var t=this._compileSettersByOption(Te),n=this._appendCustomFields(e.map(this._prepareSetterMapHandler(t)));this._setTreeListOption("dataSource",n)}_appendCustomFields(e){var t=this._tasksOption&&this._tasksOption._getItems(),n=this._getTaskKeyGetter(),i=this.getInvertedData(t,n);return e.reduce((e,t)=>{var o=n(t),r=i[o];if(r){var s={};for(var a in r)s[a]=Object.prototype.hasOwnProperty.call(t,a)?t[a]:r[a];e.push(s)}else e.push(t);return e},[])}_getTaskKeyGetter(){return Object(a["a"])(this.option("".concat(Te,".keyExpr")))}getInvertedData(e,t){var n={};if(e)for(var i=0;i<e.length;i++){var o=e[i],r=t(o);n[r]=o}return n}_updateTreeListDataSource(){if(!this._skipUpdateTreeListDataSource()){var e=this.option("tasks.dataSource"),t=this._tasksOption._getStore()._array||e.items&&e.items();this._setTreeListOption("dataSource",t||e)}}_skipUpdateTreeListDataSource(){return this.option("validation.autoUpdateParentTasks")}_selectTreeListRows(e){this._setTreeListOption("selectedRowKeys",e)}_addCustomFieldsDataFromCache(e,t){this._cache.pullDataFromCache(e,t)}_saveCustomFieldsDataToCache(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._getCustomFieldsData(t);Object.keys(i).length>0&&this._cache.saveData(e,i,n?(e,t)=>{var n=this["_".concat(Te,"Option")];n&&t&&n.update(e,t,(e,t)=>{var i={};this._addCustomFieldsData(t,i),this._updateTreeListDataSource(),n._refreshDataSource();var o=this.option("selectedRowKey");this._ganttView._selectTask(o),this._raiseUpdatedAction(Te,i,t)})}:null)}_getLoadPanel(){return this._loadPanel||(this._loadPanel=this._createComponent(this._$loadPanel,ie["default"],{position:{of:this.$element()}})),this._loadPanel}_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")}_createTaskClickAction(){this._taskClickAction=this._createActionByOption("onTaskClick")}_createTaskDblClickAction(){this._taskDblClickAction=this._createActionByOption("onTaskDblClick")}_createCustomCommandAction(){this._customCommandAction=this._createActionByOption("onCustomCommand")}_createContextMenuPreparingAction(){this._contextMenuPreparingAction=this._createActionByOption("onContextMenuPreparing")}_raiseSelectionChangedAction(e){this._selectionChangedAction||this._createSelectionChangedAction(),this._selectionChangedAction({selectedRowKey:e})}_raiseCustomCommand(e){this._customCommandAction||this._createCustomCommandAction(),this._customCommandAction({name:e})}_raiseContextMenuPreparing(e){this._contextMenuPreparingAction||this._createContextMenuPreparingAction(),this._contextMenuPreparingAction(e)}_raiseInsertingAction(e,t){var n=this._getInsertingAction(e);if(n){var i={cancel:!1,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel,t.values=this._convertMappedToCoreData(e,i.values),e===Te&&this._saveCustomFieldsDataToCache(be,i.values)}}_raiseInsertedAction(e,t,n){var i=this._getInsertedAction(e);if(i){var o={values:t,key:n};i(o)}}_raiseDeletingAction(e,t){var n=this._getDeletingAction(e);if(n){var i={cancel:!1,key:t.key,values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel}}_raiseDeletedAction(e,t,n){var i=this._getDeletedAction(e);if(i){var o={key:t,values:n};i(o)}}_raiseUpdatingAction(e,t,n){if(n=n||this._getUpdatingAction(e),n){var i={cancel:!1,key:t.key,newValues:this._convertCoreToMappedData(e,t.newValues),values:this._convertCoreToMappedData(e,t.values)};n(i),t.cancel=i.cancel,t.newValues=this._convertMappedToCoreData(e,i.newValues),e===Te&&this._saveCustomFieldsDataToCache(i.key,i.newValues)}}_raiseUpdatedAction(e,t,n){var i=this._getUpdatedAction(e);if(i){var o={values:t,key:n};i(o)}}_raiseTaskEditDialogShowingAction(e){var t=this._getTaskEditDialogShowingAction();if(t){var n={cancel:!1,key:e.key,values:this._convertCoreToMappedData(Te,e.values),readOnlyFields:this._convertCoreToMappedFields(Te,e.readOnlyFields),hiddenFields:this._convertCoreToMappedFields(Te,e.hiddenFields)};t(n),e.cancel=n.cancel,e.values=this._convertMappedToCoreData(Te,n.values),e.readOnlyFields=this._convertMappedToCoreFields(Te,n.readOnlyFields),e.hiddenFields=this._convertMappedToCoreFields(Te,n.hiddenFields)}}_raiseResourceManagerDialogShowingAction(e){var t=this._getResourceManagerDialogShowingAction();if(t){var n=e.values.resources.items.map(e=>this._convertMappedToCoreData(ke,e)),i={cancel:!1,values:n};t(i),e.cancel=i.cancel}}_raiseTaskClickAction(e,t){this._taskClickAction||this._createTaskClickAction();var n={key:e,event:t,data:this.getTaskData(e)};this._taskClickAction(n)}_raiseTaskDblClickAction(e,t){this._taskDblClickAction||this._createTaskDblClickAction();var n={cancel:!1,data:this.getTaskData(e),event:t,key:e};return this._taskDblClickAction(n),!n.cancel}_getInsertingAction(e){switch(e){case Te:return this._getTaskInsertingAction();case _e:return this._getDependencyInsertingAction();case ke:return this._getResourceInsertingAction();case we:return this._getResourceAssigningAction()}return()=>{}}_getInsertedAction(e){switch(e){case Te:return this._getTaskInsertedAction();case _e:return this._getDependencyInsertedAction();case ke:return this._getResourceInsertedAction();case we:return this._getResourceAssignedAction()}return()=>{}}_getDeletingAction(e){switch(e){case Te:return this._getTaskDeletingAction();case _e:return this._getDependencyDeletingAction();case ke:return this._getResourceDeletingAction();case we:return this._getResourceUnassigningAction()}return()=>{}}_getDeletedAction(e){switch(e){case Te:return this._getTaskDeletedAction();case _e:return this._getDependencyDeletedAction();case ke:return this._getResourceDeletedAction();case we:return this._getResourceUnassignedAction()}return()=>{}}_getUpdatingAction(e){switch(e){case Te:return this._getTaskUpdatingAction()}return()=>{}}_getUpdatedAction(e){switch(e){case Te:return this._getTaskUpdatedAction()}return()=>{}}_getTaskInsertingAction(){return this._taskInsertingAction||this._createTaskInsertingAction(),this._taskInsertingAction}_getTaskInsertedAction(){return this._taskInsertedAction||this._createTaskInsertedAction(),this._taskInsertedAction}_getTaskDeletingAction(){return this._taskDeletingAction||this._createTaskDeletingAction(),this._taskDeletingAction}_getTaskDeletedAction(){return this._taskDeletedAction||this._createTaskDeletedAction(),this._taskDeletedAction}_getTaskUpdatingAction(){return this._taskUpdatingAction||this._createTaskUpdatingAction(),this._taskUpdatingAction}_getTaskUpdatedAction(){return this._taskUpdatedAction||this._createTaskUpdatedAction(),this._taskUpdatedAction}_getTaskMovingAction(){return this._taskMovingAction||this._createTaskMovingAction(),this._taskMovingAction}_getTaskEditDialogShowingAction(){return this._taskEditDialogShowingAction||this._createTaskEditDialogShowingAction(),this._taskEditDialogShowingAction}_getResourceManagerDialogShowingAction(){return this._resourceManagerDialogShowingAction||this._createResourceManagerDialogShowingAction(),this._resourceManagerDialogShowingAction}_getDependencyInsertingAction(){return this._dependencyInsertingAction||this._createDependencyInsertingAction(),this._dependencyInsertingAction}_getDependencyInsertedAction(){return this._dependencyInsertedAction||this._createDependencyInsertedAction(),this._dependencyInsertedAction}_getDependencyDeletingAction(){return this._dependencyDeletingAction||this._createDependencyDeletingAction(),this._dependencyDeletingAction}_getDependencyDeletedAction(){return this._dependencyDeletedAction||this._createDependencyDeletedAction(),this._dependencyDeletedAction}_getResourceInsertingAction(){return this._resourceInsertingAction||this._createResourceInsertingAction(),this._resourceInsertingAction}_getResourceInsertedAction(){return this._resourceInsertedAction||this._createResourceInsertedAction(),this._resourceInsertedAction}_getResourceDeletingAction(){return this._resourceDeletingAction||this._createResourceDeletingAction(),this._resourceDeletingAction}_getResourceDeletedAction(){return this._resourceDeletedAction||this._createResourceDeletedAction(),this._resourceDeletedAction}_getResourceAssigningAction(){return this._resourceAssigningAction||this._createResourceAssigningAction(),this._resourceAssigningAction}_getResourceAssignedAction(){return this._resourceAssignedAction||this._createResourceAssignedAction(),this._resourceAssignedAction}_getResourceUnassigningAction(){return this._resourceUnassigningAction||this._createResourceUnassigningAction(),this._resourceUnassigningAction}_getResourceUnassignedAction(){return this._resourceUnassignedAction||this._createResourceUnassignedAction(),this._resourceUnassignedAction}_createResourceUnassigningAction(){this._resourceUnassigningAction=this._createActionByOption("onResourceUnassigning")}_createResourceUnassignedAction(){this._resourceUnassignedAction=this._createActionByOption("onResourceUnassigned")}_createTaskInsertingAction(){this._taskInsertingAction=this._createActionByOption("onTaskInserting")}_createTaskInsertedAction(){this._taskInsertedAction=this._createActionByOption("onTaskInserted")}_createTaskDeletingAction(){this._taskDeletingAction=this._createActionByOption("onTaskDeleting")}_createTaskDeletedAction(){this._taskDeletedAction=this._createActionByOption("onTaskDeleted")}_createTaskUpdatingAction(){this._taskUpdatingAction=this._createActionByOption("onTaskUpdating")}_createTaskUpdatedAction(){this._taskUpdatedAction=this._createActionByOption("onTaskUpdated")}_createTaskMovingAction(){this._taskMovingAction=this._createActionByOption("onTaskMoving")}_createTaskEditDialogShowingAction(){this._taskEditDialogShowingAction=this._createActionByOption("onTaskEditDialogShowing")}_createResourceManagerDialogShowingAction(){this._resourceManagerDialogShowingAction=this._createActionByOption("onResourceManagerDialogShowing")}_createDependencyInsertingAction(){this._dependencyInsertingAction=this._createActionByOption("onDependencyInserting")}_createDependencyInsertedAction(){this._dependencyInsertedAction=this._createActionByOption("onDependencyInserted")}_createDependencyDeletingAction(){this._dependencyDeletingAction=this._createActionByOption("onDependencyDeleting")}_createDependencyDeletedAction(){this._dependencyDeletedAction=this._createActionByOption("onDependencyDeleted")}_createResourceInsertingAction(){this._resourceInsertingAction=this._createActionByOption("onResourceInserting")}_createResourceInsertedAction(){this._resourceInsertedAction=this._createActionByOption("onResourceInserted")}_createResourceDeletingAction(){this._resourceDeletingAction=this._createActionByOption("onResourceDeleting")}_createResourceDeletedAction(){this._resourceDeletedAction=this._createActionByOption("onResourceDeleted")}_createResourceAssigningAction(){this._resourceAssigningAction=this._createActionByOption("onResourceAssigning")}_createResourceAssignedAction(){this._resourceAssignedAction=this._createActionByOption("onResourceAssigned")}_convertCoreToMappedData(e,t){return Object.keys(t).reduce((n,i)=>{var o=this._getMappedFieldName(e,i);if(o){var r=Object(a["b"])(o);r(n,t[i])}return n},{})}_convertMappedToCoreData(e,t){var n={};if(t){var i=this.option(e);for(var o in i){var r=o.match(Ie),s=r&&i[r[0]];if(s&&void 0!==t[s]){var l=Object(a["a"])(s),c=r[1];n[c]=l(t)}}}return n}_getMappedFieldName(e,t){var n=t;return"id"===t&&(n="key"),this.option("".concat(e,".").concat(n,"Expr"))}_convertCoreToMappedFields(e,t){return t.reduce((t,n)=>{var i=this._getMappedFieldName(e,n);return i&&t.push(i),t},[])}_convertMappedToCoreFields(e,t){var n=[],i=this.option(e);for(var o in i){var r=o.match(Ie),s=r&&i[r[0]];if(s&&t.indexOf(s)>-1){var a=r[1];n.push(a)}}return n}_getTaskMappedFieldNames(){var e=[],t=this.option(Te);for(var n in t){var i=n.match(Ie),o=i&&t[i[0]];o&&e.push(o)}return e}_getTaskCustomFields(){var e=this.option("columns"),t=e&&e.map(e=>e.dataField),n=this._getTaskMappedFieldNames();return t?t.filter(e=>n.indexOf(e)<0):[]}_getCustomFieldsData(e){return this._getTaskCustomFields().reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}_addCustomFieldsData(e,t){if(t)for(var n=this._tasksOption&&this._tasksOption._getItems(),i=Object(a["a"])(this.option("".concat(Te,".keyExpr"))),o=n&&n.filter(t=>i(t)===e)[0],r=this._getTaskCustomFields(),s=0;s<r.length;s++){var l=r[s];Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}}_getSelectionMode(e){return e?"single":"none"}_getArrayFromOneElement(e){return void 0===e||null===e?[]:[e]}_getToolbarItems(){var e=this.option("toolbar.items");return e||[]}_updateToolbarContent(){var e=this._getToolbarItems();e.length?this._$toolbarWrapper.show():this._$toolbarWrapper.hide(),this._toolbar&&this._toolbar.createItems(e),this._updateBarItemsState()}_updateContextMenu(){var e=this.option("contextMenu");e.enabled&&this._contextMenuBar&&(this._contextMenuBar.createItems(e.items),this._updateBarItemsState())}_updateBarItemsState(){this._ganttView&&this._ganttView.updateBarItemsState()}_showDialog(e){this._dialogInstance||(this._dialogInstance=new Z(this,this._$dialog)),this._dialogInstance.show(e.name,e.parameters,e.callback,e.afterClosing,this.option("editing"))}_showPopupMenu(e){if(this.option("contextMenu.enabled")){this._ganttView.getBarManager().updateContextMenu();var t={cancel:!1,event:e.event,targetType:e.type,targetKey:e.key,items:Object(_["a"])(!0,[],this._contextMenuBar._items),data:"task"===e.type?this.getTaskData(e.key):this.getDependencyData(e.key)};this._raiseContextMenuPreparing(t),t.cancel||this._contextMenuBar.show(e.position,t.items)}}_executeCoreCommand(e){this._ganttView.executeCoreCommand(e)}_clean(){var e;null===(e=this._ganttView)||void 0===e||e._ganttViewCore.cleanMarkup(),delete this._ganttView,delete this._dialogInstance,super._clean()}_getTaskTooltipContentTemplateFunc(e){var t=e&&this._getTemplate(e),n=t&&((e,n)=>(t.render({model:this.getTaskDataByCoreData(n),container:Object(oe["a"])(Object(i["a"])(e))}),!0));return n}_getTaskProgressTooltipContentTemplateFunc(e){var t=e&&this._getTemplate(e),n=t&&((e,n,o,r)=>(t.render({model:n,container:Object(oe["a"])(Object(i["a"])(e)),onRendered:()=>{o(r)}}),!0));return n}_getTaskTimeTooltipContentTemplateFunc(e){var t=e&&this._getTemplate(e),n=t&&((e,n,o,r)=>(t.render({model:n,container:Object(oe["a"])(Object(i["a"])(e)),onRendered:()=>{o(r)}}),!0));return n}_getTaskContentTemplateFunc(e){var t=e&&this._getTemplate(e),n=t&&((e,n,o,r)=>(n.taskData=this.getTaskDataByCoreData(n.taskData),t.render({model:n,container:Object(oe["a"])(Object(i["a"])(e)),onRendered:()=>{o(e,r)}}),!0));return n}_getDefaultOptions(){return Object(_["a"])(super._getDefaultOptions(),{tasks:{dataSource:null,keyExpr:"id",parentIdExpr:"parentId",startExpr:"start",endExpr:"end",progressExpr:"progress",titleExpr:"title",colorExpr:"color"},dependencies:{dataSource:null,keyExpr:"id",predecessorIdExpr:"predecessorId",successorIdExpr:"successorId",typeExpr:"type"},resources:{dataSource:null,keyExpr:"id",textExpr:"text",colorExpr:"color"},resourceAssignments:{dataSource:null,keyExpr:"id",taskIdExpr:"taskId",resourceIdExpr:"resourceId"},columns:void 0,taskListWidth:300,showResources:!0,taskTitlePosition:"inside",firstDayOfWeek:void 0,selectedRowKey:void 0,onSelectionChanged:null,onTaskClick:null,onTaskDblClick:null,onTaskInserting:null,onTaskInserted:null,onTaskDeleting:null,onTaskDeleted:null,onTaskUpdating:null,onTaskUpdated:null,onTaskMoving:null,onTaskEditDialogShowing:null,onDependencyInserting:null,onDependencyInserted:null,onDependencyDeleting:null,onDependencyDeleted:null,onResourceInserting:null,onResourceInserted:null,onResourceDeleting:null,onResourceDeleted:null,onResourceAssigning:null,onResourceAssigned:null,onResourceUnassigning:null,onResourceUnassigned:null,onCustomCommand:null,onContextMenuPreparing:null,allowSelection:!0,showRowLines:!0,stripLines:void 0,scaleType:"auto",editing:{enabled:!1,allowTaskAdding:!0,allowTaskDeleting:!0,allowTaskUpdating:!0,allowDependencyAdding:!0,allowDependencyDeleting:!0,allowResourceAdding:!0,allowResourceDeleting:!0,allowResourceUpdating:!0,allowTaskResourceUpdating:!0},validation:{validateDependencies:!1,autoUpdateParentTasks:!1},toolbar:null,contextMenu:{enabled:!0,items:void 0},taskTooltipContentTemplate:null,taskProgressTooltipContentTemplate:null,taskTimeTooltipContentTemplate:null,taskContentTemplate:null,rootValue:0})}getTaskResources(e){if(!Object(o["d"])(e))return null;var t=this._ganttView._ganttViewCore.getTaskResources(e);return t.map(e=>this._convertCoreToMappedData(ke,e))}getVisibleTaskKeys(){return this._ganttView._ganttViewCore.getVisibleTaskKeys()}getVisibleDependencyKeys(){return this._ganttView._ganttViewCore.getVisibleDependencyKeys()}getVisibleResourceKeys(){return this._ganttView._ganttViewCore.getVisibleResourceKeys()}getVisibleResourceAssignmentKeys(){return this._ganttView._ganttViewCore.getVisibleResourceAssignmentKeys()}getTaskData(e){if(!Object(o["d"])(e))return null;var t=this._ganttView._ganttViewCore.getTaskData(e),n=this.getTaskDataByCoreData(t);return n}getTaskDataByCoreData(e){var t=e?this._convertCoreToMappedData(Te,e):null;return this._addCustomFieldsData(e.id,t),t}insertTask(e){this._saveCustomFieldsDataToCache(be,e),this._ganttView._ganttViewCore.insertTask(this._convertMappedToCoreData(Te,e))}deleteTask(e){this._ganttView._ganttViewCore.deleteTask(e)}updateTask(e,t){this._saveCustomFieldsDataToCache(e,t,!0),this._ganttView._ganttViewCore.updateTask(e,this._convertMappedToCoreData(Te,t))}getDependencyData(e){if(!Object(o["d"])(e))return null;var t=this._ganttView._ganttViewCore.getDependencyData(e);return t?this._convertCoreToMappedData(_e,t):null}insertDependency(e){this._ganttView._ganttViewCore.insertDependency(this._convertMappedToCoreData(_e,e))}deleteDependency(e){this._ganttView._ganttViewCore.deleteDependency(e)}getResourceData(e){var t=this._ganttView._ganttViewCore.getResourceData(e);return t?this._convertCoreToMappedData(ke,t):null}deleteResource(e){this._ganttView._ganttViewCore.deleteResource(e)}insertResource(e,t){this._ganttView._ganttViewCore.insertResource(this._convertMappedToCoreData(ke,e),t)}getResourceAssignmentData(e){var t=this._ganttView._ganttViewCore.getResourceAssignmentData(e);return t?this._convertCoreToMappedData(we,t):null}assignResourceToTask(e,t){this._ganttView._ganttViewCore.assignResourceToTask(e,t)}unassignResourceFromTask(e,t){this._ganttView._ganttViewCore.unassignResourceFromTask(e,t)}updateDimensions(){this._onAdjustControl()}scrollToDate(e){this._ganttView._ganttViewCore.scrollToDate(e)}showResourceManagerDialog(){this._ganttView._ganttViewCore.showResourcesDialog()}exportToPdf(e){var t,n,i,o;this._exportHelper.reset();var r=Object(_["a"])({},e);return r.createDocumentMethod&&(r.docCreateMethod=r.createDocumentMethod),null!==(t=r.docCreateMethod)&&void 0!==t||(r.docCreateMethod=null!==(n=null===(i=he.jspdf)||void 0===i?void 0:i.jsPDF)&&void 0!==n?n:he.jsPDF),null!==(o=r.format)&&void 0!==o||(r.format="a4"),new Promise(e=>{var t,n=null===(t=this._ganttView)||void 0===t?void 0:t._ganttViewCore.exportToPdf(r);e(n)})}_getExportHelper(){var e;return null!==(e=this._exportHelper)&&void 0!==e||(this._exportHelper=new de(this)),this._exportHelper}_optionChanged(e){switch(e.name){case"tasks":this._refreshDataSource(Te);break;case"dependencies":this._refreshDataSource(_e);break;case"resources":this._refreshDataSource(ke);break;case"resourceAssignments":this._refreshDataSource(we);break;case"columns":this._setTreeListOption("columns",this._getTreeListColumns());break;case"taskListWidth":this._setInnerElementsWidth();break;case"showResources":this._setGanttViewOption("showResources",e.value);break;case"taskTitlePosition":this._setGanttViewOption("taskTitlePosition",e.value);break;case"firstDayOfWeek":this._setGanttViewOption("firstDayOfWeek",e.value);break;case"selectedRowKey":this._selectTreeListRows(this._getArrayFromOneElement(e.value));break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"onTaskClick":this._createTaskClickAction();break;case"onTaskDblClick":this._createTaskDblClickAction();break;case"onTaskInserting":this._createTaskInsertingAction();break;case"onTaskInserted":this._createTaskInsertedAction();break;case"onTaskDeleting":this._createTaskDeletingAction();break;case"onTaskDeleted":this._createTaskDeletedAction();break;case"onTaskUpdating":this._createTaskUpdatingAction();break;case"onTaskUpdated":this._createTaskUpdatedAction();break;case"onTaskMoving":this._createTaskMovingAction();break;case"onTaskEditDialogShowing":this._createTaskEditDialogShowingAction();break;case"onResourceManagerDialogShowing":this._createResourceManagerDialogShowingAction();break;case"onDependencyInserting":this._createDependencyInsertingAction();break;case"onDependencyInserted":this._createDependencyInsertedAction();break;case"onDependencyDeleting":this._createDependencyDeletingAction();break;case"onDependencyDeleted":this._createDependencyDeletedAction();break;case"onResourceInserting":this._createResourceInsertingAction();break;case"onResourceInserted":this._createResourceInsertedAction();break;case"onResourceDeleting":this._createResourceDeletingAction();break;case"onResourceDeleted":this._createResourceDeletedAction();break;case"onResourceAssigning":this._createResourceAssigningAction();break;case"onResourceAssigned":this._createResourceAssignedAction();break;case"onResourceUnassigning":this._createResourceUnassigningAction();break;case"onResourceUnassigned":this._createResourceUnassignedAction();break;case"onCustomCommand":this._createCustomCommandAction();break;case"onContextMenuPreparing":this._createContextMenuPreparingAction();break;case"allowSelection":this._setTreeListOption("selection.mode",this._getSelectionMode(e.value)),this._setGanttViewOption("allowSelection",e.value);break;case"showRowLines":this._setTreeListOption("showRowLines",e.value),this._setGanttViewOption("showRowLines",e.value);break;case"stripLines":this._setGanttViewOption("stripLines",e.value);break;case"scaleType":this._setGanttViewOption("scaleType",e.value);break;case"editing":this._setGanttViewOption("editing",this.option(e.name));break;case"validation":this._setGanttViewOption("validation",this.option(e.name));break;case"toolbar":this._updateToolbarContent();break;case"contextMenu":this._updateContextMenu();break;case"taskTooltipContentTemplate":this._setGanttViewOption("taskTooltipContentTemplate",this._getTaskTooltipContentTemplateFunc(e.value));break;case"taskProgressTooltipContentTemplate":this._setGanttViewOption("taskProgressTooltipContentTemplate",this._getTaskProgressTooltipContentTemplateFunc(e.value));break;case"taskTimeTooltipContentTemplate":this._setGanttViewOption("taskTimeTooltipContentTemplate",this._getTaskTimeTooltipContentTemplateFunc(e.value));break;case"taskContentTemplate":this._setGanttViewOption("taskContentTemplate",this._getTaskContentTemplateFunc(e.value));break;case"rootValue":this._setTreeListOption("rootValue",e.value);break;case"width":super._optionChanged(e),this._updateGanttWidth();break;case"height":super._optionChanged(e),this._setGanttHeight(this._$element.height());break;default:super._optionChanged(e)}}}Object(s["a"])("dxGantt",Se);var De=Se;t["default"]=De},ab70:function(e,t,n){"use strict";
/*!
 * devextreme-vue
 * Version: 21.1.3
 * Build date: Tue May 18 2021
 *
 * Copyright (c) 2012 - 2021 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-vue
 */var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DxValidationRule=t.DxValidation=t.DxToolbarItem=t.DxToolbar=t.DxTasks=t.DxStripLine=t.DxStringLengthRule=t.DxResources=t.DxResourceAssignments=t.DxRequiredRule=t.DxRangeRule=t.DxPatternRule=t.DxNumericRule=t.DxLookup=t.DxLabel=t.DxItem=t.DxHeaderFilter=t.DxFormItem=t.DxFormat=t.DxEmailRule=t.DxEditing=t.DxDependencies=t.DxCustomRule=t.DxContextMenuItem=t.DxContextMenu=t.DxCompareRule=t.DxColumn=t.DxButton=t.DxAsyncRule=t.DxGantt=void 0;var o=i(n("9cce")),r=n("27da"),s=n("27da"),a=r.createComponent({props:{accessKey:String,activeStateEnabled:Boolean,allowSelection:Boolean,columns:Array,contextMenu:Object,dependencies:Object,disabled:Boolean,editing:Object,elementAttr:{},firstDayOfWeek:{type:Number,validator:function(e){return"number"!==typeof e||-1!==[0,1,2,3,4,5,6].indexOf(e)}},focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,onContentReady:Function,onContextMenuPreparing:Function,onCustomCommand:Function,onDependencyDeleted:Function,onDependencyDeleting:Function,onDependencyInserted:Function,onDependencyInserting:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,onResourceAssigned:Function,onResourceAssigning:Function,onResourceDeleted:Function,onResourceDeleting:Function,onResourceInserted:Function,onResourceInserting:Function,onResourceManagerDialogShowing:Function,onResourceUnassigned:Function,onResourceUnassigning:Function,onSelectionChanged:Function,onTaskClick:Function,onTaskDblClick:Function,onTaskDeleted:Function,onTaskDeleting:Function,onTaskEditDialogShowing:Function,onTaskInserted:Function,onTaskInserting:Function,onTaskMoving:Function,onTaskUpdated:Function,onTaskUpdating:Function,resourceAssignments:Object,resources:Object,rootValue:{},scaleType:String,selectedRowKey:{},showResources:Boolean,showRowLines:Boolean,stripLines:Array,tabIndex:Number,taskContentTemplate:{},taskListWidth:Number,taskProgressTooltipContentTemplate:{},tasks:Object,taskTimeTooltipContentTemplate:{},taskTitlePosition:String,taskTooltipContentTemplate:{},toolbar:Object,validation:Object,visible:Boolean,width:[Function,Number,String]},emits:{"update:isActive":null,"update:hoveredElement":null,"update:accessKey":null,"update:activeStateEnabled":null,"update:allowSelection":null,"update:columns":null,"update:contextMenu":null,"update:dependencies":null,"update:disabled":null,"update:editing":null,"update:elementAttr":null,"update:firstDayOfWeek":null,"update:focusStateEnabled":null,"update:height":null,"update:hint":null,"update:hoverStateEnabled":null,"update:onContentReady":null,"update:onContextMenuPreparing":null,"update:onCustomCommand":null,"update:onDependencyDeleted":null,"update:onDependencyDeleting":null,"update:onDependencyInserted":null,"update:onDependencyInserting":null,"update:onDisposing":null,"update:onInitialized":null,"update:onOptionChanged":null,"update:onResourceAssigned":null,"update:onResourceAssigning":null,"update:onResourceDeleted":null,"update:onResourceDeleting":null,"update:onResourceInserted":null,"update:onResourceInserting":null,"update:onResourceManagerDialogShowing":null,"update:onResourceUnassigned":null,"update:onResourceUnassigning":null,"update:onSelectionChanged":null,"update:onTaskClick":null,"update:onTaskDblClick":null,"update:onTaskDeleted":null,"update:onTaskDeleting":null,"update:onTaskEditDialogShowing":null,"update:onTaskInserted":null,"update:onTaskInserting":null,"update:onTaskMoving":null,"update:onTaskUpdated":null,"update:onTaskUpdating":null,"update:resourceAssignments":null,"update:resources":null,"update:rootValue":null,"update:scaleType":null,"update:selectedRowKey":null,"update:showResources":null,"update:showRowLines":null,"update:stripLines":null,"update:tabIndex":null,"update:taskContentTemplate":null,"update:taskListWidth":null,"update:taskProgressTooltipContentTemplate":null,"update:tasks":null,"update:taskTimeTooltipContentTemplate":null,"update:taskTitlePosition":null,"update:taskTooltipContentTemplate":null,"update:toolbar":null,"update:validation":null,"update:visible":null,"update:width":null},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=o.default,this.$_expectedChildren={column:{isCollectionItem:!0,optionName:"columns"},contextMenu:{isCollectionItem:!1,optionName:"contextMenu"},dependencies:{isCollectionItem:!1,optionName:"dependencies"},editing:{isCollectionItem:!1,optionName:"editing"},resourceAssignments:{isCollectionItem:!1,optionName:"resourceAssignments"},resources:{isCollectionItem:!1,optionName:"resources"},stripLine:{isCollectionItem:!0,optionName:"stripLines"},tasks:{isCollectionItem:!1,optionName:"tasks"},toolbar:{isCollectionItem:!1,optionName:"toolbar"},validation:{isCollectionItem:!1,optionName:"validation"}}}});t.DxGantt=a;var l=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});t.DxAsyncRule=l,l.$_optionName="validationRules",l.$_isCollectionItem=!0,l.$_predefinedProps={type:"async"};var c=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:hint":null,"update:icon":null,"update:name":null,"update:onClick":null,"update:template":null,"update:text":null,"update:visible":null},props:{cssClass:String,hint:String,icon:String,name:String,onClick:Function,template:{},text:String,visible:[Boolean,Function]}});t.DxButton=c,c.$_optionName="buttons",c.$_isCollectionItem=!0;var u=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:allowEditing":null,"update:allowFiltering":null,"update:allowFixing":null,"update:allowHeaderFiltering":null,"update:allowHiding":null,"update:allowReordering":null,"update:allowResizing":null,"update:allowSearch":null,"update:allowSorting":null,"update:buttons":null,"update:calculateCellValue":null,"update:calculateDisplayValue":null,"update:calculateFilterExpression":null,"update:calculateSortValue":null,"update:caption":null,"update:cellTemplate":null,"update:columns":null,"update:cssClass":null,"update:customizeText":null,"update:dataField":null,"update:dataType":null,"update:editCellTemplate":null,"update:editorOptions":null,"update:encodeHtml":null,"update:falseText":null,"update:filterOperations":null,"update:filterType":null,"update:filterValue":null,"update:filterValues":null,"update:fixed":null,"update:fixedPosition":null,"update:format":null,"update:formItem":null,"update:headerCellTemplate":null,"update:headerFilter":null,"update:hidingPriority":null,"update:isBand":null,"update:lookup":null,"update:minWidth":null,"update:name":null,"update:ownerBand":null,"update:renderAsync":null,"update:selectedFilterOperation":null,"update:setCellValue":null,"update:showEditorAlways":null,"update:showInColumnChooser":null,"update:sortIndex":null,"update:sortingMethod":null,"update:sortOrder":null,"update:trueText":null,"update:type":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null,"update:width":null},props:{alignment:String,allowEditing:Boolean,allowFiltering:Boolean,allowFixing:Boolean,allowHeaderFiltering:Boolean,allowHiding:Boolean,allowReordering:Boolean,allowResizing:Boolean,allowSearch:Boolean,allowSorting:Boolean,buttons:Array,calculateCellValue:Function,calculateDisplayValue:[Function,String],calculateFilterExpression:Function,calculateSortValue:[Function,String],caption:String,cellTemplate:{},columns:Array,cssClass:String,customizeText:Function,dataField:String,dataType:String,editCellTemplate:{},editorOptions:{},encodeHtml:Boolean,falseText:String,filterOperations:Array,filterType:String,filterValue:{},filterValues:Array,fixed:Boolean,fixedPosition:String,format:[Object,Function,String],formItem:Object,headerCellTemplate:{},headerFilter:Object,hidingPriority:Number,isBand:Boolean,lookup:Object,minWidth:Number,name:String,ownerBand:Number,renderAsync:Boolean,selectedFilterOperation:String,setCellValue:Function,showEditorAlways:Boolean,showInColumnChooser:Boolean,sortIndex:Number,sortingMethod:Function,sortOrder:String,trueText:String,type:String,validationRules:Array,visible:Boolean,visibleIndex:Number,width:[Number,String]}});t.DxColumn=u,u.$_optionName="columns",u.$_isCollectionItem=!0,u.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},button:{isCollectionItem:!0,optionName:"buttons"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},format:{isCollectionItem:!1,optionName:"format"},formItem:{isCollectionItem:!1,optionName:"formItem"},headerFilter:{isCollectionItem:!1,optionName:"headerFilter"},lookup:{isCollectionItem:!1,optionName:"lookup"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var d=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String}});t.DxCompareRule=d,d.$_optionName="validationRules",d.$_isCollectionItem=!0,d.$_predefinedProps={type:"compare"};var h=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:enabled":null,"update:items":null},props:{enabled:Boolean,items:Array}});t.DxContextMenu=h,h.$_optionName="contextMenu",h.$_expectedChildren={contextMenuItem:{isCollectionItem:!0,optionName:"items"},item:{isCollectionItem:!0,optionName:"items"}};var p=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:name":null,"update:selectable":null,"update:selected":null,"update:template":null,"update:text":null,"update:visible":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,disabled:Boolean,html:String,icon:String,items:Array,name:String,selectable:Boolean,selected:Boolean,template:{},text:String,visible:Boolean}});t.DxContextMenuItem=p,p.$_optionName="items",p.$_isCollectionItem=!0;var g=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:reevaluate":null,"update:type":null,"update:validationCallback":null},props:{ignoreEmptyValue:Boolean,message:String,reevaluate:Boolean,type:String,validationCallback:Function}});t.DxCustomRule=g,g.$_optionName="validationRules",g.$_isCollectionItem=!0,g.$_predefinedProps={type:"custom"};var f=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:predecessorIdExpr":null,"update:successorIdExpr":null,"update:typeExpr":null},props:{dataSource:[Array,Object],keyExpr:[Function,String],predecessorIdExpr:[Function,String],successorIdExpr:[Function,String],typeExpr:[Function,String]}});t.DxDependencies=f,f.$_optionName="dependencies";var m=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowDependencyAdding":null,"update:allowDependencyDeleting":null,"update:allowResourceAdding":null,"update:allowResourceDeleting":null,"update:allowResourceUpdating":null,"update:allowTaskAdding":null,"update:allowTaskDeleting":null,"update:allowTaskResourceUpdating":null,"update:allowTaskUpdating":null,"update:enabled":null},props:{allowDependencyAdding:Boolean,allowDependencyDeleting:Boolean,allowResourceAdding:Boolean,allowResourceDeleting:Boolean,allowResourceUpdating:Boolean,allowTaskAdding:Boolean,allowTaskDeleting:Boolean,allowTaskResourceUpdating:Boolean,allowTaskUpdating:Boolean,enabled:Boolean}});t.DxEditing=m,m.$_optionName="editing";var y=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});t.DxEmailRule=y,y.$_optionName="validationRules",y.$_isCollectionItem=!0,y.$_predefinedProps={type:"email"};var v=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:currency":null,"update:formatter":null,"update:parser":null,"update:precision":null,"update:type":null},props:{currency:String,formatter:Function,parser:Function,precision:Number,type:String}});t.DxFormat=v,v.$_optionName="format";var T=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colSpan":null,"update:cssClass":null,"update:dataField":null,"update:editorOptions":null,"update:editorType":null,"update:helpText":null,"update:isRequired":null,"update:itemType":null,"update:label":null,"update:name":null,"update:template":null,"update:validationRules":null,"update:visible":null,"update:visibleIndex":null},props:{colSpan:Number,cssClass:String,dataField:String,editorOptions:{},editorType:String,helpText:String,isRequired:Boolean,itemType:String,label:Object,name:String,template:{},validationRules:Array,visible:Boolean,visibleIndex:Number}});t.DxFormItem=T,T.$_optionName="formItem",T.$_expectedChildren={AsyncRule:{isCollectionItem:!0,optionName:"validationRules"},CompareRule:{isCollectionItem:!0,optionName:"validationRules"},CustomRule:{isCollectionItem:!0,optionName:"validationRules"},EmailRule:{isCollectionItem:!0,optionName:"validationRules"},label:{isCollectionItem:!1,optionName:"label"},NumericRule:{isCollectionItem:!0,optionName:"validationRules"},PatternRule:{isCollectionItem:!0,optionName:"validationRules"},RangeRule:{isCollectionItem:!0,optionName:"validationRules"},RequiredRule:{isCollectionItem:!0,optionName:"validationRules"},StringLengthRule:{isCollectionItem:!0,optionName:"validationRules"},validationRule:{isCollectionItem:!0,optionName:"validationRules"}};var _=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowSearch":null,"update:dataSource":null,"update:groupInterval":null,"update:height":null,"update:searchMode":null,"update:width":null},props:{allowSearch:Boolean,dataSource:[Array,Object,Function],groupInterval:[Number,String],height:Number,searchMode:String,width:Number}});t.DxHeaderFilter=_,_.$_optionName="headerFilter";var k=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:beginGroup":null,"update:closeMenuOnClick":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:icon":null,"update:items":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:selectable":null,"update:selected":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{beginGroup:Boolean,closeMenuOnClick:Boolean,cssClass:String,disabled:Boolean,html:String,icon:String,items:Array,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},selectable:Boolean,selected:Boolean,showText:String,template:{},text:String,visible:Boolean,widget:String}});t.DxItem=k,k.$_optionName="items",k.$_isCollectionItem=!0;var w=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:alignment":null,"update:location":null,"update:showColon":null,"update:text":null,"update:visible":null},props:{alignment:String,location:String,showColon:Boolean,text:String,visible:Boolean}});t.DxLabel=w,w.$_optionName="label";var b=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:allowClearing":null,"update:dataSource":null,"update:displayExpr":null,"update:valueExpr":null},props:{allowClearing:Boolean,dataSource:[Array,Object,Function],displayExpr:[Function,String],valueExpr:String}});t.DxLookup=b,b.$_optionName="lookup";var C=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,type:String}});t.DxNumericRule=C,C.$_optionName="validationRules",C.$_isCollectionItem=!0,C.$_predefinedProps={type:"numeric"};var I=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:message":null,"update:pattern":null,"update:type":null},props:{ignoreEmptyValue:Boolean,message:String,pattern:{},type:String}});t.DxPatternRule=I,I.$_optionName="validationRules",I.$_isCollectionItem=!0,I.$_predefinedProps={type:"pattern"};var S=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:reevaluate":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:{},message:String,min:{},reevaluate:Boolean,type:String}});t.DxRangeRule=S,S.$_optionName="validationRules",S.$_isCollectionItem=!0,S.$_predefinedProps={type:"range"};var D=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:message":null,"update:trim":null,"update:type":null},props:{message:String,trim:Boolean,type:String}});t.DxRequiredRule=D,D.$_optionName="validationRules",D.$_isCollectionItem=!0,D.$_predefinedProps={type:"required"};var M=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:dataSource":null,"update:keyExpr":null,"update:resourceIdExpr":null,"update:taskIdExpr":null},props:{dataSource:[Array,Object],keyExpr:[Function,String],resourceIdExpr:[Function,String],taskIdExpr:[Function,String]}});t.DxResourceAssignments=M,M.$_optionName="resourceAssignments";var E=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:keyExpr":null,"update:textExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object],keyExpr:[Function,String],textExpr:[Function,String]}});t.DxResources=E,E.$_optionName="resources";var x=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:trim":null,"update:type":null},props:{ignoreEmptyValue:Boolean,max:Number,message:String,min:Number,trim:Boolean,type:String}});t.DxStringLengthRule=x,x.$_optionName="validationRules",x.$_isCollectionItem=!0,x.$_predefinedProps={type:"stringLength"};var P=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:end":null,"update:start":null,"update:title":null},props:{cssClass:String,end:{},start:{},title:String}});t.DxStripLine=P,P.$_optionName="stripLines",P.$_isCollectionItem=!0;var A=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:colorExpr":null,"update:dataSource":null,"update:endExpr":null,"update:keyExpr":null,"update:parentIdExpr":null,"update:progressExpr":null,"update:startExpr":null,"update:titleExpr":null},props:{colorExpr:[Function,String],dataSource:[Array,Object],endExpr:[Function,String],keyExpr:[Function,String],parentIdExpr:[Function,String],progressExpr:[Function,String],startExpr:[Function,String],titleExpr:[Function,String]}});t.DxTasks=A,A.$_optionName="tasks";var O=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:items":null},props:{items:Array}});t.DxToolbar=O,O.$_optionName="toolbar",O.$_expectedChildren={item:{isCollectionItem:!0,optionName:"items"},toolbarItem:{isCollectionItem:!0,optionName:"items"}};var R=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:cssClass":null,"update:disabled":null,"update:html":null,"update:locateInMenu":null,"update:location":null,"update:menuItemTemplate":null,"update:name":null,"update:options":null,"update:showText":null,"update:template":null,"update:text":null,"update:visible":null,"update:widget":null},props:{cssClass:String,disabled:Boolean,html:String,locateInMenu:String,location:String,menuItemTemplate:{},name:String,options:{},showText:String,template:{},text:String,visible:Boolean,widget:String}});t.DxToolbarItem=R,R.$_optionName="items",R.$_isCollectionItem=!0;var L=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:autoUpdateParentTasks":null,"update:validateDependencies":null},props:{autoUpdateParentTasks:Boolean,validateDependencies:Boolean}});t.DxValidation=L,L.$_optionName="validation";var B=s.createConfigurationComponent({emits:{"update:isActive":null,"update:hoveredElement":null,"update:comparisonTarget":null,"update:comparisonType":null,"update:ignoreEmptyValue":null,"update:max":null,"update:message":null,"update:min":null,"update:pattern":null,"update:reevaluate":null,"update:trim":null,"update:type":null,"update:validationCallback":null},props:{comparisonTarget:Function,comparisonType:String,ignoreEmptyValue:Boolean,max:{},message:String,min:{},pattern:{},reevaluate:Boolean,trim:Boolean,type:String,validationCallback:Function}});t.DxValidationRule=B,B.$_optionName="validationRules",B.$_isCollectionItem=!0,B.$_predefinedProps={type:"required"},t.default=a}}]);