(("undefined"!==typeof self?self:this)["webpackJsonpszc"]=("undefined"!==typeof self?self:this)["webpackJsonpszc"]||[]).push([[1],{"320b":function(e,t,n){"use strict";n.r(t);var i=n("085e"),a=n("6bc7"),r=n("bf95"),o=n("b144"),s=n("b9af"),l=n("f654"),d=n("ef30"),c=Object(s["a"])({},d["a"],{modules:[],foreachNodes:function(e,t,n){for(var i=0;i<e.length;i++)!1!==t(e[i])&&(n||e[i].hasChildren)&&e[i].children.length&&this.foreachNodes(e[i].children,t,n)}}),h=n("2111"),u=n("3c75");c.registerModule("columnHeaders",u["a"]);var p=n("be1b"),f=p["a"].controllers.columns.inherit({_getFirstItems:function(e){return this.callBase(e).map((function(e){return e.data}))},getFirstDataColumnIndex:function(){for(var e=this.getVisibleColumns(),t=e.length,n=0,i=0;i<=t-1;i++)if(!Object(r["d"])(e[i].command)){n=e[i].index;break}return n}});c.registerModule("columns",{defaultOptions:p["a"].defaultOptions,controllers:{columns:f}});var y=n("cc07"),g=n("b3a5"),v=n("b7ae"),_=n("7af1"),w=n("befe"),m=n("b499"),x=n("c76e"),S=n("8394"),C=n("e942"),{queryByOptions:R}=C["a"],I="id",O=e=>"fullBranch"===e.option("filterMode"),b=S["a"].inherit({_createKeyGetter:function(){var e=this.getKeyExpr();return Object(v["a"])(e)},_createKeySetter:function(){var e=this.getKeyExpr();return Object(r["h"])(e)?e:Object(v["b"])(e)},_createParentIdGetter:function(){return Object(v["a"])(this.option("parentIdExpr"))},createParentIdSetter:function(){var e=this.option("parentIdExpr");return Object(r["h"])(e)?e:Object(v["b"])(e)},_createItemsGetter:function(){return Object(v["a"])(this.option("itemsExpr"))},_createHasItemsGetter:function(){var e=this.option("hasItemsExpr");return e&&Object(v["a"])(e)},_createHasItemsSetter:function(){var e=this.option("hasItemsExpr");return Object(r["h"])(e)?e:e&&Object(v["b"])(e)},_updateIndexByKeyObject:function(e){var t=this;t._indexByKey={},Object(o["a"])(e,(function(e,n){t._indexByKey[n.key]=e}))},_calculateHasItems:function(e,t){var n,i=t.storeLoadOptions.parentIds,a=O(this);return this._hasItemsGetter&&(i||!t.storeLoadOptions.filter||a)&&(n=this._hasItemsGetter(e.data)),void 0===n&&(n=!(this._isChildrenLoaded[e.key]||!t.remoteOperations.filtering||!i&&!a)||(t.loadOptions.filter&&!t.remoteOperations.filtering&&a?e.children.length:e.hasChildren)),!!n},_createVisibleItemsByNodes:function(e,t){for(var n=[],i=0;i<e.length;i++)e[i].visible&&n.push(e[i]),(this.isRowExpanded(e[i].key,t)||!e[i].visible)&&e[i].hasChildren&&e[i].children.length&&(n=n.concat(this._createVisibleItemsByNodes(e[i].children,t)));return n},_convertItemToNode:function(e,t,n){var i=this._keyGetter(e),a=this._parentIdGetter(e);a=Object(r["d"])(a)?a:t;var o=n[a]=n[a]||{key:a,children:[]},s=n[i]=n[i]||{key:i,children:[]};return s.data=e,s.parent=o,s},_createNodesByItems:function(e,t){var n,i=this.option("rootValue"),a={},r=this._nodeByKey={};if(t)for(n=0;n<t.length;n++)a[this._keyGetter(t[n])]=!0;for(n=0;n<e.length;n++){var o=this._convertItemToNode(e[n],i,r);if(void 0===o.key)return;o.visible=!t||!!a[o.key],o.parent&&o.parent.children.push(o)}var s=r[i]||{key:i,children:[]};return s.level=-1,s},_convertDataToPlainStructure:function(e,t,n){var i;if(this._itemsGetter&&!e.isConverted){n=n||[];for(var a=0;a<e.length;a++){var o=Object(w["b"])(e[a]);i=this._keyGetter(o),void 0===i&&(i=n.length+1,this._keySetter(o,i)),this._parentIdSetter(o,void 0===t?this.option("rootValue"):t),n.push(o);var s=this._itemsGetter(o);if(s&&s.length){this._convertDataToPlainStructure(s,i,n);var l=this.option("itemsExpr");Object(r["h"])(l)||delete o[l]}}return n.isConverted=!0,n}return e},_createIdFilter:function(e,t){for(var n=[],i=0;i<t.length;i++)n.push([e,"=",t[i]]);return _["a"].combineFilters(n,"or")},_customizeRemoteOperations:function(e,t){this.callBase.apply(this,arguments),e.remoteOperations.paging=!1;var n=!1;this.option("autoExpandAll")&&(e.remoteOperations.sorting=!1,e.remoteOperations.filtering=!1,this._lastLoadOptions&&(!t.filtering||e.storeLoadOptions.filter)||e.isCustomLoading||(n=!0)),e.isCustomLoading||(this._isReload=this._isReload||t.reload,e.cachedStoreData||(this._isChildrenLoaded={},this._isReload&&(this._nodeByKey={})),this.option("expandNodesOnFiltering")&&(t.filtering||this._isReload&&e.storeLoadOptions.filter)&&(e.storeLoadOptions.filter?n=!0:e.collapseVisibleNodes=!0)),e.expandVisibleNodes=n},_getParentIdsToLoad:function(e){for(var t=[],n=0;n<e.length;n++){var i=this.getNodeByKey(e[n]);(!i||i.hasChildren&&!i.children.length)&&t.push(e[n])}return t},_handleDataLoading:function(e){var t=this.option("rootValue"),n=this.option("parentIdExpr"),i=e.storeLoadOptions.parentIds;if(i&&(e.isCustomLoading=!1),this.callBase.apply(this,arguments),e.remoteOperations.filtering&&!e.isCustomLoading&&(O(this)&&e.cachedStoreData||!e.storeLoadOptions.filter)){var a=e.collapseVisibleNodes?[]:this.option("expandedRowKeys");i=[t].concat(a).concat(i||[]);var r=e.data?this._getParentIdsToLoad(i):i;r.length&&(e.cachedPagingData=void 0,e.data=void 0,e.mergeStoreLoadData=!0,e.delay=this.option("loadingTimeout")),e.storeLoadOptions.parentIds=r,e.storeLoadOptions.filter=this._createIdFilter(n,r)}},_generateInfoToLoad:function(e,t){var n,i,a={},r={},o=[],s=this.option("rootValue");for(i=0;i<e.length;i++)n=t?this._parentIdGetter(e[i]):this._keyGetter(e[i]),a[n]=!0;for(i=0;i<e.length;i++){n=t?this._keyGetter(e[i]):this._parentIdGetter(e[i]);var l=t?this.isRowExpanded(n):n!==s;a[n]||r[n]||!l||(r[n]=!0,o.push(n))}return{keyMap:r,keys:o}},_loadParentsOrChildren:function(e,t,n){var i,a,r=this,{keys:o,keyMap:l}=r._generateInfoToLoad(e,n),d=new y["a"],c=t.remoteOperations.filtering,h=r.option("maxFilterLengthInRequest"),u=c?t.storeLoadOptions:t.loadOptions;function p(t){return c&&(r._cachedStoreData=r._cachedStoreData.concat(t)),e.concat(t)}if(!o.length)return d.resolve(e);var f=o.map(e=>this.getNodeByKey(e)).filter(e=>e&&e.data);if(f.length===o.length&&(n&&(f=f.reduce((e,t)=>e.concat(t.children),[])),f.length))return r._loadParentsOrChildren(p(f.map(e=>e.data)),t,n);var g=n?r.option("parentIdExpr"):r.getKeyExpr();i=r._createIdFilter(g,o);var v=encodeURI(JSON.stringify(i)).length;v>h&&(i=function(e){return l[r._keyGetter(e)]},a=c),u=Object(s["a"])({},u,{filter:a?null:i});var _=t.fullData?new m["a"](t.fullData):r._dataSource.store();return r.loadFromStore(u,_).done((function(o){o.length?(a&&(o=Object(x["a"])(o).filter(i).toArray()),r._loadParentsOrChildren(p(o),t,n).done(d.resolve).fail(d.reject)):d.resolve(e)})).fail(d.reject),d},_loadParents:function(e,t){return this._loadParentsOrChildren(e,t)},_loadChildrenIfNeed:function(e,t){return O(this)?this._loadParentsOrChildren(e,t,!0):Object(y["c"])(e)},_updateHasItemsMap:function(e){var t=e.storeLoadOptions.parentIds;if(t)for(var n=0;n<t.length;n++)this._isChildrenLoaded[t[n]]=!0},_getKeyInfo:function(){return{key:()=>"key",keyOf:e=>e.key}},_applyBatch:function(e){var t=[];e.forEach(e=>{"insert"===e.type?t=t.concat(this._applyInsert(e)):"remove"===e.type?t=t.concat(this._applyRemove(e)):"update"===e.type&&t.push({type:e.type,key:e.key,data:{data:e.data}})}),this.callBase(t)},_setHasItems:function(e,t){var n=this._hasItemsSetter;e.hasChildren=t,n&&e.data&&n(e.data,t)},_applyInsert:function(e){var t=[],n=this.parentKeyOf(e.data),i=this.getNodeByKey(n);if(i){var a=this.option("rootValue"),r=this._convertItemToNode(e.data,a,this._nodeByKey);if(r.hasChildren=!1,r.level=i.level+1,r.visible=!0,i.children.push(r),this._isChildrenLoaded[r.key]=!0,this._setHasItems(i,!0),(!i.parent||this.isRowExpanded(i.key))&&void 0!==e.index){var o=this.items().indexOf(i)+1;o+=e.index>=0?Math.min(e.index,i.children.length):i.children.length,t.push({type:e.type,data:r,index:o})}}return t},_applyRemove:function(e){var t=[],n=this.getNodeByKey(e.key),i=n&&n.parent;if(i){var a=i.children.indexOf(n);a>=0&&(i.children.splice(a,1),i.children.length||this._setHasItems(i,!1),t.push(e),t=t.concat(this.getChildNodeKeys(e.key).map(t=>({type:e.type,key:t}))))}return t},_handleDataLoaded:function(e){var t=e.data=this._convertDataToPlainStructure(e.data);!e.remoteOperations.filtering&&e.loadOptions.filter&&(e.fullData=R(Object(x["a"])(e.data),{sort:e.loadOptions&&e.loadOptions.sort}).toArray()),this._updateHasItemsMap(e),this.callBase(e),t.isConverted&&this._cachedStoreData&&(this._cachedStoreData.isConverted=!0)},_fillNodes:function(e,t,n,i){var a=O(this);i=i||0;for(var r=0;r<e.length;r++){var o=e[r],s=!1;this._fillNodes(e[r].children,t,n,i+1),o.level=i,o.hasChildren=this._calculateHasItems(o,t),o.visible&&o.hasChildren&&(a?o.children.filter(e=>e.visible).length?s=!0:o.children.length&&c.foreachNodes(o.children,(function(e){e.visible=!0})):s=!0,t.expandVisibleNodes&&s&&n.push(o.key)),(o.visible||o.hasChildren)&&(o.parent.hasChildren=!0)}},_processTreeStructure:function(e,t){var n=e.data,i=e.storeLoadOptions.parentIds,a=[];if(i&&i.length||this._isReload){if(e.fullData&&e.fullData.length>e.data.length&&(n=e.fullData,t=t||e.data),this._rootNode=this._createNodesByItems(n,t),!this._rootNode)return void(e.data=(new y["a"]).reject(g["a"].Error("E1046",this.getKeyExpr())));this._fillNodes(this._rootNode.children,e,a),this._isNodesInitializing=!0,(e.collapseVisibleNodes||a.length)&&this.option("expandedRowKeys",a),this._isReload=!1,this.executeAction("onNodesInitialized",{root:this._rootNode}),this._isNodesInitializing=!1}n=this._createVisibleItemsByNodes(this._rootNode.children,e),e.data=n,this._totalItemsCount=n.length},_handleDataLoadedCore:function(e){var t,n=this,i=e.data,a=n.callBase,r=e.storeLoadOptions.filter||e.loadOptions.filter,o=n.option("filterMode"),s=e.storeLoadOptions.parentIds,l=r&&(!s||!s.length)&&"standard"!==o;if(!e.isCustomLoading){if(l){var d=e.data=new y["a"];return"matchOnly"===o&&(t=i),n._loadParents(i,e).done((function(i){n._loadChildrenIfNeed(i,e).done(i=>{e.data=i,n._processTreeStructure(e,t),a.call(n,e),d.resolve(e.data)})})).fail(d.reject)}n._processTreeStructure(e)}n.callBase(e)},_handlePush:function(e){var t=this._dataSource._reshapeOnPush,n=t&&!!e.length;n&&(this._isReload=!0),this.callBase.apply(this,arguments)},init:function(e,t){this.callBase.apply(this,arguments);var n=this.option("dataStructure");this._keyGetter=this._createKeyGetter(),this._parentIdGetter=this._createParentIdGetter(),this._hasItemsGetter=this._createHasItemsGetter(),this._hasItemsSetter=this._createHasItemsSetter(),"tree"===n&&(this._itemsGetter=this._createItemsGetter(),this._keySetter=this._createKeySetter(),this._parentIdSetter=this.createParentIdSetter()),this._nodeByKey={},this._isChildrenLoaded={},this._totalItemsCount=0,this.createAction("onNodesInitialized")},getKeyExpr:function(){var e=this.store(),t=e&&e.key(),n=this.option("keyExpr");if(Object(r["d"])(t)&&Object(r["d"])(n)&&!Object(a["h"])(t,n))throw g["a"].Error("E1044");return t||n||I},keyOf:function(e){return this._keyGetter&&this._keyGetter(e)},parentKeyOf:function(e){return this._parentIdGetter&&this._parentIdGetter(e)},getRootNode:function(){return this._rootNode},totalItemsCount:function(){return this._totalItemsCount},isRowExpanded:function(e,t){if(t){var n=t.isExpandedByKey;return n||(n=t.isExpandedByKey={},this.option("expandedRowKeys").forEach((function(e){n[e]=!0}))),!!n[e]}var i=_["a"].getIndexByKey(e,this.option("expandedRowKeys"),null);return i>=0},_changeRowExpandCore:function(e){var t=this.option("expandedRowKeys").slice(),n=_["a"].getIndexByKey(e,t,null);n<0?t.push(e):t.splice(n,1),this.option("expandedRowKeys",t)},changeRowExpand:function(e){return this._changeRowExpandCore(e),this._isNodesInitializing?(new y["a"]).resolve():this.load()},getNodeByKey:function(e){if(this._nodeByKey)return this._nodeByKey[e]},getNodeLeafKeys:function(){var e=this,t=[],n=e._rootNode?[e._rootNode.key]:[];return n.forEach((function(n){var i=e.getNodeByKey(n);i&&c.foreachNodes([i],(function(e){!e.children.length&&t.push(e.key)}))})),t},getChildNodeKeys:function(e){var t=this.getNodeByKey(e),n=[];return t&&c.foreachNodes(t.children,(function(e){n.push(e.key)})),n},loadDescendants:function(e,t){var n=this,i=new y["a"],a=n.remoteOperations();if(e=Object(r["d"])(e)?Array.isArray(e)?e:[e]:n.getNodeLeafKeys(),!a.filtering||!e.length)return i.resolve();var o=n._dataSource._createStoreLoadOptions();return o.parentIds=e,n.load(o).done((function(){if(!t){var a=function(e,t){var n=[];return t.forEach((function(t){var i=e.getNodeByKey(t);i&&i.children.forEach((function(e){n.push(e.key)}))})),n}(n,e);if(a.length)return void n.loadDescendants(a,t).done(i.resolve).fail(i.reject)}i.resolve()})).fail(i.reject),i.promise()},forEachNode:function(){var e,t=[];if(1===arguments.length){e=arguments[0];var n=this.getRootNode();t=n&&n.children||[]}else 2===arguments.length&&(e=arguments[1],t=arguments[0],t=Array.isArray(t)?t:[t]);c.foreachNodes(t,e)}}),K={extend:function(e){b=b.inherit(e)},create:function(e){return new b(e)}},B=n("08ba"),k=B["a"].controllers.data.inherit({_getDataSourceAdapter:function(){return K},_getNodeLevel:function(e){var t=-1;while(e.parent)e.visible&&t++,e=e.parent;return t},_generateDataItem:function(e,t){return{rowType:"data",node:e,key:e.key,data:e.data,isExpanded:this.isRowExpanded(e.key,t),level:this._getNodeLevel(e)}},_loadOnOptionChange:function(){this._dataSource.load()},_isItemEquals:function(e,t){return!!this.callBase.apply(this,arguments)&&((!e.node||!t.node||e.node.hasChildren===t.node.hasChildren)&&(e.level===t.level&&e.isExpanded===t.isExpanded))},init:function(){this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed"),this.callBase.apply(this,arguments)},keyOf:function(e){var t=this._dataSource;if(t)return t.keyOf(e)},key:function(){var e=this._dataSource;if(e)return e.getKeyExpr()},publicMethods:function(){return this.callBase().concat(["expandRow","collapseRow","isRowExpanded","getRootNode","getNodeByKey","loadDescendants","forEachNode"])},changeRowExpand:function(e){if(this._dataSource){var t={key:e},n=this.isRowExpanded(e);if(this.executeAction(n?"onRowCollapsing":"onRowExpanding",t),!t.cancel)return this._dataSource.changeRowExpand(e).done(()=>{this.executeAction(n?"onRowCollapsed":"onRowExpanded",t)})}return(new y["a"]).resolve()},isRowExpanded:function(e,t){return this._dataSource&&this._dataSource.isRowExpanded(e,t)},expandRow:function(e){return this.isRowExpanded(e)?(new y["a"]).resolve():this.changeRowExpand(e)},collapseRow:function(e){return this.isRowExpanded(e)?this.changeRowExpand(e):(new y["a"]).resolve()},getRootNode:function(){return this._dataSource&&this._dataSource.getRootNode()},optionChanged:function(e){switch(e.name){case"rootValue":case"parentIdExpr":case"itemsExpr":case"filterMode":case"expandNodesOnFiltering":case"autoExpandAll":case"hasItemsExpr":case"dataStructure":this._columnsController.reset(),this._items=[],this._refreshDataSource(),e.handled=!0;break;case"expandedRowKeys":case"onNodesInitialized":!this._dataSource||this._dataSource._isNodesInitializing||Object(a["h"])(e.value,e.previousValue)||this._loadOnOptionChange(),e.handled=!0;break;case"maxFilterLengthInRequest":e.handled=!0;break;default:this.callBase(e)}},getNodeByKey:function(e){if(this._dataSource)return this._dataSource.getNodeByKey(e)},getChildNodeKeys:function(e){if(this._dataSource)return this._dataSource.getChildNodeKeys(e)},loadDescendants:function(e,t){if(this._dataSource)return this._dataSource.loadDescendants(e,t)},forEachNode:function(){this._dataSource.forEachNode.apply(this,arguments)}});c.registerModule("data",{defaultOptions:function(){return Object(s["a"])({},B["a"].defaultOptions(),{itemsExpr:"items",parentIdExpr:"parentId",rootValue:0,dataStructure:"plain",expandedRowKeys:[],filterMode:"withAncestors",expandNodesOnFiltering:!0,autoExpandAll:!1,onNodesInitialized:null,maxFilterLengthInRequest:1500,paging:{enabled:!1}})},controllers:{data:k}});var E=n("ec0d");c.registerModule("sorting",E["a"]);var N=n("5b62"),j=n("ed20"),M="dx-treelist-text-content",D="dx-treelist-icon-container",A="dx-treelist-cell-expandable",L="dx-treelist-empty-space",V="dx-treelist-expanded",P="dx-treelist-collapsed",T=j["a"].views.rowsView.inherit(function(){var e=function(e,t){var n=Object(N["a"])("<div>").addClass(L);return e&&n.toggleClass(V,t).toggleClass(P,!t).append(Object(N["a"])("<span>")),n};return{_renderIconContainer:function(e,t){var n=Object(N["a"])("<div>").addClass(D).appendTo(e);return t.watch&&t.watch((function(){return[t.row.level,t.row.isExpanded,t.row.node.hasChildren]}),()=>{n.empty(),this._renderIcons(n,t)}),e.addClass(A),this._renderIcons(n,t)},_renderIcons:function(t,n){for(var i=n.row,a=i.level,r=0;r<=a;r++)t.append(e(r===a&&i.node.hasChildren,i.isExpanded));return t},_renderCellCommandContent:function(e,t){return this._renderIconContainer(e,t),!0},_processTemplate:function(e,t){var n,i=this,a=this.callBase(e),r=i._columnsController.getFirstDataColumnIndex();return n=a&&t.column.index===r?{render:function(e){var t=e.container;i._renderCellCommandContent(t,e.model)&&(e.container=function(e){return Object(N["a"])("<div>").addClass(M).appendTo(e)}(t)),a.render(e)}}:a,n},_updateCell:function(e,t){e=e.hasClass(M)?e.parent():e,this.callBase(e,t)},_rowClick:function(e){var t=this._dataController,n=Object(N["a"])(e.event.target),i=this.isExpandIcon(n),a=t&&t.items()[e.rowIndex];i&&a&&t.changeRowExpand(a.key),this.callBase(e)},_createRow:function(e){var t=e&&e.node,n=this.callBase.apply(this,arguments);return t&&(this.setAria("level",e.level,n),t.hasChildren&&this.setAria("expanded",e.isExpanded,n)),n},isExpandIcon:function(e){return!!e.closest("."+V+", ."+P).length}}}());c.registerModule("rows",{defaultOptions:j["a"].defaultOptions,views:{rowsView:T}});var z=n("7c9f");c.registerModule("contextMenu",z["a"]);var F=n("7411");c.registerModule("errorHandling",F["a"]);var G=n("0be7"),H=G["a"].views.gridView.inherit({_getWidgetAriaLabel:function(){return"dxTreeList-ariaTreeList"},_getTableRoleName:function(){return"treegrid"}});c.registerModule("gridView",{defaultOptions:G["a"].defaultOptions,controllers:G["a"].controllers,views:{gridView:H},extenders:{controllers:{resizing:{_toggleBestFitMode:function(e){this.callBase(e);var t=this._rowsView.getTableElement();t.find(".dx-treelist-cell-expandable").toggleClass(this.addWidgetPrefix("best-fit"),e)}}}}});var U=n("5269");c.registerModule("headerPanel",U["a"]);var q=c.callModuleItemsMethod,J=".dx-row",W="dx-treelist";c.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","editingRowBased","editingFormBased","editingCellBased","editing","grouping","masterDetail","validating","adaptivity","data","virtualScrolling","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","errorHandling","summary","columnFixing","export","gridView"]);var $=l["a"].inherit({_activeStateUnit:J,_getDefaultOptions:function(){var e=this.callBase();return Object(o["a"])(c.modules,(function(){Object(r["h"])(this.defaultOptions)&&Object(s["a"])(!0,e,this.defaultOptions())})),e},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return Object(h["c"])()},options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0}}}])},_init:function(){this.callBase(),c.processModules(this,c),q(this,"init")},_clean:a["n"],_optionChanged:function(e){q(this,"optionChanged",[e]),e.handled||this.callBase(e)},_dimensionChanged:function(){this.updateDimensions(!0)},_visibilityChanged:function(e){e&&this.updateDimensions()},_initMarkup:function(){this.callBase.apply(this,arguments),this.$element().addClass(W),this.getView("gridView").render(this.$element())},_renderContentImpl:function(){this.getView("gridView").update()},_renderContent:function(){var e=this;Object(a["c"])((function(){e._renderContentImpl()}))},_dispose:function(){this.callBase(),q(this,"dispose")},isReady:function(){return this.getController("data").isReady()},beginUpdate:function(){this.callBase(),q(this,"beginUpdate")},endUpdate:function(){q(this,"endUpdate"),this.callBase()},getController:function(e){return this._controllers[e]},getView:function(e){return this._views[e]},focus:function(e){this.callBase(),Object(r["d"])(e)&&this.getController("keyboardNavigation").focus(e)}});$.registerModule=c.registerModule.bind(c),Object(i["a"])("dxTreeList",$);var Q=$,X=n("f70f"),Y=X["a"].extenders.controllers.stateStoring.applyState;c.registerModule("stateStoring",Object(s["a"])(!0,{},X["a"],{extenders:{controllers:{stateStoring:{applyState:function(e){Y.apply(this,arguments),Object.prototype.hasOwnProperty.call(e,"expandedRowKeys")&&this.option("expandedRowKeys",e.expandedRowKeys&&e.expandedRowKeys.slice())}},data:{getUserState:function(){var e=this.callBase.apply(this,arguments);return this.option("autoExpandAll")||(e.expandedRowKeys=this.option("expandedRowKeys")),e}}}}}));var Z=n("fa63");c.registerModule("columnChooser",Z["a"]);var ee=n("287b");c.registerModule("masterDetail",Object(s["a"])(!0,{},ee["a"],{extenders:{controllers:{data:{isRowExpanded:function(){return this.callBase.apply(this,arguments)},_processItems:function(){return this.callBase.apply(this,arguments)},_processDataItem:function(){return this.callBase.apply(this,arguments)}}}}}));var te=n("de5d");c.registerModule("editorFactory",te["a"]);var ne=n("dc20"),ie=n("7a85"),ae="dx-treelist-icon-container",re="dx-select-checkbox",oe="insert",se=ie["a"].controllers.editing.inherit({_generateNewItem:function(e){var t=this.callBase(e);return t.data={key:e},t.children=[],t.level=0,t.parentKey=this.option("rootValue"),t},_needInsertItem:function(e,t,n,i){var a=this.getController("data"),r=a.dataSource(),o=null===r||void 0===r?void 0:r.parentKeyOf(e.data);if(void 0!==o&&o!==this.option("rootValue")){var s=_["a"].getIndexByKey(o,n);return s>=0&&this._dataController.isRowExpanded(o)&&n.splice(s+1,0,i),!1}return this.callBase.apply(this,arguments)},_isEditColumnVisible:function(){var e=this.callBase.apply(this,arguments),t=this.option("editing");return e||t.allowAdding},_isDefaultButtonVisible:function(e,t){var n=this.callBase.apply(this,arguments),i=t.row;return"add"===e.name?this.allowAdding(t)&&i.rowIndex!==this._getVisibleEditRowIndex()&&!(i.removed||i.isNewRow):n},_getEditingButtons:function(e){var t=this.callBase.apply(this,arguments);return e.column.buttons||t.unshift(this._getButtonConfig("add",e)),t},_beforeSaveEditData:function(e){var t=this._dataController,n=this.callBase.apply(this,arguments);if(e&&e.type!==oe){var i=null===t||void 0===t?void 0:t.store(),a=null===i||void 0===i?void 0:i.key();if(!Object(r["d"])(a))throw g["a"].Error("E1045")}return n},addRowByRowIndex:function(e){var t=this.getController("data"),n=t.getVisibleRows()[e];return this.addRow(n?n.key:void 0)},addRow:function(e){var t=this,n=t.callBase,i=t.getController("data");if(void 0!==e&&!i.isRowExpanded(e)){var a=new y["a"];return i.expandRow(e).done((function(){setTimeout((function(){n.call(t,e).done(a.resolve).fail(a.reject)}))})).fail(a.reject),a.promise()}return void 0===e&&(e=t.option("rootValue")),n.call(t,e)},_initNewRow:function(e,t){var n=this.getController("data"),i=n.dataSource(),a=i.createParentIdSetter();return a(e.data,t),this.callBase.apply(this,arguments)},allowAdding:function(e){return this._allowEditAction("allowAdding",e)},_needToCloseEditableCell:function(e){return this.callBase.apply(this,arguments)||e.closest("."+ae).length&&this.isEditing()},getButtonLocalizationNames(){var e=this.callBase.apply(this);return e.add="dxTreeList-editingAddRowToNode",e}}),le=ie["a"].extenders.views.rowsView._rowClick,de=ie["a"].extenders.views.rowsView._rowDblClick,ce=function(e){var t=Object(N["a"])(e.event.target),n="dxdblclick"===e.event.type?de:le;return!t.closest("."+re).length&&!he.call(this,e,n)};function he(e,t){var n=Object(N["a"])(e.event.target);return!n.closest("."+ae).length&&(t.call(this,e),!0)}var ue=Object(s["a"])({},ie["a"].extenders.views.rowsView,{_renderCellCommandContent:function(e,t){var n=this._editingController,i=t.row&&n.isEditRow(t.row.rowIndex),a=t.isEditing||i;return!a&&this.callBase.apply(this,arguments)},_rowClick:function(e){ce.call(this,e)&&this.callBase.apply(this,arguments)},_rowDblClick:function(e){ce.call(this,e)&&this.callBase.apply(this,arguments)}});c.registerModule("editing",{defaultOptions:function(){return Object(s["a"])(!0,ie["a"].defaultOptions(),{editing:{texts:{addRowToNode:ne["a"].format("dxTreeList-editingAddRowToNode")}}})},controllers:{editing:se},extenders:{controllers:Object(s["a"])(!0,{},ie["a"].extenders.controllers,{data:{changeRowExpand:function(){return this._editingController.refresh(),this.callBase.apply(this,arguments)}}}),views:{rowsView:ue,headerPanel:ie["a"].extenders.views.headerPanel}}});var pe=n("7aa8");c.registerModule("editingRowBased",pe["a"]);var fe=n("7db7");c.registerModule("editingFormBased",fe["a"]);var ye=n("ea38");c.registerModule("editingCellBased",ye["a"]);var ge=n("df6b"),ve=Object(s["a"])({},ge["a"].extenders.controllers.editing);delete ve.processItems,delete ve.processDataItem,c.registerModule("validating",{defaultOptions:ge["a"].defaultOptions,controllers:ge["a"].controllers,extenders:{controllers:{editing:ve,editorFactory:ge["a"].extenders.controllers.editorFactory},views:ge["a"].extenders.views}});var _e=n("9a99"),we=_e["a"].defaultOptions,me=_e["a"].extenders.controllers.data,xe=_e["a"].extenders.dataSourceAdapter;_e["a"].extenders.controllers.data=Object(s["a"])({},me,{_loadOnOptionChange:function(){var e=this._dataSource&&this._dataSource._virtualScrollController;e&&e.reset(),this.callBase()}}),_e["a"].extenders.dataSourceAdapter=Object(s["a"])({},xe,{changeRowExpand:function(){return this.callBase.apply(this,arguments).done(()=>{var e=this.getViewportItemIndex();e>=0&&this.setViewportItemIndex(e)})}}),c.registerModule("virtualScrolling",Object(s["a"])({},_e["a"],{defaultOptions:function(){return Object(s["a"])(!0,we(),{scrolling:{mode:"virtual"}})}})),K.extend(_e["a"].extenders.dataSourceAdapter);var Se=n("8fc1");c.registerModule("filterRow",Se["a"]);var Ce=n("a35b");c.registerModule("headerFilter",Ce["a"]);var Re=n("5fdf");c.registerModule("filterSync",Re["a"]);var Ie=n("7a64");c.registerModule("filterBuilder",Ie["a"]);var Oe=n("b875");c.registerModule("filterPanel",Oe["a"]);var be=n("ed13");c.registerModule("pager",be["a"]);var Ke=n("bac4");c.registerModule("columnsResizingReordering",Ke["a"]);var Be=n("b733");c.registerModule("columnFixing",Be["a"]);var ke=n("e4d9");c.registerModule("adaptivity",ke["a"]);var Ee=n("b558"),Ne="dx-treelist-select-all",je="dx-cell-focus-disabled",Me="dx-select-checkbox",De=Ee["a"].extenders.views.rowsView._rowClick,Ae=Ee["a"].extenders.controllers.data._handleDataChanged,Le=function(e,t){return!!e.filter((function(e){return e===t})).length};c.registerModule("selection",Object(s["a"])(!0,{},Ee["a"],{defaultOptions:function(){return Object(s["a"])(!0,Ee["a"].defaultOptions(),{selection:{showCheckBoxesMode:"always",recursive:!1}})},extenders:{controllers:{data:{_handleDataChanged:function(e){var t=this.getController("selection"),n=t.isRecursiveSelection();!n||e&&"updateSelectionState"===e.changeType||t.updateSelectionState({selectedItemKeys:this.option("selectedRowKeys")}),Ae.apply(this,arguments)},loadDescendants:function(){var e=this,t=e.callBase.apply(e,arguments),n=e.getController("selection"),i=n.isRecursiveSelection();return i&&t.done((function(){n.updateSelectionState({selectedItemKeys:e.option("selectedRowKeys")})})),t}},selection:{init:function(){this.callBase.apply(this,arguments),this._selectionStateByKey={}},_getSelectionConfig:function(){var e=this.callBase.apply(this,arguments),t=e.plainItems;return e.plainItems=e=>e?this._dataController.getCachedStoreData()||[]:t.apply(this,arguments).map(e=>e.data),e.isItemSelected=e=>{var t=this._dataController.keyOf(e);return this.isRowSelected(t)},e.isSelectableItem=()=>!0,e.getItemData=e=>e,e},renderSelectCheckBoxContainer:function(e,t){var n=this.component.getView("rowsView");e.addClass(je);var i=n._renderSelectCheckBox(e,{value:t.row.isSelected,row:t.row,column:t.column});n._attachCheckBoxClickEvent(i)},_updateSelectColumn:a["n"],_getSelectAllNodeKeys:function(){var e=this.component,t=e.getRootNode(),n={},i=[],a=this.isRecursiveSelection();return t&&c.foreachNodes(t.children,(function(t){return void 0!==t.key&&(t.visible||a)&&i.push(t.key),!t.visible||!a&&e.isRowExpanded(t.key,n)})),i},isSelectAll:function(){var e=this.component,t=this._getSelectAllNodeKeys(),n=t.filter((function(t){return e.isRowSelected(t)}));if(!n.length){var i=t.some((function(t){return void 0===e.isRowSelected(t)}));return!!i&&void 0}if(n.length===t.length)return!0},selectAll:function(){var e=this._getSelectAllNodeKeys().filter(e=>!this.isRowSelected(e));return this.focusedItemIndex(-1),this.selectRows(e,!0)},deselectAll:function(){var e=this._getSelectAllNodeKeys();return this.focusedItemIndex(-1),this.deselectRows(e)},selectedItemKeys:function(e,t,n,i){var o=this,s=o.option("selectedRowKeys"),l=this.isRecursiveSelection(),d=l&&o._normalizeSelectionArgs({keys:Object(r["d"])(e)?e:[]},!n);return d&&!Object(a["h"])(d.selectedRowKeys,s)?(o._isSelectionNormalizing=!0,this.callBase(d.selectedRowKeys,!1,!1,!1).always((function(){o._isSelectionNormalizing=!1})).done((function(e){d.selectedRowsData=e,o._fireSelectionChanged(d)}))):this.callBase(e,t,n,i)},changeItemSelection:function(e,t){var n=this.isRecursiveSelection();if(n&&!t.shift){var i=this._dataController.getKeyByRowIndex(e);return this.selectedItemKeys(i,!0,this.isRowSelected(i))}return this.callBase.apply(this,arguments)},_updateParentSelectionState:function(e,t){var n=this,i=t,a=e.parent;if(a){if(a.children.length>1)if(!1===t){var r=a.children.some((function(e,t,i){return n._selectionStateByKey[e.key]}));i=!!r&&void 0}else if(!0===t){var o=a.children.some((function(e){return!n._selectionStateByKey[e.key]}));i=!o||void 0}this._selectionStateByKey[a.key]=i,a.parent&&a.parent.level>=0&&this._updateParentSelectionState(a,i)}},_updateChildrenSelectionState:function(e,t){var n=this,i=e.children;i&&i.forEach((function(e){n._selectionStateByKey[e.key]=t,e.children.length>0&&n._updateChildrenSelectionState(e,t)}))},_updateSelectionStateCore:function(e,t){for(var n=this._dataController,i=0;i<e.length;i++){this._selectionStateByKey[e[i]]=t;var a=n.getNodeByKey(e[i]);a&&(this._updateParentSelectionState(a,t),this._updateChildrenSelectionState(a,t))}},_getSelectedParentKeys:function(e,t,n){var i,a=this._dataController.getNodeByKey(e),r=a&&a.parent,o=[];while(r&&r.level>=0){o.unshift(r.key);var s=n?!Le(t,r.key)&&this.isRowSelected(r.key):t.indexOf(r.key)>=0;if(s){i=r,o=this._getSelectedParentKeys(i.key,t,n).concat(o);break}if(n)break;r=r.parent}return i&&o||[]},_getSelectedChildKeys:function(e,t){var n=[],i=this._dataController.getNodeByKey(e);return i&&c.foreachNodes(i.children,e=>{var i=t.indexOf(e.key);return i<0&&n.push(e.key),i>0||i<0&&void 0===this._selectionStateByKey[e.key]}),n},_normalizeParentKeys:function(e,t){var n=[e],i=this._getSelectedParentKeys(e,t.selectedRowKeys);if(i.length){n=n.concat(i),n.forEach((function(e){var n=t.selectedRowKeys.indexOf(e);n>=0&&t.selectedRowKeys.splice(n,1)}));var a=this._getSelectedChildKeys(i[0],n);t.selectedRowKeys=t.selectedRowKeys.concat(a)}},_normalizeChildrenKeys:function(e,t){var n=this._dataController.getNodeByKey(e);n&&n.children.forEach(e=>{var n=t.selectedRowKeys.indexOf(e.key);n>=0&&t.selectedRowKeys.splice(n,1),this._normalizeChildrenKeys(e.key,t)})},_normalizeSelectedRowKeysCore:function(e,t,n){var i=this;e.forEach((function(e){if(i.isRowSelected(e)!==n){i._normalizeChildrenKeys(e,t);var a=t.selectedRowKeys.indexOf(e);n?(a<0&&t.selectedRowKeys.push(e),t.currentSelectedRowKeys.push(e)):(a>=0&&t.selectedRowKeys.splice(a,1),t.currentDeselectedRowKeys.push(e),i._normalizeParentKeys(e,t))}}))},_normalizeSelectionArgs:function(e,t){var n,i=Array.isArray(e.keys)?e.keys:[e.keys],a=this.option("selectedRowKeys")||[];return i.length&&(n={currentSelectedRowKeys:[],currentDeselectedRowKeys:[],selectedRowKeys:a.slice(0)},this._normalizeSelectedRowKeysCore(i,n,t)),n},_updateSelectedItems:function(e){this.updateSelectionState(e),this.callBase(e)},_fireSelectionChanged:function(){this._isSelectionNormalizing||this.callBase.apply(this,arguments)},_isModeLeavesOnly:function(e){return"leavesOnly"===e},_removeDuplicatedKeys:function(e){var t=[],n={};return e.forEach(e=>{n[e]||(n[e]=!0,t.push(e))}),t},_getAllChildKeys(e){var t=[],n=this._dataController.getNodeByKey(e);return n&&c.foreachNodes(n.children,(function(e){t.push(e.key)}),!0),t},_getAllSelectedRowKeys:function(e){var t=[];return e.forEach(e=>{var n=this._getSelectedParentKeys(e,[],!0),i=this._getAllChildKeys(e);t.push.apply(t,n.concat([e],i))}),t=this._removeDuplicatedKeys(t),t},_getParentSelectedRowKeys:function(e){var t=this,n=[];return e.forEach(i=>{var a=t._getSelectedParentKeys(i,e);!a.length&&n.push(i)}),n},_getLeafSelectedRowKeys:function(e){var t=[],n=this._dataController;return e.forEach((function(e){var i=n.getNodeByKey(e);i&&!i.hasChildren&&t.push(e)})),t},isRecursiveSelection:function(){var e=this.option("selection.mode"),t=this.option("selection.recursive");return"multiple"===e&&t},updateSelectionState:function(e){var t=e.removedItemKeys||[],n=e.selectedItemKeys||[];this._updateSelectionStateCore(t,!1),this._updateSelectionStateCore(n,!0)},isRowSelected:function(e){var t=this.callBase.apply(this,arguments),n=this.isRecursiveSelection();return!t&&n?e in this._selectionStateByKey&&this._selectionStateByKey[e]:t},getSelectedRowKeys(e){if(!this._dataController)return[];var t=this.callBase.apply(this,arguments);return e&&(this.isRecursiveSelection()&&(t=this._getAllSelectedRowKeys(t)),"all"!==e&&("excludeRecursive"===e?t=this._getParentSelectedRowKeys(t):this._isModeLeavesOnly(e)&&(t=this._getLeafSelectedRowKeys(t)))),t},getSelectedRowsData:function(e){var t=this._dataController,n=this.getSelectedRowKeys(e)||[],i=[];return n.forEach((function(e){var n=t.getNodeByKey(e);n&&i.push(n.data)})),i},refresh:function(){return this._selectionStateByKey={},this.callBase.apply(this,arguments)}}},views:{columnHeadersView:{_processTemplate:function(e,t){var n,i=this,a=this.callBase(e,t),r=i._columnsController.getFirstDataColumnIndex();return n=a&&"header"===t.rowType&&t.column.index===r?{render:function(e){"multiple"===i.option("selection.mode")&&i.renderSelectAll(e.container,e.model),a.render(e)}}:a,n},renderSelectAll:function(e,t){e.addClass(Ne),this._renderSelectAllCheckBox(e)},_isSortableElement:function(e){return this.callBase(e)&&!e.closest("."+Me).length}},rowsView:{_renderIcons:function(e,t){return this.callBase.apply(this,arguments),"multiple"===this.option("selection.mode")&&this.getController("selection").renderSelectCheckBoxContainer(e,t),e},_rowClick:function(e){var t=Object(N["a"])(e.event.target);this.isExpandIcon(t)?this.callBase.apply(this,arguments):De.apply(this,arguments)}}}}}));var Ve=n("4847");c.registerModule("search",Ve["a"]);var Pe=n("ee01");c.registerModule("keyboardNavigation",Object(s["a"])(!0,{},Pe["a"],{extenders:{controllers:{keyboardNavigation:{_leftRightKeysHandler:function(e,t){var n=this.getVisibleRowIndex(),i=this._dataController;if(!e.ctrl)return this.callBase.apply(this,arguments);var a=this._getDirectionCodeByKey(e.keyName),r=i.getKeyByRowIndex(n);"nextInRow"===a?i.expandRow(r):i.collapseRow(r)}}}}}));var Te=n("0374");c.registerModule("virtualColumns",Te["a"]);var ze=n("7b62");function Fe(e,t){var n=-1;return e.forEach((function(e,i){t(e)&&(n=i)})),n}c.registerModule("focus",Object(s["a"])(!0,{},ze["a"],{extenders:{controllers:{data:{changeRowExpand:function(e){return this.option("focusedRowEnabled")&&this.isRowExpanded(e)&&this._isFocusedRowInside(e)&&this.option("focusedRowKey",e),this.callBase.apply(this,arguments)},_isFocusedRowInside:function(e){var t=this.option("focusedRowKey"),n=this.getRowIndexByKey(t),i=n>=0&&this.getVisibleRows()[n],a=i&&i.node.parent;while(a){if(a.key===e)return!0;a=a.parent}return!1},getParentKey:function(e){var t=this._dataSource,n=this.getNodeByKey(e),i=new y["a"];return n?i.resolve(n.parent?n.parent.key:void 0):t.load({filter:[t.getKeyExpr(),"=",e]}).done((function(e){var n=e[0];n?i.resolve(t.parentKeyOf(n)):i.reject()})).fail(i.reject),i.promise()},expandAscendants:function(e){var t=this,n=t._dataSource,i=new y["a"];return t.getParentKey(e).done((function(e){n&&void 0!==e&&e!==t.option("rootValue")?(n._isNodesInitializing=!0,t.expandRow(e),n._isNodesInitializing=!1,t.expandAscendants(e).done(i.resolve).fail(i.reject)):i.resolve()})).fail(i.reject),i.promise()},getPageIndexByKey:function(e){var t=this,n=t._dataSource,i=new y["a"];return t.expandAscendants(e).done((function(){n.load({parentIds:[]}).done((function(n){var a=Fe(n,(function(n){return t.keyOf(n.data)===e})),r=t.pageIndex();a>=0&&(r=Math.floor(a/t.pageSize())),i.resolve(r)})).fail(i.reject)})).fail(i.reject),i.promise()}}}}}));var Ge=n("87cf");c.registerModule("rowDragging",Ge["a"]);var He=Q;t["default"]=He}}]);